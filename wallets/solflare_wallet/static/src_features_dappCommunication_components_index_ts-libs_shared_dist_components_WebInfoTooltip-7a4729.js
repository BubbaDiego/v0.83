"use strict";(self.webpackChunk_solflare_extension=self.webpackChunk_solflare_extension||[]).push([["src_features_dappCommunication_components_index_ts-libs_shared_dist_components_WebInfoTooltip-7a4729"],{"./src/features/backgroundScript/context/index.ts":(e,t,s)=>{s.d(t,{G:()=>a.G,L:()=>a.L});var a=s("./src/features/backgroundScript/context/backgroundClient/index.tsx")},"./src/features/dappCommunication/components/Connect/index.tsx":(e,t,s)=>{s("../../../node_modules/react/jsx-runtime.js"),s("../../../node_modules/react/index.js"),s("../../libs/shared/dist/components/index.js"),s("../../libs/shared/dist/features/dappCommunication/context/index.js"),s("../../libs/shared/dist/features/featureFlags/index.js"),s("../../libs/shared/dist/features/settings/index.js"),s("../../libs/shared/dist/features/shared/autoApproveApps/index.js")},"./src/features/dappCommunication/components/DappEmitAccountChange/index.ts":(e,t,s)=>{s.d(t,{R:()=>r});var a=s("../../../node_modules/react/index.js"),i=s("../../libs/shared/dist/features/walletData/hooks/index.js"),n=s("./src/features/backgroundScript/context/index.ts");const r=()=>{const{loggedIn:e}=(0,i.Rg)(),{publicKey:t}=(0,i.rT)(),s=(0,a.useRef)(null),{accountChange:r}=(0,n.G)();return(0,a.useEffect)((()=>{const a=s.current;e&&t&&a&&t!==a&&r({publicKey:t}),s.current=t}),[e,t,r]),null}},"./src/features/dappCommunication/components/Sign/index.tsx":(e,t,s)=>{s("../../../node_modules/react/jsx-runtime.js"),s("../../../node_modules/react/index.js"),s("../../libs/shared/dist/features/dappCommunication/components/index.js")},"./src/features/dappCommunication/components/index.ts":(e,t,s)=>{s.d(t,{Rl:()=>a.R}),s("./src/features/dappCommunication/components/Connect/index.tsx"),s("./src/features/dappCommunication/components/Sign/index.tsx");var a=s("./src/features/dappCommunication/components/DappEmitAccountChange/index.ts")},"../../libs/shared/dist/api/index.js":(e,t,s)=>{s.d(t,{IV:()=>u,U2:()=>d,gz:()=>c,v_:()=>l});var a=s("../../libs/shared/node_modules/axios/lib/axios.js"),i=s("../../libs/shared/dist/storage/solflareService.js"),n=s("../../libs/shared/dist/utils/requestId.js");const r={"X-Cache-Bypass":"no-cache","Cache-Control":"no-cache, must-revalidate",Pragma:"no-cache",Expires:"0"},o=async(e,t)=>{const s=await i.Z.solflarenetwork.get();return{headers:{...e,...r,Authorization:`Bearer ${(0,n.A)(s)}`},...t}},d=async(e,{headers:t,...s}={})=>{const i=await o(t,s),n=await a.Z.get(e,i);return{body:n.data,status:n.status}},l=async(e,t,{headers:s,...i}={})=>{const n=await o(s,i),r=await a.Z.post(e,t??{},n);return{body:r.data,status:r.status}},c=async(e,t,{headers:s,...i}={})=>{const n=await o(s,i),r=await a.Z.put(e,t??{},n);return{body:r.data,status:r.status}},u=async(e,{headers:t,...s}={})=>{const i=await o(t,s),n=await a.Z.delete(e,i);return{body:n.data,status:n.status}}},"../../libs/shared/dist/components/ConfirmationHelpers/ConfirmationStaking.js":(e,t,s)=>{s.d(t,{Z:()=>b});var a=s("../../../node_modules/react/jsx-runtime.js"),i=s("../../../node_modules/react-i18next/dist/es/useTranslation.js"),n=s("../../libs/foundation-ui/dist/index.js"),r=s("../../libs/shared/dist/constants/mints.js"),o=s("../../libs/shared/dist/features/currencies/hooks/index.js"),d=s("../../libs/shared/dist/features/portfolio/hooks/index.js"),l=s("../../libs/shared/dist/utils/displayPrice.js"),c=s("../../libs/shared/dist/utils/extension.js"),u=s("../../libs/shared/dist/components/TokenAvatar/index.js"),m=s("../../libs/shared/dist/components/ConfirmationHelpers/assets/stake_in.json"),p=s("../../libs/shared/dist/components/ConfirmationHelpers/assets/stake_out.json"),f=s("../../libs/shared/dist/components/ConfirmationHelpers/LottieIllustration.js"),h=s("../../libs/shared/dist/components/ConfirmationHelpers/NetworkFeeListItem.js");const b=({amount:e,validatorName:t,validatorImage:s,animation:b,onAnimationEnd:x})=>{const{t:g}=(0,i.$)(),{data:k}=(0,d.Dm)(),{value:y,prefix:j,price:v}=(0,o.yF)(e,k?.price?.price);return(0,a.jsx)(n.Confirmation,{isExtension:c.UJ,illustration:(0,a.jsx)(f.u,{play:!0,loop:!1,onComplete:x,animationData:"in"===b?m:p},b),listItemsTop:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.ListItemS,{left:(0,a.jsx)(n.ListItemSLeftTitleAndSubtitle,{title:(0,a.jsx)(n.ListItemSLeftTitleAndSubtitleTitle,{children:g("confirm_transaction_token_label")})}),children:(0,a.jsxs)(n.ListItemSRightAmountAndValue,{children:[(0,a.jsxs)(n.ListItemSRightAmount,{children:[(0,a.jsx)(u.y,{src:r.vx.logoURI,verified:!0,size:"s"}),(0,l.ED)({amount:e,displayType:"solana",suffix:" SOL"})]}),(0,a.jsx)(n.ListItemSRightValue,{children:v?(0,l.ED)({amount:y,displayType:"value",prefix:j}):void 0})]})}),(0,a.jsx)(n.ListItemS,{left:(0,a.jsx)(n.ListItemSLeftTitleAndSubtitle,{title:(0,a.jsx)(n.ListItemSLeftTitleAndSubtitleTitle,{children:g("confirm_transaction_validator_label")})}),children:(0,a.jsx)(n.ListItemSRightAmountAndValue,{children:(0,a.jsxs)(n.ListItemSRightAmount,{children:[(0,a.jsx)(n.ValidatorAvatar,{src:s,size:"s"}),t]})})})]}),listItemsBottom:(0,a.jsx)(h.x,{})})}},"../../libs/shared/dist/components/WebInfoTooltip/index.js":(e,t,s)=>{s.d(t,{s:()=>n});var a=s("../../../node_modules/@mui/system/esm/styled.js"),i=s("../../libs/foundation-ui/dist/index.js");const n=(0,a.Z)(i.InfoWithTooltip)({zIndex:i.Z_INDEX_TOOLTIP})},"../../libs/shared/dist/constants/index.js":(e,t,s)=>{s.d(t,{JF:()=>a,Qv:()=>i,go:()=>n});const a="https://wallet-api.solflare.com",i="https://activity-api.solflare.com",n=16},"../../libs/shared/dist/constants/mints.js":(e,t,s)=>{s.d(t,{BH:()=>i,Jb:()=>n,Xz:()=>r,oR:()=>o,vx:()=>a});const a={name:"Solana",symbol:"SOL",logoURI:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/solana/info/logo.png"},i="11111111111111111111111111111111",n="So11111111111111111111111111111111111111112",r="EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",o="Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"},"../../libs/shared/dist/constants/networks.js":(e,t,s)=>{s.d(t,{EE:()=>a,g5:()=>d,pX:()=>r,vo:()=>i});const a={mainnet:"mainnet",devnet:"devnet",testnet:"testnet"},i={mainnet:101,testnet:102,devnet:103},n={mainnet:"https://rpc-mainnet-failover.solflare.com",devnet:"https://rpc-devnet-failover.solflare.com",testnet:"https://rpc-testnet-failover.solflare.com"},r={mainnet:"https://wallet-api.solflare.com/v2/tx/rpc-extended/mainnet",devnet:"https://wallet-api.solflare.com/v2/tx/rpc-extended/devnet",testnet:"https://wallet-api.solflare.com/v2/tx/rpc-extended/testnet"},o={mainnet:"https://wallet-api.solflare.com/v2/tx/jito/send-bundle",devnet:"https://wallet-api.solflare.com/v2/tx/jito/send-bundle",testnet:"https://wallet-api.solflare.com/v2/tx/jito/send-bundle"},d=(a.mainnet,a.devnet,a.testnet,{mainnet:{cluster:a.mainnet,name:"Mainnet",url:"https://mainnet-beta.solflare.network",failoverUrl:n[a.mainnet],sendUrl:r[a.mainnet],bundledSendUrl:o[a.mainnet]},testnet:{cluster:a.testnet,name:"Testnet",url:"https://api.testnet.solana.com",failoverUrl:n[a.testnet],sendUrl:r[a.testnet],bundledSendUrl:o[a.testnet]},devnet:{cluster:a.devnet,name:"Devnet",url:"https://api.devnet.solana.com",failoverUrl:n[a.devnet],sendUrl:r[a.devnet],bundledSendUrl:o[a.devnet]}})},"../../libs/shared/dist/constants/notifications.js":(e,t,s)=>{s.d(t,{E5:()=>i,Tc:()=>n,x3:()=>a});const a="fcm",i=["solflare-general"],n=["inbound-sol","inbound-spl","inbound-nft"]},"../../libs/shared/dist/constants/validatorStatus.js":(e,t,s)=>{var a;s.d(t,{n:()=>a}),function(e){e.Active="active",e.Inactive="inactive"}(a||(a={}))},"../../libs/shared/dist/features/activity/components/ExtLineItem/index.js":(e,t,s)=>{s.d(t,{v:()=>n});var a=s("../../../node_modules/react/jsx-runtime.js"),i=s("../../libs/foundation-ui/dist/index.js");const n=e=>(0,a.jsx)(i.ActivityListItem,{loading:e.loading,title:e.title,subtitle:e.subtitle,avatar:e.avatar,children:e.balances})},"../../libs/shared/dist/features/activity/context/KnownAddressesRegistryContext/index.js":(e,t,s)=>{s.d(t,{h:()=>l,j:()=>d});var a=s("../../../node_modules/react/jsx-runtime.js"),i=s("../../../node_modules/react/index.js"),n=s("../../libs/shared/dist/features/addressBook/context/index.js"),r=s("../../libs/shared/dist/features/walletData/hooks/index.js");const o=(0,i.createContext)(null),d=({children:e})=>{const{accounts:t}=(0,r.Rg)(),{addresses:s}=(0,n.b)(),d=(0,i.useMemo)((()=>{const e={};for(const s of t)e[s.publicKey]=s.name;for(const t of s)e[t.pubkey]=t.name;return e}),[t,s]);return(0,a.jsx)(o.Provider,{value:d,children:e})},l=()=>{const e=(0,i.useContext)(o);if(!e)throw new Error("useKnownAddressesRegistry must be used within KnownAddressesRegistryProvider");return e}},"../../libs/shared/dist/features/activity/context/index.js":(e,t,s)=>{s.d(t,{j:()=>a.j});var a=s("../../libs/shared/dist/features/activity/context/KnownAddressesRegistryContext/index.js")},"../../libs/shared/dist/features/activity/hooks/index.js":(e,t,s)=>{s.d(t,{T:()=>f});var a=s("../../../node_modules/react/index.js"),i=s("../../../node_modules/lodash/lodash.js"),n=s("../../libs/shared/dist/features/globalConfig/hooks/index.js"),r=s("../../libs/shared/dist/features/walletData/hooks/index.js"),o=s("../../libs/shared/dist/storage/solflareService.js"),d=s("../../libs/shared/dist/utils/requestId.js"),l=s("../../../node_modules/console-browserify/index.js");const c="https://activity-api.solflare.com",u="<|EOF|>";async function*m(e,t,s,a,i){if(!e)return;const n=await o.Z.solflarenetwork.get();try{const r=(await fetch(`${c}/v1/transactions?network=${t}`,{method:"post",headers:{"Content-Type":"application/json",Authorization:`Bearer ${(0,d.A)(n)}`},body:JSON.stringify({language:s,layout:i,address:e,signatures:a})})).body.getReader();yield*p(r)}catch(e){l.log("error",e)}}async function*p(e){let t="";for(;;){const{done:s,value:a}=await e.read();if(s)break;t+=(new TextDecoder).decode(a);const i=t.split(u);if(1!==i.length){for(let e=0;e<i.length-1;e++){const t=JSON.parse(i[e]);yield t}t=i[i.length-1]}}}function f({layout:e}){const t=(0,n.LN)(),{publicKey:s}=(0,r.rT)(),[u,f]=(0,a.useState)(!0),[h,b]=(0,a.useState)(!1),[x,g]=(0,a.useState)([]),[k,y]=(0,a.useState)([]),[j,v]=(0,a.useState)([]),[w,_]=(0,a.useState)({}),S=(0,a.useRef)(j),C=(0,a.useRef)(w);(0,a.useEffect)((()=>{S.current=j}),[j]),(0,a.useEffect)((()=>{C.current=w}),[w]);const A=e=>{e&&(_((t=>({...t,...e.data.reduce(((e,s)=>({...e,[s.hash]:{...t[s.hash]??{},...s}})),{})}))),v((t=>"append"===e.position?[...t,...e.data]:[...e.data,...t])))};return{loadTransactions:async(a,n)=>{if(!a.length)return;const r=a[0].index,o=a[a.length-1].index,d=S.current.map((e=>e.hash)).slice(r,o+10);let l=(0,i.difference)(d,k);if(l=(0,i.difference)(l,x),l.length){g((e=>[...e,...l])),setTimeout((()=>{g((e=>(0,i.difference)(e,l)))}),1e3);for await(const a of m(s,t.cluster,n,l,e))y((e=>[...e,...l])),_((e=>({...e,...a?.data?.reduce(((t,s)=>({...t,[s.hash]:{...e[s.hash]??{},...s}})),{})})))}},loadSignatures:async({publicKey:e,onlyNewer:s=!1,ignoreFailed:a,limit:i=0})=>{if(s||S.current.length){f(!1),b(!0);for await(const s of async function*(e,t,s,a=!1,i=0){if(!e||!s)return;const n=await o.Z.solflarenetwork.get();try{const r=(await fetch(`${c}/v1/signatures/newer?address=${e}&lastSignature=${s}&network=${t}&ignoreFailed=${+a}&limit=${i}`,{headers:{Authorization:`Bearer ${(0,d.A)(n)}`}})).body.getReader();for await(const e of p(r))yield e}catch(e){l.log("error",e)}}(e,t.cluster,S.current[0]?.hash,a,i))A(s);b(!1)}else{f(!0),v([]),_({});for await(const s of async function*(e,t,s=!1,a=0){if(!e)return;const i=await o.Z.solflarenetwork.get();try{const n=(await fetch(`${c}/v1/signatures?address=${e}&network=${t}&ignoreFailed=${+s}&limit=${a}`,{headers:{Authorization:`Bearer ${(0,d.A)(i)}`}})).body.getReader();for await(const e of p(n))yield e}catch(e){l.log("error",e)}}(e,t.cluster,a,i))A(s);f(!1)}},loadLimitTransactions:async a=>{const i=S.current.map((e=>e.hash));for await(const n of m(s,t.cluster,a,i,e))_((e=>({...e,...n?.data?.reduce(((t,s)=>({...t,[s.hash]:{...e[s.hash]??{},...s}})),{})})))},signatures:j,transactions:w,isLoading:u,isPreloading:h}}},"../../libs/shared/dist/features/activity/utils/index.js":(e,t,s)=>{s.d(t,{Q:()=>y});var a=s("../../../node_modules/react/jsx-runtime.js"),i=s("../../../node_modules/react-i18next/dist/es/useTranslation.js"),n=s("../../../node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js"),r=s("../../libs/foundation-ui/dist/index.js"),o=s("../../libs/shared/dist/hooks/index.js"),d=s("../../libs/shared/dist/utils/truncateMiddle.js"),l=s("../../libs/shared/dist/features/pfp/components/index.js"),c=s("../../libs/shared/dist/features/activity/context/KnownAddressesRegistryContext/index.js");const u=(0,n.Z)("div")({all:"unset","&:hover":{opacity:.7}}),m=(0,n.Z)("div")({marginRight:8}),p=(0,n.Z)("div")({display:"flex",alignItems:"center",maxWidth:170});var f=s("../../libs/shared/dist/utils/iconMap.js"),h=s("../../libs/shared/dist/utils/displayPrice.js"),b=s("../../libs/shared/dist/features/activity/components/ExtLineItem/index.js");const x=(0,n.Z)(r.Icon)({color:"rgba(245, 248, 255, 0.40) !important"});var g=s("../../libs/shared/dist/features/activity/components/WebLineItem/index.js");const k={Avatar:e=>(0,a.jsx)(r.ActivityAvatar,{src:e.src,icon:(0,f.q)(e.icon),shape:e.shape}),AvatarDouble:e=>(0,a.jsx)(r.ActivityDoubleAvatar,{src1:e.src1,icon1:(0,f.q)(e.icon1),shape1:e.shape1,src2:e.src2,icon2:(0,f.q)(e.icon2),shape2:e.shape2}),Text:e=>(0,a.jsx)(r.Typography,{variant:"textS",color:"inherit",children:e.content}),Icon:e=>(0,a.jsx)(x,{icon:(0,f.q)(e.name),size:"xs"}),Address:e=>{const t=(0,c.h)(),{openExplorer:s}=(0,o.Vf)(),{t:n}=(0,i.$)();return(0,a.jsxs)(p,{children:[e.withAvatar&&(0,a.jsx)(m,{children:(0,a.jsx)(l.y,{size:"s",publicKey:e.content})}),t.hasOwnProperty(e.content)?(0,a.jsx)(u,{onClick:t=>{t.stopPropagation(),s({type:"account",address:e.content})},children:(0,a.jsx)(r.Tooltip,{content:n("action_view_in_explorer"),children:(0,a.jsx)(r.Typography,{variant:"textS",color:"inherit",children:t[e.content]})})}):(0,a.jsx)(u,{onClick:t=>{t.stopPropagation(),s({type:"account",address:e.content})},children:(0,a.jsx)(r.Tooltip,{content:n("action_view_in_explorer"),children:(0,a.jsx)(r.Typography,{variant:"textS",color:"inherit",children:(0,d.r)(e.content)})})})]})},ExtLineItem:b.v,Balances:e=>{const t=e.positives?.map((t=>({...t,image:t.image,amount:e.format?`+${(0,h.ED)({amount:t.amount,pricePerCoin:t.price,displayType:"amount"})}`:`+${t.amount}`})))??[],s=e.negatives?.map((t=>({...t,image:t.image,amount:e.format?(0,h.ED)({amount:t.amount,pricePerCoin:t.price,displayType:"amount"}):t.amount})))??[],i="details"===e.layout?r.ActivityDetailsBalances:r.ActivityBalances;return(0,a.jsx)(i,{shorterNames:e.shorterNames,failedText:e.failedText,withImage:e.withImage,positives:t,negatives:s})},WebLineItem:g.X};function y(e,t={}){if("object"!=typeof e||!e)return e;if(Array.isArray(e))return e.map((e=>y(e)));if(void 0===e.type){const t={},s=Object.keys(e);for(const a of s)t[a]=y(e[a]);return t}if(Object.keys(k).includes(e.type)){const s=k[e.type],i=e.props,n={};for(const e of i)e.value&&"object"==typeof e.value?Array.isArray(e.value)?n[e.name]=e.value.map((e=>y(e))):n[e.name]=y(e.value):n[e.name]=e.value;return(0,a.jsx)(s,{...n,...t})}}},"../../libs/shared/dist/features/addressBook/hooks/useAddressBook.js":(e,t,s)=>{s.d(t,{T:()=>u});var a=s("../../../node_modules/react/index.js"),i=s("../../../node_modules/react-i18next/dist/es/useTranslation.js"),n=s("../../../node_modules/react-router/dist/index.js"),r=s("../../libs/shared/dist/constants/routes.js"),o=s("../../libs/shared/dist/features/recentAddresses/context/index.js"),d=s("../../libs/shared/dist/hooks/index.js"),l=s("../../libs/shared/dist/utils/extension.js"),c=s("../../libs/shared/dist/features/addressBook/context/index.js");const u=()=>{const[e,t]=(0,a.useState)(!1),[s,u]=(0,a.useState)(!1),m=(0,n.s0)(),{addAddress:p,updateAddress:f,removeAddress:h,addresses:b}=(0,c.b)(),{upsertAddress:x}=(0,o.g)(),{closableNotification:g}=(0,d.hn)(),{t:k}=(0,i.$)(),y=(0,a.useCallback)((async(e,s)=>{t(!0),await p({name:e,address:s}),t(!1),l.UJ&&m(r.s2.ADDRESS_BOOK.MAIN),g({message:k("address_book_contact_added"),variant:"success",autoHideDuration:3e3,onClick:()=>{}})}),[p,m,g,k]),j=(0,a.useCallback)((async(e,t,s)=>{-1!==b.findIndex((e=>e.address===s))&&(u(!0),await f(s,{name:e,address:t}),u(!1),l.UJ&&m(r.s2.ADDRESS_BOOK.MAIN),g({message:k("address_book_contact_edited"),variant:"success",autoHideDuration:3e3,onClick:()=>{}}))}),[b,f,m,g,k]),v=(0,a.useCallback)((async e=>{await h(e),g({message:k("address_book_contact_removed"),variant:"success",autoHideDuration:3e3,onClick:()=>{}})}),[h,g,k]),w=(0,a.useCallback)((async(e,t)=>{await x(e,t,!0),g({message:k("address_book_contact_removed"),variant:"success",autoHideDuration:3e3,onClick:()=>{}})}),[g,k,x]);return(0,a.useMemo)((()=>({handleSubmitAddContact:y,handleSubmitEditContact:j,handleRemoveContact:v,handleRemoveRecent:w,isAddingContact:e,isEditingContact:s})),[y,j,v,w,e,s])}},"../../libs/shared/dist/features/amountInput/utils.js":(e,t,s)=>{s.d(t,{$:()=>i});var a=s("../../libs/shared/dist/utils/common.js");const i=(e,t)=>{const s=e.includes(",")?e.replace(",",".").trim():e.trim(),i=(0,a.T4)(s);if("."===s||","===s)return"0.";if("e"===s||"E"===s||"-"===s)return"";if(!(0,a.w9)(s,t)||!i)throw new Error("More decimals then allowed or input is not valid.");return s}},"../../libs/shared/dist/features/chart/api/index.js":(e,t,s)=>{s.d(t,{W:()=>a.W});var a=s("../../libs/shared/dist/features/chart/api/requests.js")},"../../libs/shared/dist/features/chart/utils/isStableCoin.js":(e,t,s)=>{s.d(t,{e:()=>i});var a=s("../../libs/shared/dist/constants/mints.js");const i=e=>[a.Xz,a.oR].includes(e)},"../../libs/shared/dist/features/currencies/hooks/index.js":(e,t,s)=>{s.d(t,{__:()=>a._,EV:()=>i.E,$T:()=>d.$,Af:()=>n.A,yF:()=>o});var a=s("../../libs/shared/dist/features/currencies/hooks/useCurrencyDisplay.js"),i=s("../../libs/shared/dist/features/currencies/hooks/useCurrencyDisplayState.js"),n=s("../../libs/shared/dist/features/currencies/hooks/useCurrentCurrency.js"),r=s("../../libs/shared/dist/features/currencies/utils/index.js");const o=(e,t=0)=>{const s=(0,n.A)(),a=Number(t)||0;return{value:Number(e)*a,prefix:(0,r.MK)(s.ticker,s.symbol),price:a}};var d=s("../../libs/shared/dist/features/currencies/hooks/useCurrencyFormatter.js")},"../../libs/shared/dist/features/dappCommunication/context/DappInfo/index.js":(e,t,s)=>{s.d(t,{N:()=>n,s:()=>i});var a=s("../../../node_modules/react/index.js");const i=(0,a.createContext)({origin:"",host:"",title:"",blinkUrl:void 0}),n=()=>(0,a.useContext)(i)},"../../libs/shared/dist/features/featureFlags/constants/index.js":(e,t,s)=>{s.d(t,{Go:()=>a,Lu:()=>i,SU:()=>n,qX:()=>r});const a="Initialize",i="CloseClicked",n="CTAClicked",r="page"},"../../libs/shared/dist/features/featureFlags/nftSingle/index.js":(e,t,s)=>{s.d(t,{C4:()=>l,KZ:()=>n,Qc:()=>r,Yn:()=>u,cq:()=>d,uK:()=>c,ub:()=>o});var a=s("../../libs/shared/dist/utils/featureFlags.js");const i="NftSingle",n=e=>a.Z.c(i,"SetAsPfpClicked",e),r=()=>a.Z.c(i,"RemoveAsPfpClicked"),o=()=>a.Z.c(i,"Save"),d=()=>a.Z.c(i,"ViewInExplorer"),l=()=>a.Z.c(i,"ViewOnTensor"),c=e=>a.Z.c(i,"MarkAsSpam",e),u=e=>a.Z.c(i,"UnmarkAsSpam",e)},"../../libs/shared/dist/features/featureFlags/promo/index.js":(e,t,s)=>{s.d(t,{A:()=>u,J6:()=>d,Jz:()=>l,Mb:()=>c,kk:()=>m});var a=s("../../libs/shared/dist/utils/featureFlags.js");const i="Banner",n="IntermediaryScreen",r="CTAClicked",o="CloseClicked",d="/intermediaryRoute",l=async e=>a.Z.c(i,r,e),c=async e=>a.Z.c(i,o,e),u=async e=>a.Z.c(n,r,e),m=async({page:e})=>a.Z.c(n,o,{page:e})},"../../libs/shared/dist/features/featureFlags/receive/index.js":(e,t,s)=>{s.d(t,{Y:()=>n,e:()=>i});var a=s("../../libs/shared/dist/utils/featureFlags.js");const i=(e,t)=>{a.Z.pv(e,{source:t})},n=e=>{a.Z.c("PortfolioReceive","CopyAddress",{source:e})}},"../../libs/shared/dist/features/featureFlags/signTx/index.js":(e,t,s)=>{s.d(t,{Ad:()=>x,D6:()=>p,Ic:()=>o,Iz:()=>r,Nk:()=>l,T4:()=>b,WG:()=>c,Ww:()=>n,Y$:()=>f,jV:()=>d,ml:()=>m,tP:()=>u,vH:()=>h});var a=s("../../libs/shared/dist/utils/featureFlags.js");const i="SignTx",n=e=>{a.Z.c(i,"Stake",e)},r=e=>{a.Z.c(i,"Unstake",e)},o=e=>{a.Z.c(i,"InstantUnstake",e)},d=e=>{a.Z.c(i,"Swap",e)},l=e=>a.Z.c(i,"Delist",e),c=e=>a.Z.c(i,"SendNftSingle",e),u=e=>a.Z.c(i,"SendNftMultiple",e),m=e=>a.Z.c(i,"SendToken",e),p=e=>a.Z.c(i,"CloseTokenAccount",e),f=async e=>a.Z.c(i,"External",e),h=async e=>a.Z.c(i,"SplitStake",e),b=async e=>a.Z.c(i,"WithdrawStake",e),x=async e=>a.Z.c(i,"CloseStakeAccount",e)},"../../libs/shared/dist/features/featureFlags/swap/index.js":(e,t,s)=>{s.d(t,{Wz:()=>n,lh:()=>o,ml:()=>d,n$:()=>r,xN:()=>l});var a=s("../../libs/shared/dist/utils/featureFlags.js");const i="Swap",n=()=>{a.Z.c(i,"MaxCTA")},r=()=>{a.Z.c(i,"TooltipBuyClick")},o=()=>{a.Z.c(i,"TooltipRateClick")},d=()=>{a.Z.c(i,"TooltipMinimumReceivedClick")},l=()=>{a.Z.c(i,"SwitchTokenPlace")}},"../../libs/shared/dist/features/featureFlags/whatsNew/index.js":(e,t,s)=>{s.d(t,{FA:()=>o,Ve:()=>r,n4:()=>n,tR:()=>d});var a=s("../../libs/shared/dist/utils/featureFlags.js"),i=s("../../libs/shared/dist/features/featureFlags/constants/index.js");const n="/whatIsNewRebrand",r="RebrandWhatsNewPopup",o=(e,t)=>{a.Z.c(e,i.Lu,{[i.qX]:t})},d=e=>{a.Z.c(e,i.SU)}},"../../libs/shared/dist/features/globalConfig/hooks/useAutoLock.js":(e,t,s)=>{s.d(t,{e:()=>o});var a=s("../../../node_modules/react/index.js"),i=s("../../libs/shared/dist/constants/autolock.js"),n=s("../../libs/shared/dist/storage/solflareService.js"),r=s("../../libs/shared/dist/features/globalConfig/context/index.js");const o=()=>{const{autoLock:e,setAutoLockTime:t,setAutoLockEnabled:s}=(0,r.A)(),o=(0,a.useCallback)((async e=>{const a=e!==i.pT.NEVER;t(e),s(a),await n.Z.solflareconfig.setField("autoLockTime",e),await n.Z.solflareconfig.setField("autoLock",a)}),[s,t]);return{autoLock:e,setDefaultAutoLock:(0,a.useCallback)((async()=>{await o(i.pT.TWENTY_FOUR_HOURS)}),[o]),changeAutoLock:o}}},"../../libs/shared/dist/features/nfts/api/flags.js":(e,t,s)=>{s.d(t,{T:()=>i});var a=s("../../libs/shared/dist/api/index.js");const i=async({addresses:e,flag:t,network:s="mainnet",publicKey:i,timestamp:n,signature:r})=>{const{body:o}=await(0,a.v_)("https://wallet-api.solflare.com/v2/flag/manage",{addresses:e,flag:t,network:s,publicKey:i,timestamp:n,type:"mint",signature:r});return o}},"../../libs/shared/dist/features/nfts/components/SingleNFTAttributes/index.js":(e,t,s)=>{s.d(t,{j:()=>p});var a=s("../../../node_modules/react/jsx-runtime.js"),i=s("../../../node_modules/react/index.js"),n=s("../../../node_modules/react-i18next/dist/es/useTranslation.js"),r=s("../../../node_modules/lodash/lodash.js"),o=s("../../libs/foundation-ui/dist/index.js"),d=s("../../libs/shared/dist/assets/solana-logo-grey.svg"),l=s("../../libs/shared/dist/utils/displayPrice.js"),c=s("../../libs/shared/dist/features/nfts/hooks/index.js"),u=s("../../libs/shared/dist/features/nfts/queries/nftData.js"),m=s("../../libs/shared/dist/features/nfts/utils/index.js");const p=({NFTAttributesComponent:e,NFTAttributeComponent:t})=>{const{t:s}=(0,n.$)(),{nft:p}=(0,c.ix)(),{data:{marketData:f}={},isPending:h}=(0,u.c)(p.id,{enabled:(0,m.Kl)(p)}),b=(0,i.useMemo)((()=>{const e=f?.traits||[],t=p.attributes?.map(((t,s)=>{const a=e[s];return{value:t.value,field:t.traitType,rarity:a?.percentage||0,floorPrice:a?.floorPrice||0}}));return(0,r.orderBy)(t,["floorPrice"],["desc"])}),[p.attributes,f]);return(0,a.jsx)(e,{title:s("nft_details_attributes").toUpperCase(),children:b.map((e=>(0,a.jsxs)(t,{dataKey:e.field,isLoading:h&&(0,m.Kl)(p),label:e.field,children:[(0,a.jsx)(o.AttributeTitle,{title:e.value}),(0,a.jsx)(o.AttributePriceAndRarity,{rarity:e.rarity>0?(0,m.IW)(e.rarity):void 0,floorPrice:e.floorPrice>0?(0,l.ED)({amount:e.floorPrice,displayType:"value"}):void 0,priceSymbol:e.floorPrice>0&&(0,a.jsx)("img",{src:d,alt:"Solana"})})]},e.field)))})}},"../../libs/shared/dist/features/nfts/components/SingleNFTHeaderActionsMenu/index.js":(e,t,s)=>{s.d(t,{a:()=>f});var a=s("../../../node_modules/react/jsx-runtime.js"),i=s("../../../node_modules/react-i18next/dist/es/useTranslation.js"),n=s("../../libs/foundation-ui/dist/index.js"),r=s("../../libs/shared/dist/hooks/index.js"),o=s("../../libs/shared/dist/features/featureFlags/index.js"),d=s("../../libs/shared/dist/features/pfp/queries/index.js"),l=s("../../libs/shared/dist/features/portfolio/hooks/index.js"),c=s("../../libs/shared/dist/features/walletData/hooks/index.js"),u=s("../../libs/shared/dist/features/nfts/hooks/index.js"),m=s("../../libs/shared/dist/features/nfts/queries/nftData.js"),p=s("../../libs/shared/dist/features/nfts/utils/index.js");const f=()=>{const{t:e}=(0,i.$)(),{publicKey:t}=(0,c.rT)(),{nft:s,download:f,send:h,markAsSuspicious:b,markAsLegitimate:x,setAsPfp:g,removeAsPfp:k}=(0,u.ix)(),{data:{marketData:y}={}}=(0,m.c)(s.id,{enabled:(0,p.Kl)(s)}),{data:j}=(0,l.Dm)(),{data:v}=(0,d.F)(t),{openExplorer:w}=(0,r.Vf)(),_=j?.price?.usdPrice;return(0,a.jsx)(n.MoreOptionsDropdown,{"data-id":"nft-more-actions-button",trigger:(0,a.jsx)(n.IconWithAction,{icon:"more_vert"}),children:(0,a.jsxs)(n.MoreOptionsList,{children:[(0,a.jsx)(n.MoreOptionsDropdownItem,{icon:"language",onClick:()=>{(0,o.cq)(),w({type:s.compressed?"cNFT":"token",address:s.id})},"data-id":"view-in-explorer-action",children:e("action_view_on_explorer")}),s.listed&&(0,a.jsx)(n.MoreOptionsDropdownItem,{icon:"globe",onClick:()=>{(0,o.C4)(),window.open(`https://www.tensor.trade/item/${s.id}`,"_blank")},"data-id":"view-on-tensor-action",children:e("action_view_on_tensor")}),!s.compressed&&!s.listed&&!s.metaplexCore&&(0,a.jsx)(a.Fragment,{children:v&&v.mintAccount===s.id?(0,a.jsx)(n.MoreOptionsDropdownItem,{icon:"account_circle",onClick:k,"data-id":"remove-as-pfp-action",children:e("nfts_remove_as_pfp")}):!(0,p.Pl)(s)&&(0,a.jsx)(n.MoreOptionsDropdownItem,{icon:"account_circle",onClick:g,"data-id":"set-as-pfp-action",children:e("nfts_set_as_pfp")})}),(0,p.Pl)(s)&&(0,a.jsx)(n.MoreOptionsDropdownItem,{icon:"send",onClick:h,"data-id":"send-action",children:e("action_send")}),!(0,p.Pl)(s)&&(0,a.jsx)(n.MoreOptionsDropdownItem,{icon:"save_alt",onClick:f,"data-id":"download-action",children:e("action_download")}),!s.listed&&!(0,p.gO)(s)&&(0,a.jsx)(n.MoreOptionsDropdownItem,{icon:"report",onClick:(0,p.DQ)(s)?async()=>{(0,o.Yn)((0,p.Ng)(s,y,_)),await x()}:async()=>{(0,o.uK)((0,p.i0)(s,y,_)),await b()},"data-id":(0,p.DQ)(s)?"unmark-as-spam-action":"mark-as-spam-action",children:(0,p.DQ)(s)?e("nfts_action_mark_as_verified"):e("nfts_action_mark_as_unverified")})]})})}},"../../libs/shared/dist/features/nfts/constants.js":(e,t,s)=>{s.d(t,{A7:()=>i,YF:()=>r,Yn:()=>d,dY:()=>o,mr:()=>n});var a=s("../../libs/shared/dist/assets/nft-default-img-white-bg.svg");const i=s("../../libs/shared/dist/assets/nft-default-img.svg"),n=a,r="image";var o,d;!function(e){e.TOTAL_VALUE="total-value",e.FLOOR_PRICE="floor-price",e.BEST_PERFORMANCE="best-performance",e.BY_NEWEST="newest",e.ALPHABETICALLY="alphabetically",e.RARITY="rarity"}(o||(o={})),function(e){e[e.NonFungible=0]="NonFungible",e[e.FungibleAsset=1]="FungibleAsset",e[e.Fungible=2]="Fungible",e[e.NonFungibleEdition=3]="NonFungibleEdition",e[e.ProgrammableNonFungible=4]="ProgrammableNonFungible"}(d||(d={}))},"../../libs/shared/dist/features/nfts/context/ListTutorial/index.js":(e,t,s)=>{s.d(t,{G7:()=>o});var a=s("../../../node_modules/react/jsx-runtime.js"),i=s("../../../node_modules/react/index.js"),n=s("../../libs/shared/dist/storage/solflareService.js");const r=(0,i.createContext)(null),o=({children:e})=>{const[t,s]=(0,i.useState)(!1);(0,i.useEffect)((()=>{n.Z.nftListTensorTutorial.get().then((e=>"boolean"==typeof e&&s(e)))}),[]);const o=(0,i.useCallback)((async()=>{s(!0),await n.Z.nftListTensorTutorial.set(!0)}),[]),d=(0,i.useMemo)((()=>({isTutorialDisplayed:t,setTutorialAsDisplayed:o})),[t,o]);return(0,a.jsx)(r.Provider,{value:d,children:e})}},"../../libs/shared/dist/features/nfts/context/NFT/index.js":(e,t,s)=>{s.d(t,{P:()=>b,$:()=>x});var a=s("../../../node_modules/react/jsx-runtime.js"),i=s("../../../node_modules/react/index.js"),n=s("../../../node_modules/dayjs/dayjs.min.js"),r=s.n(n),o=s("../../libs/shared/dist/storage/solflareService.js"),d=s("../../libs/shared/dist/features/globalConfig/hooks/index.js"),l=s("../../libs/shared/dist/features/walletData/hooks/index.js"),c=s("../../libs/shared/dist/features/nfts/api/flags.js"),u=s("../../libs/shared/dist/features/nfts/constants.js"),m=s("../../libs/shared/dist/features/nfts/utils/transferUtils.js");const p=()=>{},f={isSelectMode:!1,selectedIds:new Map,setSelectedIds:p,toggleSelected:p,isGridView:!1,handleGridClick:p,setIsDrawerOpen:p,isDrawerOpen:!1,sortedGroupKey:"",setSortedGroupKey:p,sortedKey:"",handleSortClick:p,handleSortGroupClick:p,selectAll:p,toggleVisibleContext:p,isVisibleContextSelected:!1,setIsVisibleContextSelected:p,searchTerm:"",setSearchTerm:p,selectedIdsCount:0,setSelectedIdsCount:p,isJunkHidden:null,setIsJunkHidden:p,isRarityDisplayed:!0,setIsRarityDisplayed:p,nftsToTransfer:[],setNftsToTransfer:p,isTransferInProgress:!1,setIsTransferInProgress:p,receiveModalOpen:!1,setReceiveModalOpen:p,isSendTransfer:!0,setIsSendTransfer:p,markedAsSpam:null,setMarkedAsSpam:p,isContextStateLoading:!0,setIsContextStateLoading:p,onMarkAsSpamClick:async()=>{},userJunkPreference:!0,setUserJunkPreference:p},h=(0,i.createContext)(f),b=({children:e})=>{const{isSelectMode:t,selectedIds:s,toggleSelected:n,isGridView:p,handleGridClick:f,setIsDrawerOpen:b,isDrawerOpen:x,setSelectedIds:g,toggleVisibleContext:k,selectAll:y,isVisibleContextSelected:j,setIsVisibleContextSelected:v,searchTerm:w,setSearchTerm:_,sortedKey:S,setSortedKey:C,sortedGroupKey:A,setSortedGroupKey:T,selectedIdsCount:I,setSelectedIdsCount:P,isJunkHidden:E,setIsJunkHidden:L,isRarityDisplayed:D,setIsRarityDisplayed:N,nftsToTransfer:F,setNftsToTransfer:B,isTransferInProgress:R,setIsTransferInProgress:V,receiveModalOpen:M,setReceiveModalOpen:$,isSendTransfer:K,setIsSendTransfer:O,markedAsSpam:U,setMarkedAsSpam:q,isContextStateLoading:G,setIsContextStateLoading:Z,userJunkPreference:H,setUserJunkPreference:z}=(()=>{const[e,t]=(0,i.useState)(""),[s,a]=(0,i.useState)(""),[n,r]=(0,i.useState)(null),[d,l]=(0,i.useState)(new Map),[c,u]=(0,i.useState)(0),[p,f]=(0,i.useState)(!1),[h,b]=(0,i.useState)(!1),[x,g]=(0,i.useState)(!0),[k,y]=(0,i.useState)(""),[j,v]=(0,i.useState)(null),[w,_]=(0,i.useState)(!0),[S,C]=(0,i.useState)(!1),[A,T]=(0,i.useState)([]),[I,P]=(0,i.useState)(!1),[E,L]=(0,i.useState)(!0),[D,N]=(0,i.useState)(!0),[F,B]=(0,i.useState)(!0),R=(0,i.useCallback)((async e=>{g(e),await o.Z.gridView.set(e)}),[]),V=(0,i.useCallback)((async()=>{const e=await o.Z.gridView.get();if(null===e)return await o.Z.gridView.set(x);g(e)}),[x]),M=(e,t)=>{const s=e.reduce(((e,t)=>(e.set(t.id,t),e)),new Map),a=(0,m.Uw)(t??{},s);l(s),f(!0),u(a.length||0),T(a||[])};return(0,i.useEffect)((()=>{V()}),[V]),{isSelectMode:d.size>0,selectedIds:d,toggleSelected:(e,t,s)=>{l((a=>(a.has(e.id)?((e,t,s)=>{if(t)return e.delete(s.id),void u((e=>e-Number(t)));e.delete(s.id),u((e=>e-1))})(a,t,e):((e,t,s)=>{if(t)return e.set(s.id,s),void u((e=>e+Number(t)));e.set(s.id,s),u((e=>e+1))})(a,t,e),0===a.size&&f(!1),a.size>0&&f(!0),T((0,m.Uw)(s??{},d)||[]),new Map(a))))},isGridView:x,setGridView:g,isDrawerOpen:h,setIsDrawerOpen:b,handleGridClick:R,setSelectedIds:l,selectAll:M,toggleVisibleContext:(e,t)=>{if(d.size>0)return l(new Map),f(!1),u(0),void T([]);M(e,t)},setIsVisibleContextSelected:f,isVisibleContextSelected:p,searchTerm:k,setSearchTerm:y,sortedKey:e,setSortedKey:t,selectedIdsCount:c,setSelectedIdsCount:u,isJunkHidden:j,setIsJunkHidden:v,isRarityDisplayed:w,setIsRarityDisplayed:_,isTransferInProgress:S,setIsTransferInProgress:C,nftsToTransfer:A,setNftsToTransfer:T,receiveModalOpen:I,setReceiveModalOpen:P,isSendTransfer:E,setIsSendTransfer:L,sortedGroupKey:s,setSortedGroupKey:a,markedAsSpam:n,setMarkedAsSpam:r,isContextStateLoading:D,setIsContextStateLoading:N,userJunkPreference:F,setUserJunkPreference:B}})(),Q=(0,d.LN)(),{publicKey:W}=(0,l.rT)(),J=(0,i.useCallback)((async e=>{C(e),await o.Z.solflarenftsorting.set(e)}),[C]),Y=(0,i.useCallback)((async()=>{if(!S){const e=await o.Z.solflarenftsorting.get()||u.dY.TOTAL_VALUE;C(e)}}),[C,S]),X=(0,i.useCallback)((async e=>{T(e),await o.Z.solflarenftgroupsorting.set(e)}),[T]),ee=(0,i.useCallback)((async()=>{if(!A){const e=await o.Z.solflarenftgroupsorting.get()||u.dY.RARITY;T(e)}}),[T,A]),te=(0,i.useCallback)((async()=>{if(!U){const e=await o.Z.markedNfts.get()||null;q(e)}}),[U,q]),se=(0,i.useCallback)((async(e,t,s)=>{q(e),(0,c.T)({addresses:t,flag:s,network:Q.cluster,publicKey:W,timestamp:r()().unix()}),await o.Z.markedNfts.set(e)}),[Q.cluster,q,W]),ae=(0,i.useCallback)((async()=>{await Promise.all([Y(),ee(),te()]),Z(!1)}),[ee,te,Y,Z]);(0,i.useEffect)((()=>{ae()}),[ae]);const ie=(0,i.useMemo)((()=>({isSelectMode:t,selectedIds:s,setSelectedIds:g,toggleSelected:n,isGridView:p,setIsDrawerOpen:b,handleGridClick:f,isDrawerOpen:x,sortedKey:S,sortedGroupKey:A,setSortedGroupKey:T,handleSortClick:J,handleSortGroupClick:X,selectAll:y,toggleVisibleContext:k,isVisibleContextSelected:j,setIsVisibleContextSelected:v,searchTerm:w,setSearchTerm:_,selectedIdsCount:I,setSelectedIdsCount:P,isJunkHidden:E,setIsJunkHidden:L,isRarityDisplayed:D,setIsRarityDisplayed:N,nftsToTransfer:F,setNftsToTransfer:B,isTransferInProgress:R,setIsTransferInProgress:V,receiveModalOpen:M,setReceiveModalOpen:$,isSendTransfer:K,setIsSendTransfer:O,markedAsSpam:U,setMarkedAsSpam:q,isContextStateLoading:G,setIsContextStateLoading:Z,onMarkAsSpamClick:se,userJunkPreference:H,setUserJunkPreference:z})),[t,s,g,n,p,b,f,x,S,A,T,J,X,y,k,j,v,w,_,I,P,E,L,D,N,F,B,R,V,M,$,K,O,U,q,G,Z,se,H,z]);return(0,a.jsx)(h.Provider,{value:ie,children:e})},x=()=>(0,i.useContext)(h)},"../../libs/shared/dist/features/nfts/context/SingleNFT/index.js":(e,t,s)=>{s.d(t,{V:()=>P,_:()=>I});var a=s("../../../node_modules/react/jsx-runtime.js"),i=s("../../../node_modules/react/index.js"),n=s("../../../node_modules/react-i18next/dist/es/useTranslation.js"),r=s("../../../node_modules/@tanstack/react-query/build/modern/QueryClientProvider.js"),o=s("../../libs/foundation-ui/dist/index.js"),d=s("../../libs/shared/dist/features/pfp/components/index.js"),l=s("../../libs/shared/dist/utils/extension.js"),c=s("../../libs/shared/dist/components/ConfirmationHelpers/assets/pfp_in.json"),u=s("../../libs/shared/dist/components/ConfirmationHelpers/assets/pfp_out.json"),m=s("../../libs/shared/dist/components/ConfirmationHelpers/LottieIllustration.js"),p=s("../../libs/shared/dist/components/ConfirmationHelpers/NetworkFeeListItem.js");const f=({walletPubkey:e,walletName:t,nftImage:s,nftName:i,nftCollection:r,animation:f,onAnimationEnd:h})=>{const{t:b}=(0,n.$)();return(0,a.jsx)(o.Confirmation,{isExtension:l.UJ,illustration:(0,a.jsx)(m.u,{play:!0,loop:!1,onComplete:h,animationData:"in"===f?c:u},f),listItemsTop:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.ListItemS,{left:(0,a.jsx)(o.ListItemSLeftTitleAndSubtitle,{title:(0,a.jsx)(o.ListItemSLeftTitleAndSubtitleTitle,{children:b("confirm_transaction_nft_label")})}),children:(0,a.jsxs)(o.ListItemSRightAmountAndValue,{children:[(0,a.jsxs)(o.ListItemSRightAmount,{children:[(0,a.jsx)(o.NFTAvatar,{src:s,size:"s"}),i]}),(0,a.jsx)(o.ListItemSRightValue,{children:r})]})}),(0,a.jsx)(o.ListItemS,{left:(0,a.jsx)(o.ListItemSLeftTitleAndSubtitle,{title:(0,a.jsx)(o.ListItemSLeftTitleAndSubtitleTitle,{children:b("confirm_transaction_from_label")})}),children:(0,a.jsxs)(o.ListItemSRightAmount,{children:[(0,a.jsx)(d.y,{publicKey:e,size:"s"}),t]})})]}),listItemsBottom:(0,a.jsx)(p.x,{})})},h=({walletPubkey:e,walletName:t,nftImage:s,nftName:i,nftCollection:r,animation:f,onAnimationEnd:h})=>{const{t:b}=(0,n.$)();return(0,a.jsx)(o.Confirmation,{isExtension:l.UJ,illustration:(0,a.jsx)(m.u,{play:!0,loop:!1,onComplete:h,animationData:"in"===f?c:u},f),listItemsTop:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.ListItemS,{left:(0,a.jsx)(o.ListItemSLeftTitleAndSubtitle,{title:(0,a.jsx)(o.ListItemSLeftTitleAndSubtitleTitle,{children:b("confirm_transaction_nft_label")})}),children:(0,a.jsxs)(o.ListItemSRightAmountAndValue,{children:[(0,a.jsxs)(o.ListItemSRightAmount,{children:[(0,a.jsx)(o.NFTAvatar,{src:s,size:"s"}),i]}),(0,a.jsx)(o.ListItemSRightValue,{children:r})]})}),(0,a.jsx)(o.ListItemS,{left:(0,a.jsx)(o.ListItemSLeftTitleAndSubtitle,{title:(0,a.jsx)(o.ListItemSLeftTitleAndSubtitleTitle,{children:b("confirm_transaction_for_label")})}),children:(0,a.jsxs)(o.ListItemSRightAmount,{children:[(0,a.jsx)(d.y,{publicKey:e,size:"s"}),t]})})]}),listItemsBottom:(0,a.jsx)(p.x,{})})};var b=s("../../libs/shared/dist/hooks/index.js"),x=s("../../libs/shared/dist/hooks/useResizedImage.js"),g=s("../../libs/shared/dist/features/featureFlags/index.js"),k=s("../../libs/shared/dist/features/globalConfig/hooks/index.js"),y=s("../../libs/shared/dist/features/pfp/api/index.js"),j=s("../../libs/shared/dist/features/pfp/queries/index.js"),v=s("../../libs/shared/dist/features/transactionFlow/context/index.js"),w=s("../../libs/shared/dist/features/walletData/hooks/index.js"),_=s("../../libs/shared/dist/features/nfts/utils/index.js"),S=s("../../libs/shared/dist/features/nfts/utils/prepareData.js"),C=s("../../libs/shared/dist/features/nfts/utils/transferUtils.js"),A=s("../../libs/shared/dist/features/nfts/context/NFT/index.js"),T=s("../../../node_modules/console-browserify/index.js");const I=(0,i.createContext)(null),P=({nft:e,children:t})=>{const{t:s}=(0,n.$)(),{closableNotification:o}=(0,b.hn)(),d=(0,r.NL)(),{transactionInit:c}=(0,v.p)(),{publicKey:u,accountName:m}=(0,w.rT)(),{onMarkAsSpamClick:p,markedAsSpam:P}=(0,A.$)(),E=(0,k.LN)(),{data:L,refetch:D}=(0,j.F)(u),[N,F]=(0,i.useState)((0,_.DQ)(e)),{url:B}=(0,x.j)(e.image,{width:l.UJ?400:1e3}),{setIsTransferInProgress:R,setNftsToTransfer:V,setIsSendTransfer:M}=(0,A.$)(),$=(0,i.useCallback)((async()=>{let t="";const{src:s,category:a,originalSrc:i}=(0,S.gw)(e);if(!s)return;(0,g.ub)(),a&&(t=i||s);const n=t.split("ext=")[1]||e.image?.split("ext=")[1];await fetch(t).then((e=>e.blob())).then((t=>{const s=document.createElement("a");s.href=URL.createObjectURL(t),s.download=`${e.name}${n?`.${n}`:""}`,s.click()})).catch(T.error)}),[e]),K=(0,i.useCallback)((async()=>{R(!0),M(!0),V([{image:B||e.image,name:e.name,subname:e.groupName??"",group:e.group,tokenAccountPubkey:e.tokenData?.pubkey??"",mint:e.id,decimals:e.tokenData?.decimals??0,compressed:e.compressed,typeForPosthog:(0,C.n3)(e),isLastNft:1===Number(e.tokenData?.uiAmount??1),amount:Number(e.tokenData?.uiAmount??1),symbol:e.symbol,metaplexCore:!!e.metaplexCore}])}),[e,B,M,R,V]),O=(0,i.useCallback)((async()=>{R(!0),M(!1),V([{image:B||e.image,name:e.name,subname:"scam"===e.group?"":e.groupName??"",group:e.group,tokenAccountPubkey:e.tokenData?.pubkey??"",mint:e.id,decimals:e.tokenData?.decimals??0,compressed:e.compressed,typeForPosthog:(0,C.n3)(e),isLastNft:1===Number(e.tokenData?.uiAmount),amount:Number(e.tokenData?.uiAmount??1),symbol:e.symbol,metaplexCore:!!e.metaplexCore}])}),[e,B,M,R,V]),U=(0,i.useCallback)((async()=>{if(!e.compressed)return(0,g.KZ)({alreadyHadPfp:!!L&&L.isAvailable}),new Promise((t=>{c({title:s("confirm_transaction_title_set_pfp"),commitment:"confirmed",txBuilder:y.mn,builderParams:{address:u,mint:e.id,token:e.tokenData.pubkey,setComputeBudget:!0,network:E.cluster},confirmDialog:({animation:t,onAnimationEnd:s})=>(0,a.jsx)(h,{walletPubkey:u,walletName:m,nftImage:e.image,nftName:e.name,nftCollection:e.groupName,animation:t,onAnimationEnd:s}),onConfirm:()=>{t(),D()}})}))}),[e.compressed,e.id,e.tokenData,e.image,e.name,e.groupName,L,c,s,u,E.cluster,m,D]),q=(0,i.useCallback)((async()=>{if(!e.compressed)return(0,g.Qc)(),new Promise((t=>{c({title:s("confirm_transaction_title_remove_pfp"),commitment:"confirmed",txBuilder:y.Yi,builderParams:{address:u,setComputeBudget:!0,network:E.cluster},confirmDialog:({animation:t,onAnimationEnd:s})=>(0,a.jsx)(f,{walletPubkey:u,walletName:m,nftImage:e.image,nftName:e.name,nftCollection:e.groupName,animation:t,onAnimationEnd:s}),onConfirm:()=>{t(),D()}})}))}),[e.compressed,e.image,e.name,e.groupName,c,s,u,E.cluster,m,D]),G=(0,i.useCallback)((async()=>{F(!0);const t=(0,C.eN)(P,[e.id]),s=(0,C.Iq)(P,t);o({message:"Collectible marked as spam",variant:"info",autoHideDuration:3e3}),await p(t,s,"suspicious"),await d.invalidateQueries({queryKey:["nfts"]})}),[o,P,e.id,p,d]),Z=(0,i.useCallback)((async()=>{F(!1);const t=(0,C.UH)(P,[e.id]),s=(0,C.Xm)(P,t);o({message:"Collectible unmarked as spam",variant:"info",autoHideDuration:3e3}),await p(t,s,"legitimate"),await d.invalidateQueries({queryKey:["nfts"]})}),[o,P,e.id,p,d]),H=(0,i.useMemo)((()=>({download:$,burn:O,setAsPfp:U,removeAsPfp:q,send:K,markAsSuspicious:G,markAsLegitimate:Z,nft:e,isMarkedAsSpam:N})),[$,O,U,q,K,G,Z,e,N]);return(0,a.jsx)(I.Provider,{value:H,children:t})}},"../../libs/shared/dist/features/nfts/hooks/useAddressBookNft.js":(e,t,s)=>{s.d(t,{M:()=>E});var a=s("../../../node_modules/react/index.js"),i=s("../../../node_modules/react-i18next/dist/es/useTranslation.js"),n=s("../../../node_modules/lodash/lodash.js"),r=s("../../libs/shared/dist/utils/isPublicKeyValid.js"),o=s("../../libs/shared/dist/features/globalConfig/hooks/index.js"),d=s("../../libs/shared/dist/features/shared/account/index.js"),l=s("../../libs/shared/dist/features/nfts/context/index.js"),c=s("../../libs/shared/dist/features/nfts/utils/transferUtils.js"),u=s("../../../node_modules/react/jsx-runtime.js"),m=s("../../../node_modules/@tanstack/react-query/build/modern/QueryClientProvider.js"),p=s("../../../node_modules/dayjs/dayjs.min.js"),f=s.n(p),h=s("../../libs/foundation-ui/dist/index.js"),b=s("../../libs/shared/dist/utils/extension.js"),x=s("../../libs/shared/dist/components/ConfirmationHelpers/assets/burn_in.json"),g=s("../../libs/shared/dist/components/ConfirmationHelpers/assets/burn_out.json"),k=s("../../libs/shared/dist/components/ConfirmationHelpers/BurnWarningText.js"),y=s("../../libs/shared/dist/components/ConfirmationHelpers/LottieIllustration.js"),j=s("../../libs/shared/dist/components/ConfirmationHelpers/NetworkFeeListItem.js");const v=({count:e,animation:t,onAnimationEnd:s})=>{const{t:a}=(0,i.$)();return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(h.Confirmation,{isExtension:b.UJ,illustration:(0,u.jsx)(y.u,{play:!0,loop:!1,onComplete:s,animationData:"in"===t?x:g},t),listItemsTop:(0,u.jsx)(h.ListItemS,{left:(0,u.jsx)(h.ListItemSLeftTitleAndSubtitle,{title:(0,u.jsx)(h.ListItemSLeftTitleAndSubtitleTitle,{children:a("confirm_transaction_nft_label")})}),children:(0,u.jsx)(h.ListItemSRightAmountAndValue,{children:(0,u.jsx)(h.ListItemSRightAmount,{children:a("confirm_transaction_nft_bulk_count",{count:e})})})}),listItemsBottom:(0,u.jsx)(j.x,{})}),(0,u.jsx)(k.z,{children:(0,u.jsx)(h.TextXS,{textAlign:"center",children:a("confirm_transaction_burn_forever_warning")})})]})},w=({nftName:e,nftImage:t,animation:s,onAnimationEnd:a})=>{const{t:n}=(0,i.$)();return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(h.Confirmation,{isExtension:b.UJ,illustration:(0,u.jsx)(y.u,{play:!0,loop:!1,onComplete:a,animationData:"in"===s?x:g},s),listItemsTop:(0,u.jsx)(h.ListItemS,{left:(0,u.jsx)(h.ListItemSLeftTitleAndSubtitle,{title:(0,u.jsx)(h.ListItemSLeftTitleAndSubtitleTitle,{children:n("confirm_transaction_nft_label")})}),children:(0,u.jsx)(h.ListItemSRightAmountAndValue,{children:(0,u.jsxs)(h.ListItemSRightAmount,{children:[(0,u.jsx)(h.NFTAvatar,{src:t,size:"s"}),e||n("confirm_transaction_nft_bulk_count",{count:1})]})})}),listItemsBottom:(0,u.jsx)(j.x,{})}),(0,u.jsx)(k.z,{children:(0,u.jsx)(h.TextXS,{textAlign:"center",children:n("confirm_transaction_burn_forever_warning")})})]})};var _=s("../../libs/shared/dist/features/transactionFlow/context/index.js"),S=s("../../libs/shared/dist/features/transactionFlow/hooks/index.js"),C=s("../../libs/shared/dist/features/walletData/hooks/index.js"),A=s("../../libs/shared/dist/features/nfts/api/flags.js"),T=s("../../libs/shared/dist/features/nfts/api/transactions.js"),I=s("../../libs/shared/dist/features/nfts/hooks/useNftRouting.js"),P=s("../../libs/shared/dist/features/nfts/hooks/useNftSend.js");const E=({nfts:e})=>{const{t}=(0,i.$)(),s=(0,o.LN)(),[p,h]=(0,a.useState)(""),[b,x]=(0,a.useState)(""),[g,k]=(0,a.useState)("address"),[y,j]=(0,a.useState)(!1),[E,L]=(0,a.useState)(""),[D,N]=(0,a.useState)({}),F=(0,a.useRef)(),{nftsToTransfer:B}=(0,l.$T)(),{sendTransaction:R}=(0,P.b)(),{burnTransaction:V}=(()=>{const{t:e}=(0,i.$)(),t=(0,m.NL)(),{goToGallery:s}=(0,I.p)(),{setIsTransferInProgress:n,setNftsToTransfer:r,setIsSendTransfer:d}=(0,l.$T)(),{transactionInit:c}=(0,_.p)(),{publicKey:p}=(0,C.rT)(),{cluster:h}=(0,o.LN)(),b=(0,a.useCallback)((({nfts:a})=>{c({title:e("confirm_transaction_title_burn"),txBuilder:T.hO,builderParams:{address:p,network:h,setComputeBudget:!0,nfts:a?.map((e=>({tokenPubkey:e.tokenAccountPubkey||e.mint,mint:e.mint,compressed:!!e.compressed,metaplexCore:!!e.metaplexCore})))||[]},useSignAndSend:S.go,commitment:"confirmed",onBroadcastAll:({successCount:e})=>{if(e>0){const e=a.map((e=>e.mint));(0,A.T)({addresses:e,flag:"burned",publicKey:p,timestamp:f()().unix(),network:h}),s(),n(!1),r([]),d(!0)}},onConfirm:()=>{t.invalidateQueries({queryKey:["nfts"]})},confirmDialog:({animation:e,onAnimationEnd:t})=>1===a.length?(0,u.jsx)(w,{nftName:"scam"===a[0]?.group?void 0:a[0]?.name,nftImage:"scam"===a[0]?.group?void 0:a[0]?.image,animation:e,onAnimationEnd:t}):(0,u.jsx)(v,{count:a.length,animation:e,onAnimationEnd:t})})}),[s,t,h,d,n,r,e,c,p]);return{burnTransaction:(0,a.useCallback)((({nfts:e})=>{if(!e?.length)return[];b({nfts:e})}),[b])}})();(0,a.useEffect)((()=>{0===B.length&&(h(""),x(""),j(!1),N({}))}),[D,B.length]);const M=(0,a.useRef)((0,n.debounce)((({value:e})=>{$(e)}),500)).current,$=async e=>{if(j(!1),x(""),0===e.length)return void N((e=>({...e,address:t("validation_invalid_address")})));const a=await(0,d.ru)(e,s.cluster);if(a)return N((e=>(0,n.omit)(e,["address"]))),"address"===a.source?(k("address"),void j(!0)):(k(a.source),x(a.publicKey),void j(!0));x(""),N((e=>({...e,address:t("validation_invalid_address")})))};return{onChange:e=>{const{name:t,value:s}=e.target;h(s),L(s),N((e=>(0,n.omit)(e,[t]))),"address"===t&&M({value:s}),"confirm"===t&&j((0,c.jo)(s))},submitTransfer:async()=>{const s={};if(p.trim()?("address"===g&&!(0,r.Z)(p)||"address"!==g&&!b)&&(s.address=t("validation_invalid_address")):s.address=t("validation_address_is_required"),!(0,n.isEmpty)(s))return N(s),!1;F&&F.current&&!F.current()||R({nfts:e??[],recipient:"address"===g?p:b,address:"address"===g?null:p})},submitBurn:()=>{const t={};if(!(0,n.isEmpty)(t))return N(t),!1;V({nfts:e})},saveAddressCallback:F,address:p,handler:g,resolved:b,errorState:D,allowSubmit:y,confirm:E}}},"../../libs/shared/dist/features/nfts/hooks/useNftData.js":(e,t,s)=>{s.d(t,{c:()=>c});var a=s("../../../node_modules/@tanstack/react-query/build/modern/useQuery.js"),i=s("../../../node_modules/@tanstack/query-core/build/modern/utils.js"),n=s("../../libs/shared/dist/storage/solflareService.js"),r=s("../../libs/shared/dist/features/currencies/hooks/index.js"),o=s("../../libs/shared/dist/features/globalConfig/hooks/index.js"),d=s("../../libs/shared/dist/features/walletData/hooks/index.js"),l=s("../../libs/shared/dist/features/nfts/api/nfts.js");const c=()=>{const{publicKey:e}=(0,d.rT)(),t=(0,o.LN)(),s=(0,r.Af)();return(0,a.a)({queryKey:["nfts",e,t.url,s.ticker],queryFn:async()=>{const a=await n.Z.markedNfts.get()??null;return(0,l.J8)(e,t.cluster,s.ticker,a)},placeholderData:i.Wk,enabled:!!e})}},"../../libs/shared/dist/features/nfts/hooks/useNftGroupSingle.js":(e,t,s)=>{s("../../../node_modules/react/index.js"),s("../../libs/shared/dist/features/nfts/hooks/useNftData.js")},"../../libs/shared/dist/features/nfts/hooks/useNftSend.js":(e,t,s)=>{s.d(t,{b:()=>T});var a=s("../../../node_modules/react/jsx-runtime.js"),i=s("../../../node_modules/react/index.js"),n=s("../../../node_modules/react-i18next/dist/es/useTranslation.js"),r=s("../../../node_modules/@tanstack/react-query/build/modern/QueryClientProvider.js"),o=s("../../libs/foundation-ui/dist/index.js"),d=s("../../libs/shared/dist/features/pfp/components/index.js"),l=s("../../libs/shared/dist/utils/extension.js"),c=s("../../libs/shared/dist/utils/truncateMiddle.js"),u=s("../../libs/shared/dist/components/ConfirmationHelpers/assets/send_in.json"),m=s("../../libs/shared/dist/components/ConfirmationHelpers/assets/send_out.json"),p=s("../../libs/shared/dist/components/ConfirmationHelpers/LottieIllustration.js"),f=s("../../libs/shared/dist/components/ConfirmationHelpers/NetworkFeeListItem.js");const h=({count:e,toPubkey:t,toName:s,animation:i,onAnimationEnd:r})=>{const{t:h}=(0,n.$)();return(0,a.jsx)(o.Confirmation,{isExtension:l.UJ,illustration:(0,a.jsx)(p.u,{play:!0,loop:!1,onComplete:r,animationData:"in"===i?u:m},i),listItemsTop:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.ListItemS,{left:(0,a.jsx)(o.ListItemSLeftTitleAndSubtitle,{title:(0,a.jsx)(o.ListItemSLeftTitleAndSubtitleTitle,{children:h("confirm_transaction_nft_label")})}),children:(0,a.jsx)(o.ListItemSRightAmountAndValue,{children:(0,a.jsx)(o.ListItemSRightAmount,{children:h("confirm_transaction_nft_bulk_count",{count:e})})})}),(0,a.jsx)(o.ListItemS,{left:(0,a.jsx)(o.ListItemSLeftTitleAndSubtitle,{title:(0,a.jsx)(o.ListItemSLeftTitleAndSubtitleTitle,{children:h("confirm_transaction_to_label")})}),children:(0,a.jsxs)(o.ListItemSRightAmount,{children:[(0,a.jsx)(d.y,{publicKey:t,size:"s"}),s||(0,c.r)(t)]})})]}),listItemsBottom:(0,a.jsx)(f.x,{})})},b=({nftImage:e,nftName:t,nftCollection:s,amount:i,toPubkey:r,toName:h,animation:b,onAnimationEnd:x})=>{const{t:g}=(0,n.$)();return(0,a.jsx)(o.Confirmation,{isExtension:l.UJ,illustration:(0,a.jsx)(p.u,{play:!0,loop:!1,onComplete:x,animationData:"in"===b?u:m},b),listItemsTop:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.ListItemS,{left:(0,a.jsx)(o.ListItemSLeftTitleAndSubtitle,{title:(0,a.jsx)(o.ListItemSLeftTitleAndSubtitleTitle,{children:g("confirm_transaction_nft_label")})}),children:(0,a.jsxs)(o.ListItemSRightAmountAndValue,{children:[(0,a.jsxs)(o.ListItemSRightAmount,{children:[i?`${i}x `:(0,a.jsx)(o.NFTAvatar,{src:e,size:"s"}),t]}),(0,a.jsx)(o.ListItemSRightValue,{children:s})]})}),(0,a.jsx)(o.ListItemS,{left:(0,a.jsx)(o.ListItemSLeftTitleAndSubtitle,{title:(0,a.jsx)(o.ListItemSLeftTitleAndSubtitleTitle,{children:g("confirm_transaction_to_label")})}),children:(0,a.jsxs)(o.ListItemSRightAmount,{children:[(0,a.jsx)(d.y,{publicKey:r,size:"s"}),h||(0,c.r)(r)]})})]}),listItemsBottom:(0,a.jsx)(f.x,{})})};var x=s("../../libs/shared/dist/features/addressBook/hooks/index.js"),g=s("../../libs/shared/dist/features/featureFlags/index.js"),k=s("../../libs/shared/dist/features/globalConfig/hooks/index.js"),y=s("../../libs/shared/dist/features/recentAddresses/context/index.js"),j=s("../../libs/shared/dist/features/recipientInput/constants.js"),v=s("../../libs/shared/dist/features/transactionFlow/context/index.js"),w=s("../../libs/shared/dist/features/transactionFlow/hooks/index.js"),_=s("../../libs/shared/dist/features/walletData/hooks/index.js"),S=s("../../libs/shared/dist/features/nfts/api/transactions.js"),C=s("../../libs/shared/dist/features/nfts/context/index.js"),A=s("../../libs/shared/dist/features/nfts/hooks/useNftRouting.js");const T=()=>{const{t:e}=(0,n.$)(),t=(0,r.NL)(),{goToGallery:s}=(0,A.p)(),{setIsTransferInProgress:o,setNftsToTransfer:d,setIsSendTransfer:l}=(0,C.$T)(),{transactionInit:c}=(0,v.p)(),{publicKey:u}=(0,_.rT)(),{upsertAddress:m}=(0,y.g)(),{getDestinationWalletType:p}=(0,x.q5)(),{cluster:f}=(0,k.LN)(),T=(0,i.useCallback)((({recipient:i,nfts:n,address:r,recipientGroup:b,recipientName:x})=>{c({title:e("confirm_transaction_title_send"),commitment:"confirmed",useSignAndSend:w.go,txBuilder:S.MH,builderParams:{network:f,address:u,nfts:n?.map((e=>({tokenPubkey:e.tokenAccountPubkey||e.mint,mint:e.mint,decimals:e.decimals,isLastNft:e.isLastNft,uiAmount:e.amount,compressed:!!e.compressed,metaplexCore:!!e.metaplexCore})))||[],recipient:i,setComputeBudget:!0},ffLogFunction:g.tP,ffParams:{nftCount:n.length,dwt:p(i),destinationPickedFrom:j.XV[b??"MANUAL"]},onBroadcastAll:({successCount:e})=>{e>0&&(s(),o(!1),d([]),l(!0)),m(i,x)},onConfirm:()=>{t.invalidateQueries({queryKey:["nfts"]})},confirmDialog:({animation:e,onAnimationEnd:t})=>(0,a.jsx)(h,{count:n.length,toPubkey:i,toName:r,animation:e,onAnimationEnd:t})})}),[c,e,f,u,p,s,o,d,l,t,m]),I=(0,i.useCallback)((({recipient:i,nfts:n,address:r,recipientGroup:h,recipientName:x})=>{const{tokenAccountPubkey:k,mint:y,decimals:v,compressed:w,typeForPosthog:_,isLastNft:C,name:A,group:T,image:I,subname:P,amount:E,customAmount:L,metaplexCore:D}=n[0];c({title:e("confirm_transaction_title_send"),commitment:"confirmed",txBuilder:S.MH,builderParams:{network:f,address:u,nfts:[{tokenPubkey:k||y,mint:y,decimals:v,compressed:!!w,isLastNft:C,uiAmount:E,metaplexCore:!!D}],recipient:i,setComputeBudget:!0},ffLogFunction:g.WG,ffParams:{nftType:_,dwt:p(i),destinationPickedFrom:j.XV[h??"MANUAL"]},onBroadcast:({status:e})=>{"success"===e&&(s(),o(!1),d([]),l(!0))},onConfirm:()=>{t.invalidateQueries({queryKey:["nfts"]}),m(i,x)},confirmDialog:({animation:e,onAnimationEnd:t})=>(0,a.jsx)(b,{nftName:"scam"===T?"Scam NFT":A,nftImage:"scam"===T?void 0:I,toPubkey:i,toName:r,nftCollection:P??"",amount:L?E:void 0,animation:e,onAnimationEnd:t})})}),[c,e,f,u,p,s,o,d,l,t,m]);return{sendTransaction:(0,i.useCallback)((({nfts:e,recipient:t,address:s,recipientGroup:a="MANUAL",recipientName:i})=>e?.length?1===e.length?I({nfts:e,recipient:t,address:s,recipientGroup:a,recipientName:i}):void T({nfts:e,recipient:t,address:s,recipientGroup:a,recipientName:i}):[]),[T,I])}}},"../../libs/shared/dist/features/nfts/modals/index.js":(e,t,s)=>{s.d(t,{e:()=>y});var a=s("../../../node_modules/react/jsx-runtime.js"),i=s("../../../node_modules/react/index.js"),n=s("../../../node_modules/react-i18next/dist/es/useTranslation.js"),r=s("../../../node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js"),o=s("../../libs/wallet-core/dist/shared.js"),d=s("../../libs/foundation-ui/dist/index.js"),l=s("../../libs/shared/dist/modals/index.js"),c=s("../../libs/shared/dist/utils/common.js"),u=s("../../libs/shared/dist/utils/extension.js"),m=s("../../libs/shared/dist/utils/truncateMiddle.js"),p=s("../../libs/shared/dist/features/recipientInput/components/index.js"),f=s("../../libs/shared/dist/features/recipientInput/context/index.js"),h=s("../../libs/shared/dist/features/walletData/hooks/index.js"),b=s("../../libs/shared/dist/features/nfts/context/index.js"),x=s("../../libs/shared/dist/features/nfts/hooks/index.js"),g=s("../../libs/shared/dist/features/nfts/hooks/useNftSend.js");const k=(0,r.Z)("div")((()=>({maxHeight:220,overflowY:"auto",overflowX:"hidden"}))),y=()=>{const{t:e}=(0,n.$)(),{sendTransaction:t}=(0,g.b)(),{walletType:s}=(0,h.rT)(),{selectedRecipient:r,saveAddressChecked:y,saveAddress:j}=(0,f.x)(!1),{setIsTransferInProgress:v,nftsToTransfer:w,setNftsToTransfer:_}=(0,b.$T)(),[S,C]=(0,i.useState)("1"),A=(0,i.useMemo)((()=>w||[]),[w]),T=(0,i.useMemo)((()=>1===A.length&&A[0].amount>0&&1!==A[0].amount),[A]),{infoBoxProps:I,isLoading:P}=(0,x.QA)({nfts:A,recipient:r,amount:S,showAmountInput:T}),E=!!I&&"error"===I.variant,L=E||T&&!+S||!r||P;(0,i.useEffect)((()=>{1===A.length&&C(String(A[0].amount))}),[A]);const D=(0,i.useCallback)((e=>{let{value:t}=e.target;t=t.trim(),t.includes(",")&&(t=t.replace(",","."));const s=(0,c.T4)(t);"."!==t&&","!==t?(0,c.w9)(t,A[0]?.decimals||0)&&s&&C(t):C("0.")}),[A]),N=(0,i.useCallback)((e=>{_((t=>t.filter((t=>t.mint!==e))))}),[_]),F=(s===o.pe||s===o.x4)&&A.length>1,B=u.UJ?"div":k,R=e=>"scam"===e.group?(0,a.jsx)(d.IconAvatar,{variant:"square",icon:"error",background:"error"}):(0,a.jsx)(d.NFTAvatar,{src:e.image}),V=e=>{switch(e.group){case"scam":return"Blocklist";case"suspicious":return"Unverified";default:return e.subname}};return(0,a.jsx)(l.V$,{onClose:()=>v(!1),title:e("action_send"),footerProps:{variant:"fixed"},onSubmit:async()=>{const e=parseFloat(S);if(!r||T&&!e)return;if(y&&!await j())return;const s=r.address,a=r.name??(0,m.r)(s);if(1===A.length){const i="SAVED"!==r.group?r.name:r.subtitle;t({nfts:[{...A[0],isLastNft:+e==+A[0].amount,amount:e,customAmount:T}],recipient:s,address:a,recipientGroup:r.group,recipientName:i})}else t({nfts:A,recipient:s,address:a,recipientGroup:r.group,recipientName:"SAVED"!==r.group?r.name:r.subtitle})},footer:(0,a.jsxs)(a.Fragment,{children:[I&&(0,a.jsx)(d.InfoBox,{...I,fixed:u.UJ}),F&&!E&&(0,a.jsx)(d.InfoBox,{title:e("validation_multiple_signatures_required"),message:e("validation_multiple_signatures_description"),variant:"info",fixed:u.UJ}),(0,a.jsx)(d.ButtonGroup,{children:(0,a.jsx)(d.Button,{disabled:L,type:"submit",children:e("action_send")})})]}),children:(0,a.jsx)(d.PortalContainerProvider,{children:(0,a.jsx)(d.PortalContainer,{children:(0,a.jsx)(d.Section,{children:(0,a.jsxs)(d.NFTSendContent,{children:[(0,a.jsx)(p.T,{hasErrors:E}),1===A.length?(0,a.jsx)(d.SectionContainer,{title:(0,a.jsx)(d.SectionTitle,{title:e("table_collectible")}),children:(0,a.jsx)(d.CollectibleListItem,{spacingX:"narrow",height:"narrow",avatar:R(A[0]),title:A[0].name,subtitle:V(A[0])},A[0].mint)}):(0,a.jsx)(d.NFTSendContentList,{title:(0,a.jsx)(d.SectionTitle,{title:e("table_collectible")}),children:(0,a.jsx)(B,{children:(0,a.jsx)(d.GeneralList,{data:A,renderItem:e=>(0,a.jsx)(d.CollectibleListItem,{avatar:R(e),title:e.name,subtitle:V(e),onClose:()=>N(e.mint),value:e.amount?String(e.amount):void 0}),extractKey:e=>e.mint})})}),T&&(0,a.jsx)(d.FormField,{label:(0,a.jsx)(d.Label,{children:e("form_amount")}),rightLabel:(0,a.jsx)(d.RightLabel,{onClick:()=>C(String(A[0].amount)),children:e("form_max_amount",{amount:A[0].amount})}),children:(0,a.jsx)(d.TextInput,{value:S,onChange:D,onBlur:()=>C((e=>e?(0,c.iP)(e,A[0].decimals??0):e)),textAlign:"right"})})]})})})})})}},"../../libs/shared/dist/features/nfts/utils/enrichData.js":(e,t,s)=>{s.d(t,{Iy:()=>i,jO:()=>a});const a=e=>e<0?"error":"success",i=(e,t)=>{if("suspicious"===t||"scam"===t)return"suspicious"===(s=t)?{variant:"susp",percentage:"Suspicious"}:"scam"===s?{variant:"error",percentage:"Scam"}:{variant:"success",percentage:""};var s;if(!e)return{variant:"success",percentage:""};switch(!0){case e<=.3:return{variant:"error",percentage:"Mythic"};case e<=1:return{variant:"orange",percentage:"Legendary"};case e<=3:return{variant:"purple",percentage:"Epic"};case e<=10:return{variant:"darkBlue",percentage:"Rare"};case e<=30:return{variant:"success",percentage:"Uncommon"};case e<=100:return{variant:"default",percentage:"Common"};default:return{variant:"success",percentage:""}}}},"../../libs/shared/dist/features/nfts/utils/index.js":(e,t,s)=>{s.d(t,{oW:()=>d,IW:()=>b,Xc:()=>f,Vh:()=>h,Kl:()=>p,Pl:()=>u,gO:()=>l,$h:()=>m,DQ:()=>c,i0:()=>r,Ng:()=>o});var a=s("../../libs/shared/dist/features/nfts/constants.js"),i=s("../../../node_modules/lodash/lodash.js"),n=s("../../libs/shared/dist/utils/lamportToSol.js");const r=(e,t,s)=>{const a=s??null,n=t?.lastSold&&(0,i.isNumber)(t.lastSold.amount)?t.lastSold.amount:null,r=t?.lastSold&&(0,i.isNumber)(t.lastSold.usdThen)?t.lastSold.usdThen:null,o=e.floor&&(0,i.isNumber)(e.floor.price)?e.floor.price:null,d=t?.traitFloorPrice&&(0,i.isNumber)(t.traitFloorPrice)?t.traitFloorPrice:null;return{rarity:f(e.rarity?.percentage)??null,boughtForInSol:n,boughtForInUsd:null!==n&&null!==r?n*r:null,floorPriceInSol:o,floorPriceInUsd:null!==o&&null!==a?o*a:null,traitFloorPriceInSol:d,traitFloorPriceInUsd:null!==d&&null!==a?d*a:null}},o=(e,t,s)=>{const a=s??null,n=t?.lastSold&&(0,i.isNumber)(t?.lastSold.amount)?t.lastSold.amount:null,r=t?.lastSold&&(0,i.isNumber)(t.lastSold.usdThen)?t.lastSold.usdThen:null,o=e.floor&&(0,i.isNumber)(e.floor.price)?e.floor.price:null,d=t?.traitFloorPrice&&(0,i.isNumber)(t.traitFloorPrice)?t.traitFloorPrice:null;return{rarity:f(e.rarity?.percentage)??null,boughtForInSol:n,boughtForInUsd:null!==n&&null!==r?n*r:null,floorPriceInSol:o,floorPriceInUsd:null!==o&&null!==a?o*a:null,traitFloorPriceInSol:d,traitFloorPriceInUsd:null!==d&&null!==a?d*a:null}},d=(e,t,s)=>{const a=s??null,r=e.floor&&(0,i.isNumber)(e.floor.price)?e.floor.price:null,o=(0,n.s)(e.listedPrice).toNumber(),d=t?.lastSold&&(0,i.isNumber)(t?.lastSold.amount)?t.lastSold.amount:null,l=t?.lastSold&&(0,i.isNumber)(t.lastSold.usdThen)?t.lastSold.usdThen:null,c=t?.traitFloorPrice&&(0,i.isNumber)(t.traitFloorPrice)?t.traitFloorPrice:null;return{amountListedForInSol:o,amountListedForInUsd:null!==a?o*a:null,rarity:f(e.rarity?.percentage)??null,floorPriceInSol:r,floorPriceInUsd:null!==r&&null!==a?r*a:null,boughtForInSol:d,boughtForInUsd:null!==d&&null!==l?d*l:null,traitFloorPriceInSol:c,traitFloorPriceInUsd:null!==c&&null!==a?c*a:null,market:"tensor"}},l=e=>!!e&&"scam"===e.group,c=e=>!!e&&"suspicious"===e.group,u=e=>c(e)||l(e),m=e=>!(!e||!e.tokenData)&&(null===e.tokenStandard?e.tokenData.uiAmount>1&&0===e.tokenData.decimals:(e.tokenStandard===a.Yn.FungibleAsset||e.tokenStandard===a.Yn.NonFungible)&&1!==e.tokenData.uiAmount),p=e=>!!e&&Number(e.currencyFloor?.price)>0,f=e=>{if(e)switch(!0){case e<=.3:return"mythic";case e<=1:return"legendary";case e<=3:return"epic";case e<=10:return"rare";case e<=30:return"uncommon";case e<=100:return"common";default:return}},h=e=>({mythic:"Mythic",legendary:"Legendary",epic:"Epic",rare:"Rare",uncommon:"Uncommon",common:"Common"}[e]),b=(e,t="%")=>e<.01?`<0.01${t}`:`${e.toFixed(2)}${t}`},"../../libs/shared/dist/features/nfts/utils/prepareData.js":(e,t,s)=>{s.d(t,{H_:()=>c,c0:()=>u,gw:()=>f,iE:()=>l,iq:()=>m});var a=s("../../../node_modules/react/jsx-runtime.js"),i=s("../../../node_modules/lodash/lodash.js"),n=s("../../libs/shared/dist/utils/extension.js"),r=s("../../libs/shared/dist/features/currencies/components/index.js"),o=s("../../libs/shared/dist/features/nfts/constants.js"),d=s("../../libs/shared/dist/features/nfts/utils/enrichData.js");const l=({nfts:e,groups:t},s)=>{const i=e.reduce(((e,t)=>(t.group&&(!e[t.group]||t.rarity?.rank&&t.rarity?.rank<e[t.group]?.rank)&&(e[t.group]={image:t.image}),e)),{});return t.map((t=>{const d="fiat"===s?t.currencyTotalFloor?.price:t.totalFloor?.price,l="fiat"===s?t.currencyFloor?.price:t.floor?.price,c="fiat"===s?t.currencyTotalFloor?.percentage:t.totalFloor?.percentage;if("scam"===t.id)return{id:t.id,title:"Blocklist",image:i[t.id]?.image??t.image??o.mr,collectionCount:String(t.count),collectionSelectableCount:String(t.count),group:t.id,sortByAmount:d??0,sortByValue:l??0,sortByPerformance:c??0,amount:""};if("suspicious"===t.id){const e=!!t?.currencyTotalFloor?.price||!!t?.totalFloor?.price;return{id:t.id,title:"Unverified",image:i[t.id]?.image??t.image??o.mr,errorFallbackImage:o.mr,collectionCount:String(t.count),collectionSelectableCount:String(t.count),group:t.id,sortByAmount:d??0,sortByValue:l??0,sortByPerformance:c??0,amount:e?(0,a.jsx)(r.NT,{configKey:n.p1||n.Qd?"portfolioHero":"nftFloorPrice",fiat:(0,a.jsx)(r.sp,{value:t.currencyTotalFloor?.price??0}),token:(0,a.jsx)(r.EI,{value:t.totalFloor?.price??0})}):""}}const u=e.filter((e=>e.listed&&e.group===t.id)).length,m=e.filter((e=>e.group===t.id)).length===u;return{id:t.id,title:t.name.trim(),image:i[t.id]?.image??t.image??o.mr,fallbackImage:i[t.id]?.image??t.image??o.mr,errorFallbackImage:o.mr,collectionCount:String(t.count),collectionSelectableCount:String(t.count-u),group:t.id,sortByAmount:d??0,sortByValue:l??0,sortByPerformance:c??0,disabled:m,amount:d&&d>0?(0,a.jsx)(r.NT,{configKey:n.p1||n.Qd?"portfolioHero":"nftFloorPrice",fiat:(0,a.jsx)(r.sp,{value:t.currencyTotalFloor?.price??0}),token:(0,a.jsx)(r.EI,{value:t.totalFloor?.price??0})}):"",value:l&&l>0?(0,a.jsx)(r.NT,{configKey:n.p1||n.Qd?"portfolioHero":"nftFloorPrice",fiat:(0,a.jsx)(r.sp,{value:t.currencyFloor?.price??0}),token:(0,a.jsx)(r.EI,{value:t.floor?.price??0})}):"",gridViewListedPillText:u>0?`${u} Listed`:void 0,listViewListedPillText:u>0?`${u}`:void 0,...p(t.currencyTotalFloor?.percentage??0,t.totalFloor?.percentage??0,s)}}))},c=({nfts:e,groups:t},s)=>{const d=(0,i.keyBy)(t,"id");return e.filter((e=>e.group!==d[e.group||""]?.id)).map((e=>{const t="fiat"===s?e.currencyFloor?.price:e.floor?.price,i="fiat"===s?e.currencyFloor?.price:e.floor?.price,d="fiat"===s?e.currencyFloor?.percentage??0:e.floor?.percentage??0;return{id:e.id,group:e.group,image:e?.image??o.mr,fallbackImage:e.image,errorFallbackImage:o.mr,title:e.name?.trim(),sortByAmount:t??0,sortByValue:i??0,sortByPerformance:d,listed:e.listed,gridViewListedPillText:e.listed?"Listed":null,listViewListedPillText:e.listed?null:void 0,disabled:e.listed,amount:t&&t>0?(0,a.jsx)(r.NT,{configKey:n.p1||n.Qd?"portfolioHero":"nftFloorPrice",fiat:(0,a.jsx)(r.sp,{value:e.currencyFloor?.price??0}),token:(0,a.jsx)(r.EI,{value:e.floor?.price??0})}):"",value:i&&i>0?(0,a.jsx)(r.NT,{configKey:n.p1||n.Qd?"portfolioHero":"nftFloorPrice",fiat:(0,a.jsx)(r.sp,{value:e.currencyFloor?.price??0}),token:(0,a.jsx)(r.EI,{value:e.floor?.price??0})}):"",...p(e.currencyFloor?.percentage??0,e.floor?.percentage??0,s)}}))},u=(e,t,s)=>({name:t||"",price:String(e?.price??0),amountChange:String(e?.change??0),percentageChange:String(e?.percentage??0),variant:(0,d.jO)(e?.change??0),groupId:s}),m=(e,t)=>{const s=e?.filter((e=>e.group===t)),i="suspicious"===t,l="scam"===t;return s.map((e=>{const t=!!e?.currencyFloor?.price||!!e?.floor?.price;return{id:e.id,group:e.group,image:e?.image??o.mr,fallbackImage:e.image,errorFallbackImage:o.mr,title:e.name?.trim(),isScam:"scam"===e.group,amount:i&&t&&(0,a.jsx)(r.NT,{configKey:n.p1||n.Qd?"portfolioHero":"nftFloorPrice",fiat:(0,a.jsx)(r.sp,{value:e.currencyFloor?.price??0}),token:(0,a.jsx)(r.EI,{value:e.floor?.price??0,displayType:"value"})}),value:i&&t&&(0,a.jsx)(r.NT,{configKey:n.p1||n.Qd?"portfolioHero":"nftFloorPrice",fiat:(0,a.jsx)(r.sp,{value:e.currencyFloor?.price??0}),token:(0,a.jsx)(r.EI,{value:e.floor?.price??0,displayType:"value"})}),sortByRarity:e.rarity?.rank??0,tagValues:(0,d.Iy)(l?0:e.rarity?.percentage),listed:e.listed,gridViewListedPillText:e.listed?"Listed":void 0,listViewListedPillText:e.listed?null:void 0,disabled:e.listed}}))},p=(e,t,s)=>!e&&"fiat"===s||!t&&"token"===s?null:{tagValues:{variant:(0,d.jO)("fiat"===s?e:t),percentage:(0,a.jsx)(r.NT,{configKey:n.p1||n.Qd?"portfolioHero":"nftFloorPrice",fiat:(0,a.jsx)(r.Tf,{value:e||"0",showSign:!0}),token:(0,a.jsx)(r.Tf,{value:t||"0",showSign:!0})})}},f=(e,t=o.mr)=>(({image:e,animationUrl:t,properties:s},a)=>{const i=s?.category,n=e??a;if(!i)return{category:o.YF,src:n,originalSrc:e??a};if("video"===i)return{category:i,src:t??a,posterSrc:n};if("vr"===i||"model"===i)return{category:i,src:t??a,posterSrc:n};if("audio"===i){const e=s.files.find((e=>e.type.startsWith("audio")));return{category:i,src:t||e?.uri||a,posterSrc:n}}return"image"===i?{category:i,src:n,originalSrc:e??a}:{category:o.YF,src:n??a,originalSrc:e??a}})(e,t)},"../../libs/shared/dist/features/nfts/utils/transferUtils.js":(e,t,s)=>{s.d(t,{B1:()=>o,Iq:()=>l,UH:()=>r,Uw:()=>b,Xm:()=>c,eA:()=>d,eN:()=>n,jo:()=>g,n3:()=>h,tX:()=>u,uk:()=>f,um:()=>p,vX:()=>m});var a=s("../../../node_modules/lodash/lodash.js"),i=s("../../libs/shared/dist/features/nfts/constants.js");const n=(e,t)=>{const s=e&&e?.suspicious||[];return{legitimate:[...(e&&e?.legitimate||[]).filter((e=>!t.includes(e)))||[]],suspicious:[...s,...t]}},r=(e,t)=>({suspicious:e&&e?.suspicious&&e?.suspicious.filter((e=>!t.includes(e)))||[],legitimate:[...e&&e?.legitimate||[],...t]}),o=(e,t)=>n(e,t.map((e=>e.mint))),d=(e,t)=>r(e,t.map((e=>e.mint))),l=(e,t)=>e&&e.suspicious?(0,a.difference)(t.suspicious,e.suspicious):t.suspicious||[],c=(e,t)=>e&&e.legitimate?(0,a.difference)(t.legitimate,e.legitimate):t.legitimate||[],u=e=>e.every((e=>x(e))),m=e=>e.some((e=>x(e))),p=e=>e.some((e=>"suspicious"===e.group)),f=e=>e.every((e=>"suspicious"===e.group)),h=e=>e.compressed?"compressed":e.tokenStandard===i.Yn.ProgrammableNonFungible?"programmable":!e.tokenStandard&&0===e.tokenData?.decimals&&Number(e.tokenData?.uiAmount)>1?"semiFungible":e.tokenStandard!==i.Yn.NonFungible&&e.tokenStandard!==i.Yn.FungibleAsset||1===Number(e.tokenData?.uiAmount)?"regular":"semiFungible",b=(e,t)=>e?.nfts?.reduce(((e,s)=>((s.group&&t.has(s.group)||t.has(s.id))&&!s.listed&&e.push({image:s.image??i.mr,name:s.name,group:s.group,subname:s.groupName||"",tokenAccountPubkey:s?.tokenData?.pubkey??"",mint:s.id,decimals:s?.tokenData?.decimals??0,compressed:s.compressed,typeForPosthog:h(s),isLastNft:1===Number(s.tokenData?.uiAmount),amount:Number(s.tokenData?.uiAmount??1),symbol:s.symbol,metaplexCore:!!s.metaplexCore}),e)),[]),x=e=>"suspicious"===e.group||"scam"===e.group,g=e=>e.toLowerCase()==="Burn NFT".toLowerCase()},"../../libs/shared/dist/features/notifications/api/index.js":(e,t,s)=>{s.d(t,{kG:()=>p,_v:()=>b,tL:()=>m,r1:()=>h,b2:()=>u,J:()=>x});var a=s("../../../node_modules/lodash/lodash.js"),i=s("../../libs/shared/dist/api/index.js"),n=s("../../libs/shared/dist/constants/notifications.js"),r=s("../../libs/shared/dist/storage/solflareService.js"),o=s("../../libs/shared/dist/features/notifications/constants.js");const d="1",l="1.0.0",c="web",u=async(e,t,s,a=!0)=>{if(!s)return await p(e,t),void(a?await r.Z.notificationsDevice.setEnabled(!1):await r.Z.notificationsDevice.remove());await r.Z.notificationsDevice.setEnabled(!0)};async function m(e,t,s){const n=await r.Z.notificationsDevice.get();if(!n){const a=await f(e,t.map(g),s);return await r.Z.notificationsDevice.set({pushToken:e.pushToken,pushProvider:e.pushProvider,enabled:!0}),{action:"created",deviceInfo:a}}if(e.pushToken!==n.pushToken||e.pushProvider!==n.pushProvider)try{await async function(e,t,s){const{body:a}=await(0,i.gz)(`${o.tn}/devices/token`,{pushToken:e.pushToken,pushProvider:e.pushProvider,newPushToken:t.pushToken,newPushProvider:t.pushProvider},{headers:{Language:s}});return a.data}(n,e,s),await r.Z.notificationsDevice.set({pushToken:e.pushToken,pushProvider:e.pushProvider,enabled:!0})}catch(a){await r.Z.notificationsDevice.remove();const{deviceInfo:i}=await m(e,t,s);return{action:"updated",deviceInfo:i}}let d;try{d=await async function(e,t,s){let n=await b(e,s),r=(0,a.cloneDeep)(n.subscriptions);const d=(0,a.map)(n.subscriptions,"publicKey"),l=(0,a.difference)(d,t),c=(0,a.difference)(t,d);return r=(0,a.filter)(r,(e=>!l.includes(e.publicKey))),(0,a.forEach)(c,(e=>r.push(g(e)))),(c.length||l.length)&&(n=await x(e,r,s)),n.language!==s&&(n=await async function(e,t,s,a){const{body:n}=await(0,i.gz)(`${o.tn}/devices`,{pushToken:e.pushToken,pushProvider:e.pushProvider,os:"web",osVersion:"1",appVersion:"1.0.0",language:t},{headers:{Language:t}});return n.data}(e,s)),n}(e,t,s)}catch{d=await f(e,t.map(g),s)}return{action:"updated",deviceInfo:d}}async function p(e,t){try{const{body:s}=await(0,i.IV)(`${o.tn}/devices?pushToken=${e.pushToken}&pushProvider=${e.pushProvider}`,{headers:{Language:t}});return s.data}catch(e){if(404===e.response.status)return!0;throw e}}async function f(e,t,s){const{body:a}=await(0,i.v_)(`${o.tn}/subscriptions`,{pushToken:e.pushToken,pushProvider:e.pushProvider,os:c,osVersion:d,appVersion:l,language:s,topics:n.E5,subscriptions:t.map((({publicKey:e,preferences:t})=>({publicKey:e,preferences:t})))},{headers:{Language:s}});return a.data}async function h(e,t){const{body:s}=await(0,i.gz)(`${o.tn}/devices`,{pushToken:e.pushToken,pushProvider:e.pushProvider,os:"web",osVersion:"1",appVersion:"1.0.0",language:t},{headers:{Language:t}});return s.data}async function b(e,t){const{body:s}=await(0,i.U2)(`${o.tn}/devices?pushToken=${e.pushToken}&pushProvider=${e.pushProvider}`,{headers:{Language:t}});return s.data}async function x(e,t,s){return await f(e,t,s)}const g=e=>({publicKey:e,preferences:n.Tc})},"../../libs/shared/dist/features/notifications/hooks/useRegisterNotifications.js":(e,t,s)=>{s.d(t,{U:()=>h});var a=s("../../../node_modules/react/index.js"),i=s("../../../node_modules/react-i18next/dist/es/useTranslation.js"),n=s("../../../node_modules/firebase/messaging/dist/esm/index.esm.js"),r=s("../../libs/shared/dist/constants/notifications.js"),o=s("../../libs/shared/dist/storage/solflareService.js"),d=s("../../libs/shared/dist/utils/extension.js"),l=s("../../libs/shared/dist/features/walletData/hooks/index.js"),c=s("../../libs/shared/dist/features/notifications/api/index.js"),u=s("../../libs/shared/dist/features/notifications/context/index.js"),m=s("../../libs/shared/dist/features/notifications/utils/index.js"),p=s("../../../node_modules/console-browserify/index.js");const f=async(e,t=0)=>{try{return await(0,n.LP)(e,{vapidKey:"BJaqqoHkXBHpbb5TjC0jks2gmd6rEfFrDu9BBk89E7IaU6bvzD6BscmDf9ryfyfsmyH-c_e0aqEwX-86UD0VHII"})}catch(s){if(t<3)return f(e,t+1);throw s}},h=()=>{const{t:e,i18n:t}=(0,i.$)(),[s,h]=(0,a.useState)(!1),b=(0,a.useRef)(null),x=(0,a.useRef)(null),g=(0,a.useRef)(!1),{notificationAuth:k,notificationsSupported:y,notificationsEnabled:j,setNotificationDevice:v,setFcmEnabled:w}=(0,u.l)(),{accounts:_}=(0,l.Rg)(),S=(0,a.useRef)(_);(0,a.useEffect)((()=>{S.current=_}),[_]);const C=(0,a.useCallback)((async()=>{x.current&&b.current&&b.current.port.postMessage({id:`notification-permission-${Math.floor(Date.now()/2e3)}`,type:"NOTIFICATION_PERMISSION",portId:x.current})}),[]);(0,a.useEffect)((()=>{if(!y)return;let e;return(async()=>{e=await(0,m.CO)(),e&&e.addEventListener("change",C)})(),()=>{e&&e.removeEventListener("change",C)}}),[C,y]);const A=(0,a.useCallback)((async e=>{if(!b.current)return;let t=null,s=null,a="/assets/logo-128.png";e.data.icon&&(a=e.data.icon),e.data&&(["notification","broadcast","cast","event"].includes(e.data.type)&&(t=e.data.title,s={body:e.data.body,icon:a,data:e.data}),b.current.port.postMessage({type:"NOTIFICATION",notificationId:e.data.uuid??e.messageId,notificationTitle:t,notificationOptions:s,portId:x.current}))}),[]),T=(0,a.useCallback)((async()=>{if(!b.current)return;if("granted"===Notification.permission){await Notification.requestPermission();const s=(0,n.KL)();try{const a=await f(s);if(a){g.current||((0,n.ps)(s,A),g.current=!0);try{const s={pushToken:a,pushProvider:r.x3},{action:i,deviceInfo:n}=await(0,c.tL)(s,S.current.map((({publicKey:e})=>e)),t.language);v(n),"created"===i&&b.current.port.postMessage({type:"NOTIFICATION",notificationId:`enabled-notifications-${Math.floor(Date.now()/2e3)}`,notificationTitle:`${e("notifications_enabled_title")} `,notificationOptions:{body:e("notifications_enabled_body"),icon:"/assets/logo-128.png"},portId:x.current}),b.current.port.postMessage({type:"NOTIFICATION_RELOAD_STATE",portId:x.current})}catch(e){}return}}catch(e){e.message.includes("push service error")&&w(!1)}}const s=await o.Z.notificationsDevice.get();s&&(await(0,c.kG)(s,t.language),v(null)),b.current.port.postMessage({type:"NOTIFICATION_RELOAD_STATE",portId:x.current})}),[A,t.language,v,w,e]),I=(0,a.useCallback)((async e=>{if("CONNECTION"===e.data.type)x.current=e.data.portId,C();else if("NOTIFICATION_PERMISSION"===e.data.type)T();else if("NOTIFICATION_RELOAD_STATE"===e.data.type){const e=await o.Z.notificationsDevice.get();if(e){const s=await(0,c._v)(e,t.language);v(s)}}else"NOTIFICATION"===e.data.type&&(new Notification(e.data.notificationTitle,e.data.notificationOptions).onclick=function(e){e.preventDefault(),e.target.close();const t=e.target.data,s=t?.publicKey;let a=null,i=null;try{if(t&&t.customPayload){const e=t.customPayload.match(/^([A-Za-z]+):(.*)$/);e&&e.length>=3&&(i=JSON.parse(e[2]),a=e[1])}}catch(e){p.log(e)}const n=d.p1?"/wallet.html#":"";let r=`${n}/portfolio`;const o=["source=notification"];let l=!d.p1&&window.location.pathname.startsWith("/provider")?"_blank":"_self";if(t&&i&&"CustomNotification"===a){const e=s?`/deeplink/${s}`:"";"dappBrowser"===i.redirect_page?(r=`${n}${e}/externallink`,o.push(`url=${encodeURIComponent(i.destination_url)}`),l="_blank"):"portfolioRoute"===i.redirect_page?r=`${n}${e}/portfolio`:"portfolioStakingRoute"===i.redirect_page?r=`${n}${e}/staking`:"tradingSwap"===i.redirect_page&&(r=`${n}${e}/trade`,i.destination_mint&&"So11111111111111111111111111111111111111112"!==i.destination_mint&&(o.push("from=So11111111111111111111111111111111111111112"),o.push(`to=${i.destination_mint}`))),i.campaign_id&&o.push(`campaign_id=${i.campaign_id}`),i.notification_id&&o.push(`notification_id=${i.notification_id}`)}else t&&s?(r=`${n}/deeplink/${s}/activity`,t.dappId&&(r=`${n}/deeplink/${s}/portfolio`,o.push(`msNotificationsCenter=${t.dappId}`))):t&&t.dappId&&(r=`${n}/portfolio`,o.push(`msNotificationsCenter=${t.dappId}`));o?.length>0&&(r+=`?${o.join("&")}`),window.open(r,l)})}),[C,T,t.language,v]);(0,a.useEffect)((()=>{if(y&&j&&null===b.current&&(!d.p1||!window.location.pathname.includes("confirm_popup.html")))return b.current=new SharedWorker("/notification-worker.js"),b.current.port.addEventListener("message",I),b.current.port.start(),h(!0),()=>{b.current&&(b.current.port.removeEventListener("message",I),b.current.port.close(),b.current=null)}}),[I,j,y]),(0,a.useEffect)((()=>{b.current&&x.current&&C()}),[C]),(0,a.useEffect)((()=>{if(!s||!k)return;const e=async e=>{v(await(0,c.r1)(k,e))};return t.on("languageChanged",(()=>{})),()=>{t.off("languageChanged",e)}}),[s,t,k,v])}},"../../libs/shared/dist/features/notifications/utils/isWalletTypeSupportedForNotification.js":(e,t,s)=>{s.d(t,{G:()=>i});var a=s("../../libs/wallet-core/dist/shared.js");const i=e=>[a.R7,a.vn,a.CO,a.pe,a.x4].includes(e)},"../../libs/shared/dist/features/notifications/utils/registerFirebaseApp.js":(e,t,s)=>{s.d(t,{C:()=>i});var a=s("../../../node_modules/firebase/app/dist/esm/index.esm.js");const i=async()=>((0,a.ZF)({apiKey:"AIzaSyBnuytdyhVuSzo0qAhX5QWYu6Z2jTBPWog",authDomain:"solflare-d0638.firebaseapp.com",projectId:"solflare-d0638",storageBucket:"solflare-d0638.appspot.com",messagingSenderId:"191112318129",appId:"1:191112318129:web:a3555b4ee54f13a6efa690"}),"permissions"in navigator?navigator.permissions.query({name:"notifications"}):null)},"../../libs/shared/dist/features/onramper/context/Onramper/index.js":(e,t,s)=>{s.d(t,{bk:()=>N,Ow:()=>F});var a=s("../../../node_modules/react/jsx-runtime.js"),i=s("../../../node_modules/react/index.js"),n=s("../../../node_modules/platform/platform.js"),r=s.n(n),o=s("../../libs/shared/dist/utils/extension.js"),d=s("../../libs/shared/dist/utils/featureFlags.js"),l=s("../../libs/shared/dist/features/shared/snackbar/index.js"),c=s("../../libs/shared/dist/storage/solflareService.js"),u=s("../../libs/shared/dist/features/featureFlags/utils.js"),m=s("../../libs/shared/dist/features/globalConfig/hooks/index.js"),p=s("../../libs/shared/dist/features/walletData/hooks/index.js"),f=s("../../libs/shared/dist/api/index.js"),h=s("../../libs/shared/dist/constants/index.js"),b=s("../../libs/foundation-ui/dist/index.js");var x=s("../../../node_modules/webextension-polyfill/dist/browser-polyfill.js"),g=s.n(x),k=s("../../../node_modules/bs58/index.js"),y=s.n(k),j=s("../../libs/wallet-core/dist/shared.js"),v=s("../../libs/shared/dist/utils/requestId.js");var w=s("../../../node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js"),_=s("../../../node_modules/motion/dist/es/framer-motion/dist/es/render/components/motion/proxy.mjs"),S=s("../../../node_modules/motion/dist/es/framer-motion/dist/es/components/AnimatePresence/index.mjs"),C=s("../../../node_modules/@mui/styles/makeStyles/makeStyles.js"),A=s("../../libs/rise-ui/dist/index.js");const T=(0,C.Z)((()=>({dialogScreenPaper:{padding:"0px",width:"auto",borderRadius:"20px",boxShadow:"none"},content:{padding:"0px !important",borderRadius:"20px",overflow:"hidden"}}))),I=({onClose:e,children:t})=>{const s=T();return o.p1&&!o.Cy?(0,a.jsx)(b.FullPageModal,{open:!0,children:t}):(0,a.jsx)(A.u_,{open:!0,disableBackdropClick:!0,contentClassName:s.content,dialogPaperClassName:s.dialogScreenPaper,onClose:e,children:t})},P=(0,w.Z)("div")({width:375,height:600,position:"relative"}),E=(0,w.Z)(_.E.div)({position:"absolute",top:0,bottom:0,left:0,right:0,display:"flex",alignItems:"center",justifyContent:"center"}),L=({url:e,onClose:t})=>{const[s,n]=(0,i.useState)(!0);return(0,a.jsx)(I,{onClose:t,children:(0,a.jsxs)(P,{children:[(0,a.jsx)(S.M,{initial:!1,children:s&&(0,a.jsx)(E,{animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:(0,a.jsx)(b.Loader,{size:"l",color:"default"})})}),e&&(0,a.jsx)("iframe",{width:375,height:600,style:{border:0,display:"block"},src:e,onLoad:()=>n(!1)})]})})},D=(0,i.createContext)(null),N=({children:e})=>{const[t,s]=(0,i.useState)(!1),[n,x]=(0,i.useState)(null),{enqueueSnackbar:k}=(0,l.Ds)(),{fetchSignedUrl:w}=(()=>{const{publicKey:e,walletType:t}=(0,p.rT)(),{cluster:s}=(0,m.LN)();return{fetchSignedUrl:(0,i.useCallback)((async(a,i,n)=>{const r=await async function({publicKey:e,cluster:t,source:s,walletType:a,storageService:i,getFeatureFlagsOrigin:n}){const r=a&&a in j.oH?j.oH[a]:255,o=n(),d=await i.solflarenetwork.get(),l=(0,v.A)(d),c={publicKey:e,network:t,wt:r,origin:o,user_platform:"web",source:s};return l&&(c.id=l),y().encode((new TextEncoder).encode(JSON.stringify(c)))}({publicKey:e,cluster:s,source:i,walletType:t,storageService:c.Z,getFeatureFlagsOrigin:u.l}),o=await async function(e,t,s,a){try{const{body:i}=await(0,f.U2)(`${h.JF}/v2/onramp/signed-url?partnerContext=${e}&publicKey=${t}&tokenOnrampId=${s}&mode=${a}`);return i}catch{return{signedUrl:""}}}(r,e,a,n);if(!o)throw new Error("Failed to fetch signed url");return o.signedUrl}),[e,t,s])}})(),_=(0,i.useCallback)((async(e,t)=>{s(!0);try{const s="Firefox"===r().name,a=(e=>`${e}${(()=>{const e=b.solflareTokens.semanticColorsOnramperPrimaryDefault.replace("#",""),t=b.solflareTokens.semanticColorsOnramperSecondaryDefault.replace("#",""),s=b.solflareTokens.semanticColorsOnramperTextPrimaryDefault.replace("#","");return`&themeName=dark&primaryColor=${e}&secondaryColor=${t}&containerColor=${b.solflareTokens.semanticColorsOnramperSurfaceElevation0.replace("#","")}&cardColor=${b.solflareTokens.semanticColorsOnramperSurfaceElevation1.replace("#","")}&primaryTextColor=${s}&secondaryTextColor=ffffff66&borderRadius=${b.solflareTokens.semanticOnramperBorderRadiusElement/16}&wgBorderRadius=0`})()}`)(await w(e,t,"buy"));await(async e=>{await d.Z.pv("/onRamperBuyRoute",{source:e})})(t),o.UJ&&!o.Qd?((e,t)=>{t?g().tabs.create({url:e}):g().windows.create({url:e,type:"popup",width:450,height:750})})(a,s):o.Qd?window.open(a,"_blank"):x(a)}catch{k("Failed to generate Onramper URL.",{variant:"error"})}finally{s(!1)}}),[k,w]),S=(0,i.useMemo)((()=>({actionBuy:_,isBuyProcessing:t})),[_,t]);return(0,a.jsxs)(D.Provider,{value:S,children:[e,!!n&&(0,a.jsx)(L,{url:n,onClose:()=>x(null)})]})},F=()=>{const e=(0,i.useContext)(D);if(null===e)throw new Error("'useOnramperContext' can't be called without 'OnramperProvider'.");return e}},"../../libs/shared/dist/features/pfp/api/index.js":(e,t,s)=>{s.d(t,{KB:()=>a.K,Yi:()=>c,mn:()=>l});var a=s("../../libs/shared/dist/features/pfp/api/requests.js"),i=s("../../../node_modules/@solana/web3.js/lib/index.browser.esm.js"),n=s("../../../node_modules/base64-js/index.js"),r=s("../../libs/shared/dist/api/index.js"),o=s("../../../node_modules/console-browserify/index.js");const d="https://wallet-api.solflare.com",l=async e=>{try{const t=`${d}/v2/portfolio/nft/set-pfp`,{body:s}=await(0,r.v_)(t,e);if(s?.error)throw new Error(s.error);if(!s?.txs.length)throw new Error("Failed to generate transaction");return{transaction:i.VersionedTransaction.deserialize((0,n.toByteArray)(s.txs[0])),fees:s.fees}}catch(e){throw o.dir(e),new Error(e?.response?.data?.error||e?.message)}},c=async e=>{try{const t=`${d}/v2/portfolio/nft/remove-pfp`,{body:s}=await(0,r.v_)(t,e);if(s?.error)throw new Error(s.error);if(!s?.txs.length)throw new Error("Failed to generate transaction");return{transaction:i.VersionedTransaction.deserialize((0,n.toByteArray)(s.txs[0])),fees:s.fees}}catch(e){throw o.dir(e),new Error(e?.response?.data?.error||e?.message)}}},"../../libs/shared/dist/features/portfolio/api/index.js":(e,t,s)=>{s.d(t,{B$:()=>x,ZK:()=>b,aR:()=>o,sG:()=>j,qR:()=>g,FT:()=>d,hG:()=>k,lz:()=>l,D1:()=>c,Nv:()=>y});var a=s("../../libs/shared/dist/api/index.js"),i=s("../../libs/shared/dist/constants/index.js"),n=s("../../libs/shared/dist/constants/networks.js"),r=s("../../libs/shared/dist/features/portfolio/constants.js");async function o(){try{const e=await(0,a.U2)("https://priority-fee-api.solflare.com");return e?.body?.compute_unit_price||0}catch{return 0}}const d=async(e,t="USD")=>{const{body:s}=await(0,a.U2)(`${i.JF}/v2/portfolio/token/${e}/info?&currency=${t}`);return s},l=async(e,t="mainnet",s="USD")=>{const{body:n}=await(0,a.U2)(`${i.JF}/v3/portfolio/tokens/${e}?network=${t}&currency=${s}&enablePartialErrors=true`);return n};async function c({term:e,cluster:t},{start:s=0,limit:i=50}={},o){const d={chainId:String(t&&n.vo[t]?n.vo[t]:n.vo.mainnet),query:e||" "};"number"==typeof s&&(d.start=String(s)),"number"==typeof i&&(d.limit=String(i));const{body:l}=await(0,a.U2)(`${r.yJ}/v1/search?${new URLSearchParams(d)}`),c=l?.content||[];return o&&o.length?{totalReceivedItems:c.length,data:c.filter((e=>!o.includes(e.address)))}:{totalReceivedItems:c.length,data:c}}var u=s("../../libs/shared/node_modules/@solana/spl-token/lib/esm/instructions/approve.js"),m=s("../../../node_modules/@solana/web3.js/lib/index.browser.esm.js"),p=s("../../../node_modules/base64-js/index.js"),f=s("../../libs/shared/dist/utils/units.js"),h=s("../../../node_modules/console-browserify/index.js");const b=async e=>{try{const{standard:t,...s}=e,{body:n}=await(0,a.v_)(`${i.JF}/v3/actions/${e.standard}/close`,s);if(!n?.txs?.length)throw new Error("Failed to generate transaction");return{transaction:m.VersionedTransaction.deserialize(p.toByteArray(n.txs[0])),data:{lamportsReturned:n.meta.lamportsReturned},fees:n.fees}}catch(e){throw h.dir(e),new Error(e?.response?.data?.error||e?.message)}},x=async e=>{try{const{standard:t,...s}=e,{body:n}=await(0,a.v_)(`${i.JF}/v3/actions/${e.standard}/burn-and-close`,s);if(!n?.txs?.length)throw new Error("Failed to generate transaction");return{transaction:m.VersionedTransaction.deserialize(p.toByteArray(n.txs[0])),fees:n.fees}}catch(e){throw h.dir(e),new Error(e?.response?.data?.error||e?.message)}},g=async e=>{try{const{body:t}=await(0,a.v_)(`${i.JF}/v3/actions/native/send`,e);if(!t?.txs?.length)throw new Error("Failed to generate transaction");return{transaction:m.VersionedTransaction.deserialize(p.toByteArray(t.txs[0])),fees:t.fees}}catch(e){throw h.dir(e),new Error(e?.response?.data?.error||e?.message)}},k=async e=>{try{const{standard:t,...s}=e,{body:n}=await(0,a.v_)(`${i.JF}/v3/actions/${e.standard}/send`,s);if(!n?.txs?.length)throw new Error("Failed to generate transaction");return{transaction:m.VersionedTransaction.deserialize(p.toByteArray(n.txs[0])),fees:n.fees}}catch(e){throw h.dir(e),new Error(e?.response?.data?.error||e?.message)}};async function y({blockhashFetcher:e,from:t,recipient:s,amount:a,tokenAccountPubkey:i,decimals:n}){const r=new m.PublicKey(t),o=new m.PublicKey(i),d=new m.PublicKey(s),l=(0,f.z)(a,n),c=(0,u.g6)(o,d,r,BigInt(l)),{blockhash:p}=await e.getLatestBlockhash("confirmed"),h=new m.TransactionMessage({payerKey:r,recentBlockhash:p,instructions:[c]}).compileToV0Message();return{transaction:new m.VersionedTransaction(h),fees:[{base:5e3,priority:0}]}}const j=async e=>{try{const{standard:t,...s}=e,{body:n}=await(0,a.v_)(`${i.JF}/v3/actions/${e.standard}/create-ata`,s);if(!n?.txs?.length)throw new Error("Failed to generate transaction");return{transaction:m.VersionedTransaction.deserialize(p.toByteArray(n.txs[0])),fees:n.fees}}catch(e){throw h.dir(e),new Error(e?.response?.data?.error||e?.message)}}},"../../libs/shared/dist/features/portfolio/constants.js":(e,t,s)=>{s.d(t,{PY:()=>r,U4:()=>n,bA:()=>i,eK:()=>d,gM:()=>a,uC:()=>o,yJ:()=>l});const a=5e3,i=890880,n=2039280,r="SOL",o="0.01",d="transferFeeConfig",l="https://token-list-api.solana.cloud"},"../../libs/shared/dist/features/portfolio/context/index.js":(e,t,s)=>{s.d(t,{N:()=>r,H:()=>o});var a=s("../../../node_modules/react/jsx-runtime.js"),i=s("../../../node_modules/react/index.js");const n=(0,i.createContext)(null),r=({children:e})=>{const[t,s]=(0,i.useState)(!1),[r,o]=(0,i.useState)(!1),[d,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)(!1),[m,p]=(0,i.useState)(null),[f,h]=(0,i.useState)(!1),[b,x]=(0,i.useState)(null),[g,k]=(0,i.useState)("portfolioButton"),y=(0,i.useMemo)((()=>{const e=m?.token,t=m?.token.accounts[m.tokenAccountIndex||0],s=m?.token.actions?.find((e=>"send"===e.name))?.metadata;return{tokenId:e?.mint||"",pubkey:t?.pubkey||"",symbol:e?.symbol||"",name:e?.name,isAta:!!t?.isAta,amount:e?.amount||"",rawAmount:e?.amount||"",decimals:e?.decimals||0,logoURI:e?.imageUri||"",verified:!!e?.verified,value:"",price:"",rawValue:"",standard:e?.standard,metadata:s,priceInUsd:e?.price?.usdPrice}}),[m]),j=(0,i.useCallback)((()=>{s(!0)}),[]),v=(0,i.useCallback)((()=>{s(!1)}),[]),w=(0,i.useCallback)((()=>{o(!0)}),[]),_=(0,i.useCallback)((()=>{o(!1)}),[]),S=(0,i.useCallback)((e=>{l(!0),k(e)}),[]),C=(0,i.useCallback)((()=>{l(!1),p(null)}),[]),A=(0,i.useCallback)(((e,t)=>{p(e),u(!0),k(t)}),[]),T=(0,i.useCallback)((()=>{u(!1),p(null)}),[]),I=(0,i.useCallback)((e=>{x(e),h(!0)}),[]),P=(0,i.useCallback)((()=>{h(!1)}),[]),E=(0,i.useMemo)((()=>({receiveModal:t,openReceiveModal:j,closeReceiveModal:v,createTokenModal:r,openCreateTokenModal:w,closeCreateTokenModal:_,transferModal:d,openTransferModal:S,closeTransferModal:C,splTransferModal:c,splTransferToken:m,openSplTransferModal:A,closeSplTransferModal:T,providedAccount:y,splDelegateModal:f,splDelegateToken:b,openSplDelegateModal:I,closeSplDelegateModal:P,sendSource:g})),[_,v,P,T,y,C,r,w,j,I,A,S,t,f,b,c,m,d,g]);return(0,a.jsx)(n.Provider,{value:E,children:e})},o=()=>{const e=(0,i.useContext)(n);if(!e)throw new Error("usePortfolioState must be used within a PortfolioStateProvider");return e}},"../../libs/shared/dist/features/portfolio/hooks/index.js":(e,t,s)=>{s.d(t,{Dm:()=>n.D,RR:()=>r.R,h1:()=>a.h,nD:()=>i.n});var a=s("../../libs/shared/dist/features/portfolio/hooks/usePortfolio.js"),i=s("../../libs/shared/dist/features/portfolio/hooks/usePortfolioUIActions.js"),n=s("../../libs/shared/dist/features/portfolio/hooks/useSolanaToken.js"),r=s("../../libs/shared/dist/features/portfolio/hooks/usePortfolioPromo.js")},"../../libs/shared/dist/features/portfolio/hooks/useAccountValidation.js":(e,t,s)=>{s.d(t,{a:()=>d});var a=s("../../../node_modules/react/index.js"),i=s("../../libs/shared/dist/constants/mints.js"),n=s("../../libs/shared/dist/hooks/index.js"),r=s("../../libs/shared/dist/features/shared/account/index.js"),o=s("../../../node_modules/console-browserify/index.js");const d=({pubkey:e,mint:t})=>{const[s,d]=(0,a.useState)(null),[l,c]=(0,a.useState)(!1),u=t===i.BH,m=(0,n.Q)({purpose:"transfer"}),p=(0,a.useCallback)((async()=>{c(!0),d(null);try{let s;s=u?await(0,r.hu)({pubkey:e,connection:m}):await(0,r.$v)({pubkey:e,mint:t,connection:m}),d(s)}catch(e){o.error(e),d({ok:!1})}finally{c(!1)}}),[u,e,t,m]);return(0,a.useEffect)((()=>{p()}),[p]),{accountValidation:s,isLoading:l}}},"../../libs/shared/dist/features/portfolio/hooks/useAmountInput.js":(e,t,s)=>{s.d(t,{_:()=>h});var a=s("../../../node_modules/react/index.js"),i=s("../../../node_modules/react-i18next/dist/es/useTranslation.js"),n=s("../../../node_modules/bignumber.js/bignumber.js"),r=s.n(n),o=s("../../libs/shared/dist/constants/mints.js"),d=s("../../libs/shared/dist/utils/common.js"),l=s("../../libs/shared/dist/utils/displayPrice.js"),c=s("../../libs/shared/dist/utils/truncateMiddle.js"),u=s("../../libs/shared/dist/utils/units.js"),m=s("../../libs/shared/dist/features/currencies/hooks/index.js"),p=s("../../libs/shared/dist/features/portfolio/queries/index.js"),f=s("../../libs/shared/dist/features/portfolio/utils/index.js");const h=({providedAccount:e})=>{const{data:t}=(0,p.yo)(),s=(0,m.Af)(),{t:n}=(0,i.$)(),{computeUnitPrice:h}=(0,p.NT)(),b=t?.tokens,x=(0,a.useMemo)((()=>{if(!b)return[];const e=b.reduce(((e,t)=>{const a=t.accounts.filter((e=>"frozen"!==e.state&&(t.mint===o.BH||e.amount&&+e.amount>0))).map((e=>{const a=(0,u.d)(e?.amount||0,t.decimals),i=new(r())(a).times(t.price?.price||0).toString();return{tokenId:t.mint,pubkey:e.pubkey,symbol:t.symbol,name:t.name||(0,c.r)(t.mint),isAta:!!e.isAta,showInfo:e.isAta||t.mint===o.BH||"spl-token-2022"===t.standard?"":n("portfolio_send_dropdown_not_ata_tooltip"),rawAmount:a,amount:(0,l.ED)({amount:a,displayType:"amount",pricePerCoin:t.price?.usdPrice||0}),rawValue:i,value:+a&&t.price&&0!==t.price.price?(0,l.ED)({prefix:s.symbol,amount:i,displayType:"value",pricePerCoin:t.price?.usdPrice||0}):"",logoURI:t.imageUri,verified:t.verified,price:String(t.price?.price??0),decimals:t.decimals,metadata:t.actions?.find((e=>"send"===e.name))?.metadata,standard:t.standard,extensions:t.extensions,priceInUsd:t.price?.usdPrice}}));return e.concat(a)}),[]);return(0,f.Bj)(e)}),[s.symbol,n,b]),g=e?.tokenId?x.find((t=>t.pubkey===e?.pubkey))||e:x[0],[k,y]=(0,a.useState)(g),[j,v]=(0,a.useState)(""),[w,_]=(0,a.useState)(""),S=(0,a.useMemo)((()=>(0,f.Ir)({amount:k?.rawAmount||"0",tokenId:k?.tokenId||"",computeUnitPrice:h})),[h,k?.rawAmount,k?.tokenId]),C=(0,a.useMemo)((()=>w?(0,f.ls)(x,w):x),[w,x]),A=k?.price&&(0,d.T4)(k?.price)&&k.priceInUsd?(0,l.ED)({amount:String(+j*+k.price),prefix:s.symbol,displayType:"value"}):"",T=(0,a.useCallback)((e=>{let{value:t}=e.target;t=t.trim(),t.includes(",")&&(t=t.replace(",","."));const s=(0,d.T4)(t);"."!==t&&","!==t?(0,d.w9)(t,k?.decimals||0)&&s&&v(t):v("0.")}),[k?.decimals]);return{sendTokens:x,selectedToken:k,setSelectedToken:y,maxAvailable:S,inputAmount:j,setInputAmount:v,computedInputValue:A,solBalance:x[0]?.rawAmount,computeUnitPrice:h,filteredTokens:C,setSearchParam:_,handleAmountChange:T,handleSelectedTokenChange:e=>{y(e),_(""),+j&&v((0,d.iP)(j||0,e?.decimals||0))}}}},"../../libs/shared/dist/features/portfolio/modals/ManageAssets/index.js":(e,t,s)=>{s.d(t,{a:()=>f});var a=s("../../../node_modules/react/jsx-runtime.js"),i=s("../../../node_modules/react/index.js"),n=s("../../../node_modules/react-i18next/dist/es/useTranslation.js"),r=s("../../../node_modules/@tanstack/react-query/build/modern/QueryClientProvider.js"),o=s("../../../node_modules/@tanstack/react-query/build/modern/useInfiniteQuery.js"),d=s("../../../node_modules/lodash/lodash.js"),l=s("../../libs/foundation-ui/dist/index.js"),c=s("../../libs/shared/dist/modals/index.js"),u=s("../../libs/shared/dist/utils/truncateMiddle.js"),m=s("../../libs/shared/dist/features/globalConfig/hooks/index.js"),p=s("../../libs/shared/dist/features/portfolio/api/index.js");const f=({submit:e,onClose:t,portfolioList:s})=>{const{t:f}=(0,n.$)(),h=(0,m.LN)(),b=(0,r.NL)(),x=(0,i.useMemo)((()=>(s||[]).map((e=>e.id))),[s]),g=e=>e.map((e=>({...e,title:e.name,subtitle:(0,u.r)(e.address)}))),{data:k,hasNextPage:y,fetchNextPage:j,refetch:v,isPending:w}=(0,o.N)({initialPageParam:0,queryKey:["manage-assets-filter",h.cluster],queryFn:async({pageParam:e=0})=>(0,p.D1)({term:_,cluster:h.cluster},{start:e,limit:40},x).then((e=>({...e,data:g(e.data)}))),getNextPageParam:(e,t)=>!e||e.totalReceivedItems<40?void 0:40*t.length,enabled:!1});(0,i.useEffect)((()=>{v()}),[v]);const[_,S]=(0,i.useState)(""),C=(0,i.useRef)((0,d.debounce)(v,200)).current,{tokens:A,tokensById:T}=(0,i.useMemo)((()=>{const e=(0,d.keyBy)((k?.pages?.map((e=>e.data))||[])?.flat(),"address");return{tokens:Object.keys(e),tokensById:e}}),[k]),I=!w&&0===A.length;return(0,a.jsx)(c.V$,{onClose:t,title:f("portfolio_create_account_title"),children:(0,a.jsx)(l.Section,{children:(0,a.jsx)(l.ManageAssetsList,{noResults:I,isLoading:w,data:A.map((e=>T[e])),onTokenClick:s=>{const a=T[s]??{address:s,name:"Unknown",logoURI:"",decimals:0,symbol:"Unknown"};e(a),t(),b.resetQueries({queryKey:["manage-assets-filter"]})},onSearch:e=>{b.resetQueries({queryKey:["manage-assets-filter"]}),S(e),C()},endReached:()=>y&&j(),placeholder:"Search by token name or address",addTitle:f("action_add"),noResultsFound:f("search_no_results_found")})})})}},"../../libs/shared/dist/features/portfolio/queries/index.js":(e,t,s)=>{s.d(t,{NT:()=>n,yo:()=>b,bi:()=>o});var a=s("../../../node_modules/@tanstack/react-query/build/modern/useQuery.js"),i=s("../../libs/shared/dist/features/portfolio/api/index.js");const n=()=>{const{data:e}=(0,a.a)({queryKey:["compute-units"],queryFn:i.aR,staleTime:72e5});return{computeUnitPrice:e||0}};var r=s("../../libs/shared/dist/features/currencies/hooks/index.js");const o=e=>{const t=(0,r.Af)();return(0,a.a)({queryKey:["tokenInfo",e,t.ticker],queryFn:()=>(0,i.FT)(e,t.ticker),refetchInterval:6e4,enabled:!!e})};var d=s("../../../node_modules/bignumber.js/bignumber.js"),l=s.n(d),c=s("../../../node_modules/lodash/lodash.js"),u=s("../../libs/shared/dist/constants/mints.js"),m=s("../../libs/shared/dist/utils/tokenAccounts.js"),p=s("../../libs/shared/dist/utils/units.js"),f=s("../../libs/shared/dist/features/globalConfig/hooks/index.js"),h=s("../../libs/shared/dist/features/walletData/hooks/index.js");const b=()=>{const{publicKey:e}=(0,h.rT)(),t=(0,f.LN)(),s=(0,r.Af)();return(0,a.a)({queryKey:["tokens",e,t.url,s.ticker],queryFn:()=>(0,i.lz)(e,t.cluster,s.ticker),refetchInterval:6e4,select:t=>((e,t)=>{const s=e.tokens.map((e=>{const s=e.accounts.reduce(((e,t)=>e.plus(t.amount)),new(l())(0)),a=(0,p.d)(s,e.decimals),i=new(l())(a).times(e.price?.price||0).toString(),n=(0,m.d)(e.mint,t,e.standard);return{...e,amount:a,value:i,accounts:(e.accounts||[]).map((t=>{const s=(0,p.d)(t.amount,e.decimals);return{...t,uiAmount:s,value:new(l())(s).times(e.price?.price||0).toString(),isAta:t.pubkey===n,delegation:t.delegation?{...t.delegation,uiAmount:(0,p.d)(t.delegation.amount,e.decimals)}:null}}))}})),a=(0,c.sortBy)(s,[e=>e.mint!==u.BH,e=>!e.name,e=>-(e.value||0),e=>-(e.amount||0),e=>e.mint]);return{...e,tokens:a}})(t,e),enabled:!!e})}},"../../libs/shared/dist/features/portfolio/transformers/index.js":(e,t,s)=>{s.d(t,{u:()=>h,A:()=>f});var a=s("../../../node_modules/react/jsx-runtime.js"),i=s("../../../node_modules/bignumber.js/bignumber.js"),n=s.n(i),r=s("../../libs/shared/dist/utils/displayPrice.js");const o=(e,t,s,a)=>+e<0?t:+e>0?a:s;var d=s("../../libs/shared/dist/utils/truncateMiddle.js"),l=s("../../libs/shared/dist/utils/units.js"),c=s("../../libs/shared/dist/features/currencies/components/index.js"),u=s("../../libs/shared/dist/features/currencies/utils/index.js"),m=s("../../libs/shared/dist/features/singleToken/utils/isTokenFrozen.js"),p=s("../../libs/shared/dist/features/portfolio/constants.js");const f=(e,t,s,a)=>{const i=(0,u.MK)(s.ticker,s.symbol),c=e.accounts.reduce(((e,t)=>e.plus(t.amount)),new(n())(0)),f=(0,l.d)(c,e.decimals),h=new(n())(f).times(e.price?.price||0).toString(),b=new(n())(f).times(e.solPrice?.price||0).toString(),x=h&&"0"!==h&&e.price?.price?(0,r.ED)({amount:h,displayType:"value",prefix:i}):"",g=b&&"0"!==b&&e.solPrice?.price?(0,r.ED)({amount:b,displayType:"value",suffix:" SOL"}):"",k=e.price?.price?(0,r.ED)({amount:e.price.price,displayType:"value",prefix:i}):"",y=e.solPrice?.price?(0,r.ED)({amount:e.solPrice.price,displayType:"value",suffix:" SOL"}):"",j=e.price?.liquidity?(0,r.ED)({amount:e.price.liquidity,displayType:"value"}):"",v=e.price?.volume24h?(0,r.ED)({amount:e.price.volume24h,displayType:"value"}):"",w={value:e.price?.volumeChange24h?o(e.price.volumeChange24h,"-","","+")+(0,r.ED)({amount:Math.abs(e.price.volumeChange24h),displayType:"value",suffix:"%"}):"",positive:(e.price?.volumeChange24h||0)>=0},_=e.price?.mc?(0,r.ED)({amount:e.price.mc,displayType:"value"}):"",S=e.price?.change||0,C=e.solPrice?.change||0,A={value:e.price?.change?o(S,"-","","+")+(0,r.ED)({amount:Math.abs(S),displayType:"value",suffix:"%"}):"",positive:(e.price?.change||0)>=0},T={value:e.solPrice?.change?o(C,"-","","+")+(0,r.ED)({amount:Math.abs(C),displayType:"value",suffix:"%"}):"",positive:(e.solPrice?.change||0)>=0},I=e?.extensions?.find((e=>e.extension===p.eK)),P=I?.state?.newerTransferFee?.transferFeeBasisPoints/100,E={value:I?`${P}%`:"0%",display:P>0};return{id:e.mint,tokenId:e.mint,amount:(0,r.ED)({amount:f,displayType:"amount",pricePerCoin:e.price?.usdPrice||0}),name:e.name||(0,d.r)(e.mint),symbol:e.symbol,logoURI:e.imageUri||"",price:"fiat"===a?k:y,value:"fiat"===a?x:g,verified:e.verified,priceDiff:"fiat"===a?A:T,rawAmount:f,rawValue:h,liquidity:j,volume24h:v,volumeChange24h:w,marketCap:_,transferFee:E,frozen:(0,m.r)(e)}},h=(e,t,s,i)=>{if(e)return{tokens:e.tokens.map((e=>f(e,t,s,i))),heroUi:"fiat"===i?{total:(0,a.jsx)(c.sp,{value:String(e.value.total||"0")}),change:(0,a.jsx)(c.sp,{value:String(e.value.change||"0"),showSign:!0}),percentage:(0,a.jsx)(c.Tf,{value:String(e.value.percentage||"0"),showSign:!0}),totalRaw:e.value.total,totalChangeRaw:e.value.change,variant:e.value.change<0?"error":"success",priceCurrencyDisplay:i}:{total:(0,a.jsx)(c.EI,{value:String(e.solValue.total||"0")}),change:(0,a.jsx)(c.EI,{value:String(e.solValue.change||"0"),hideSymbol:!0,showSign:!0}),percentage:(0,a.jsx)(c.Tf,{value:String(e.solValue.percentage||"0"),showSign:!0}),totalChangeRaw:e.solValue.change,totalRaw:e.solValue.total,variant:e.solValue.change<0?"error":"success",priceCurrencyDisplay:i}}}},"../../libs/shared/dist/features/portfolio/utils/filterTokens.js":(e,t,s)=>{s.d(t,{l:()=>a});const a=(e,t)=>t?e.filter((e=>e.name?.toLowerCase().includes(t.toLowerCase().trim())||e.symbol?.toLowerCase().includes(t.toLowerCase().trim())||e.tokenId===t.trim())):e},"../../libs/shared/dist/features/promo/api/requests.js":(e,t,s)=>{s.d(t,{Cv:()=>o,Ey:()=>l,P4:()=>d});var a=s("../../../node_modules/@solana/web3.js/lib/index.browser.esm.js"),i=s("../../../node_modules/base64-js/index.js"),n=s("../../libs/shared/dist/api/index.js"),r=s("../../libs/shared/dist/constants/index.js");const o=async({address:e,platform:t,language:s,at:a})=>{const{body:i}=await(0,n.U2)(`${r.JF}/v3/promo/intermediaries/list/?address=${e}&platform=${t}&language=${s}&at=${a}`);return i},d=async({publicKey:e,cluster:t,txID:s})=>{const{body:o}=await(0,n.U2)(`${r.JF}/v3/promo/tx/${s}?address=${e}&network=${t}`);return{transactions:o.data.txs.map((e=>({transaction:a.VersionedTransaction.deserialize((0,i.toByteArray)(e))}))),data:o.data}},l=async({address:e,platform:t,language:s,at:a})=>{const{body:i}=await(0,n.U2)(`${r.JF}/v3/promo/banners/list/?address=${e}&platform=${t}&language=${s}&at=${a}`);return i}},"../../libs/shared/dist/features/promo/components/index.js":(e,t,s)=>{s.d(t,{c:()=>d,l:()=>k});var a=s("../../../node_modules/react/jsx-runtime.js"),i=s("../../libs/foundation-ui/dist/index.js"),n=s("../../libs/shared/dist/components/index.js"),r=s("../../libs/shared/dist/utils/iconMap.js");const o=({type:e,url:t})=>{switch(e){case"dapp":return(0,a.jsx)(n.iB,{host:t});case"token":return(0,a.jsx)(n.yY,{src:t,verified:!0});case"validator":return(0,a.jsx)(i.ValidatorAvatar,{src:t});case"nft":return(0,a.jsx)(i.NFTAvatar,{src:t});case"icon":return(0,a.jsx)(i.IconAvatarV2,{icon:(0,r.q)(t)});default:return""}},d=({banners:e,isLoading:t,dismissBanner:s,onClickBanner:n})=>e?.length?(0,a.jsx)(i.Carousel,{isLoading:t,slidesLength:e?.length??0,renderSlides:()=>e?.map((t=>(0,a.jsx)(i.Banner,{onClose:()=>s(t),pagination:e?.length>1,onClick:t.cta?()=>n(t):void 0,avatar:t?.icon?o(t.icon):null,...t,children:t?.cta?.text?(0,a.jsx)(i.Button,{size:"s",children:t.cta?.text}):null},t.id)))??[]}):null;var l=s("../../../node_modules/react/index.js"),c=s("../../libs/shared/dist/utils/origin.js"),u=s("../../libs/shared/dist/features/dappCommunication/context/index.js"),m=s("../../libs/shared/dist/features/globalConfig/hooks/index.js"),p=s("../../libs/shared/dist/features/transactionFlow/components/index.js"),f=s("../../libs/shared/dist/features/transactionFlow/context/index.js"),h=s("../../libs/shared/dist/features/transactionFlow/hooks/index.js"),b=s("../../libs/shared/dist/features/walletData/hooks/index.js"),x=s("../../libs/shared/dist/features/promo/api/index.js"),g=s("../../libs/shared/dist/features/promo/context/index.js");const k=({txID:e,onClose:t})=>{const{analizedTransactionInit:s,transactionData:i}=(0,f.p)(),{publicKey:n}=(0,b.rT)(),{tSignTxExternal:r}=(0,g.Dq)(),{cluster:o}=(0,m.LN)(),[d,k]=(0,l.useState)({origin:"",host:"",title:""});return(0,l.useEffect)((()=>{n&&s({txBuilder:x.P4,useSignAndSend:h.go,builderParams:{publicKey:n,cluster:o,txID:e},ffLogFunction:r,commitment:"confirmed",onEnd:t})}),[n,e,o]),(0,l.useEffect)((()=>{if(i&&"data"in i){const e=i?.data?.dapp;k({origin:e?.origin??"",host:(0,c.m)(e?.origin),title:e?.title??""})}}),[i]),(0,a.jsx)(u.s.Provider,{value:d,children:(0,a.jsx)(p.J9,{})})}},"../../libs/shared/dist/features/promo/constants.js":(e,t,s)=>{s.d(t,{K:()=>a});const a=6e4},"../../libs/shared/dist/features/promo/context/Promo/index.js":(e,t,s)=>{s.d(t,{HF:()=>w,gI:()=>_,Dq:()=>S});var a=s("../../../node_modules/react/jsx-runtime.js"),i=s("../../../node_modules/react/index.js"),n=s("../../libs/shared/dist/storage/solflareService.js"),r=s("../../libs/shared/dist/features/walletData/hooks/index.js"),o=s("../../../node_modules/bignumber.js/bignumber.js"),d=s.n(o),l=s("../../libs/shared/dist/constants/mints.js"),c=s("../../libs/shared/dist/utils/lamportToSol.js"),u=s("../../libs/shared/dist/features/featureFlags/index.js"),m=s("../../libs/shared/dist/features/featureFlags/promo/index.js"),p=s("../../libs/shared/dist/features/nfts/hooks/useNftData.js"),f=s("../../libs/shared/dist/features/portfolio/queries/index.js"),h=s("../../libs/shared/dist/features/stakingCore/index.js"),b=s("../../libs/shared/dist/features/promo/context/index.js"),x=s("../../../node_modules/@tanstack/react-query/build/modern/useQuery.js"),g=s("../../libs/wallet-core/dist/shared.js"),k=s("../../libs/shared/dist/features/featureFlags/utils.js"),y=s("../../libs/shared/dist/features/settings/index.js"),j=s("../../libs/shared/dist/features/promo/api/index.js"),v=s("../../libs/shared/dist/features/promo/constants.js");const w=(0,i.createContext)({banners:[],bannersResponse:void 0,areBannersLoading:!1,readPubkeys:()=>{},tBannerCTA:()=>{},tBannerClose:()=>{},tIntermediaryCTA:()=>{},tIntermediaryClose:()=>{},tSignTxExternal:()=>{}}),_=({children:e})=>{const{publicKey:t}=(0,r.rT)(),{data:s,isPending:o}=(()=>{const{publicKey:e,walletType:t}=(0,r.rT)(),{current:s}=(0,y.ix)();return(0,x.a)({queryKey:["banners",e,s],queryFn:()=>(0,j.Ey)({address:e,platform:(0,k.l)(),language:s,at:g.oH[t||""]??g.Yf}),enabled:!!e,refetchInterval:v.K})})(),[_,S]=(0,i.useState)({}),[C,A]=(0,i.useState)(!0),{tBannerCTA:T,tBannerClose:I,tIntermediaryCTA:P,tIntermediaryClose:E,tSignTxExternal:L}=(()=>{if(!(0,i.useContext)(b.HF))throw new Error("usePromoFeatureFlags must be used within a usePromoContext");const{data:e}=(0,f.yo)(),{data:t}=(0,p.c)(),{data:s}=(0,h.ku)(),[a,n]=(0,i.useState)(),[r,o]=(0,i.useState)(),[x,g]=(0,i.useState)(),k=s?.header,y=(0,c.s)(k?.totalAmount||0),j=s&&void 0!==k?.totalAmount?+y.multipliedBy(new(d())(k?.price?.usdPrice||0)):0,v=t?.totalFloor?.price&&t?.solanaPrice?.usdPrice?t?.totalFloor?.price*t?.solanaPrice?.usdPrice:0,w=e?.tokens.find((e=>e.mint===l.BH))?.price?.usdPrice,_=e&&w?e?.solValue.total*w:0,S=e?.tokens.find((e=>e.mint===l.BH))?.totalUiAmount??0,C=j+v+_,A=(0,i.useMemo)((()=>({totalStakeValueInUsd:j,totalNftsValueInUsd:v,totalTokensValueInUsd:_,totalPortfolioValueInUsd:C,totalAvailableSolAmount:S?+S:void 0})),[j,v,_,C,S]),T=(0,i.useCallback)(((e,t)=>{const{id:s,campaignId:a,cta:i}=e;if(i)return o({...e,index:t}),n("remoteBanner"),(0,m.Jz)({bannerID:s,bannerCampaignID:a,bannerIndex:t,ctaType:i.type,...A})}),[A]),I=(0,i.useCallback)((({id:e,campaignId:t},s)=>{o(void 0),(0,m.Mb)({bannerID:e,bannerCampaignID:t,bannerIndex:s,...A})}),[A]),P=(0,i.useCallback)((e=>{const{id:t,campaignId:s,cta:a}=e;return g(e),n("intermediaryScreen"),(0,m.A)({intermediaryScreenID:t,intermediaryScreenCampaignID:s,ctaType:a.type,...A})}),[A]),E=(0,i.useCallback)((e=>{g(void 0),(0,m.kk)({page:e})}),[]),L=(0,i.useCallback)((e=>{if(!a)return;const t="intermediaryScreen"===a?{intermediaryScreenCampaignID:x?.campaignId,intermediaryScreenID:x?.id}:{bannerCampaignID:r?.campaignId,bannerID:r?.id,bannerIndex:r?.index};(0,u.Y$)({source:a,...t,...e})}),[a,r,x]);return(0,i.useMemo)((()=>({stakingData:s,nftData:t,tBannerCTA:T,tBannerClose:I,tIntermediaryCTA:P,tIntermediaryClose:E,tSignTxExternal:L})),[T,I,P,E,L,s,t])})(),D=(0,i.useCallback)((async()=>{if(t){const e=await n.Z.portfolioBanner.getBannerStatuses(t);S(e??{}),A(!1)}}),[t]);(0,i.useEffect)((()=>{D()}),[D]);const N=(0,i.useMemo)((()=>{const e=Date.now();return s?.data.filter((t=>{if(!_[t.id])return!0;const s=_[t.id],a=t?.coolDownTime;return!(a&&s&&e-s<=a)}))??[]}),[s?.data,_]),F=(0,i.useMemo)((()=>({banners:N,areBannersLoading:C||o,bannersResponse:s,readPubkeys:D,tBannerCTA:T,tBannerClose:I,tIntermediaryCTA:P,tIntermediaryClose:E,tSignTxExternal:L})),[o,N,s,C,D,T,I,P,E,L]);return(0,a.jsx)(w.Provider,{value:F,children:e})},S=()=>{const e=(0,i.useContext)(w);if(!e)throw new Error("usePromoContext must be used within a usePromoContext");return e}},"../../libs/shared/dist/features/promo/modals/index.js":(e,t,s)=>{s.d(t,{H:()=>c});var a=s("../../../node_modules/react/jsx-runtime.js"),i=s("../../../node_modules/react/index.js"),n=s("../../../node_modules/react-i18next/dist/es/useTranslation.js"),r=s("../../libs/foundation-ui/dist/index.js"),o=s("../../libs/shared/dist/utils/extension.js"),d=s("../../libs/shared/dist/utils/featureFlags.js"),l=s("../../libs/shared/dist/features/featureFlags/promo/index.js");const c=({onClose:e,onCTAClick:t,cta:s,graphicType:c,...u})=>{const{t:m}=(0,n.$)();return(0,i.useEffect)((()=>(d.Z.pv(l.J6),()=>{d.Z.pl(l.J6)})),[]),(0,a.jsx)(r.IntermediaryScreen,{...u,variant:c,finishCTA:{label:s?.text||m("action_continue"),onClick:t},nextCTA:{label:m("action_next")},backCTA:{label:m("action_back")},onClose:e,isFullScreenModal:o.p1&&!o.Cy})}},"../../libs/shared/dist/features/receive/components/QRGenerator/index.js":(e,t,s)=>{s.d(t,{s:()=>l});var a=s("../../../node_modules/react/jsx-runtime.js"),i=s("../../../node_modules/react/index.js"),n=s("../../../node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js"),r=s("../../../node_modules/easyqrcodejs/dist/easy.qrcode.min.js"),o=s.n(r);const d=n.Z.div({"& canvas":{borderRadius:8,width:220,height:220}}),l=({text:e})=>{const t=(0,i.useCallback)((t=>{t&&new(o())(t,{text:e,logoWidth:64,logoHeight:64,quietZone:10,quietZoneColor:"white"})}),[]);return(0,a.jsx)(d,{ref:t})}},"../../libs/shared/dist/features/receive/modals/index.js":(e,t,s)=>{s.d(t,{Z:()=>p});var a=s("../../../node_modules/react/jsx-runtime.js"),i=s("../../../node_modules/react/index.js"),n=s("../../../node_modules/react-i18next/dist/es/useTranslation.js"),r=s("../../libs/foundation-ui/dist/index.js"),o=s("../../libs/shared/dist/features/walletData/hooks/useActiveWallet.js"),d=s("../../libs/shared/dist/hooks/index.js"),l=s("../../libs/shared/dist/modals/index.js"),c=s("../../libs/shared/dist/utils/truncateMiddle.js"),u=s("../../libs/shared/dist/features/featureFlags/receive/index.js"),m=s("../../libs/shared/dist/features/receive/components/QRGenerator/index.js");const p=({onClose:e,tRoute:t,tSource:s})=>{const{t:p}=(0,n.$)(),{copy:f}=(0,d.c)(),{publicKey:h,accountName:b}=(0,o.r)();return(0,i.useEffect)((()=>{(0,u.e)(t,s)}),[t,s]),(0,a.jsx)(l.V$,{title:p("action_receive"),onClose:e,footer:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.TextXS,{textAlign:"center",children:p("receive_modal_footer_text")}),(0,a.jsx)(r.ButtonGroup,{children:(0,a.jsx)(r.Button,{onClick:()=>{f(h),(0,u.Y)(s)},children:p("action_copy_address")})})]}),children:(0,a.jsx)(r.Section,{children:(0,a.jsx)(r.Receive,{address:(0,c.r)(h),title:b||p("receive_your_wallet_name"),code:(0,a.jsx)(m.s,{text:h})})})})}},"../../libs/shared/dist/features/recentAddresses/context/RecentAddressesContext/index.js":(e,t,s)=>{s.d(t,{g:()=>h,r:()=>f});var a=s("../../../node_modules/react/jsx-runtime.js"),i=s("../../../node_modules/react/index.js"),n=s("../../../node_modules/dayjs/dayjs.min.js"),r=s.n(n),o=s("../../../node_modules/lodash/lodash.js"),d=s("../../libs/shared/dist/features/recipientInput/hooks/useWalletsPerPubkey.js"),l=s("../../libs/shared/dist/storage/solflareService.js"),c=s("../../libs/shared/dist/utils/truncateMiddle.js"),u=s("../../libs/shared/dist/features/globalConfig/hooks/index.js"),m=s("../../libs/shared/dist/features/shared/account/index.js");const p=(0,i.createContext)(null),f=({children:e})=>{const t=(0,u.LN)(),s=(0,d.z)(),[n,f]=(0,i.useState)([]),[h,b]=(0,i.useState)(!1),x=(0,i.useCallback)((async e=>{try{const s=await(0,m.ru)(e,t.cluster);return s?s.publicKey:null}catch{return null}}),[t]);(0,i.useEffect)((()=>{b(!0),(async()=>{const e=await l.Z.solflarerecentaddresses.get(),t=[];for(const s of e)t.push({...s,pubkey:await x(s.address)||s.address});f((e=>(0,o.sortBy)((0,o.uniqBy)([...e,...t],"address"),(e=>-e.timestamp)))),b(!1)})()}),[x]);const g=(0,i.useCallback)((async(e,t,a=!1)=>{const i=await l.Z.solflarerecentaddresses.get(),n=(0,o.sortBy)(i,(e=>-e.timestamp)),d=await x(e)||e;let u=n.findIndex((s=>t&&t!==(0,c.r)(e)?t===s.name:!s.name&&s.address===e));if(a)u>=0&&(await l.Z.solflarerecentaddresses.removeEntry(u),f((e=>e.filter(((e,t)=>t!==u)))));else{u<0&&s[d]&&(u=n.findIndex((t=>t.address===e)));const a={address:e,pubkey:d,timestamp:r()().unix(),...t!==(0,c.r)(e)&&{name:t}};await l.Z.solflarerecentaddresses.upsertEntry(u,a),f((e=>(u>=0&&e.splice(u,1),e.unshift({...a}),e)))}}),[x,s]),k=(0,i.useMemo)((()=>({addresses:n,isLoading:h,upsertAddress:g})),[n,h,g]);return(0,a.jsx)(p.Provider,{value:k,children:e})},h=()=>{const e=(0,i.useContext)(p);if(!e)throw new Error("useRecentAddressesContext must be used within a RecentAddressesProvider");return e}},"../../libs/shared/dist/features/recentAddresses/context/index.js":(e,t,s)=>{s.d(t,{g:()=>a.g,r:()=>a.r});var a=s("../../libs/shared/dist/features/recentAddresses/context/RecentAddressesContext/index.js")},"../../libs/shared/dist/features/recipientInput/components/index.js":(e,t,s)=>{s.d(t,{T:()=>p});var a=s("../../../node_modules/react/jsx-runtime.js"),i=s("../../../node_modules/react/index.js"),n=s("../../../node_modules/react-i18next/dist/es/useTranslation.js"),r=s("../../libs/foundation-ui/dist/index.js"),o=s("../../libs/shared/dist/constants/index.js"),d=s("../../libs/shared/dist/utils/extension.js"),l=s("../../libs/shared/dist/utils/truncateMiddle.js"),c=s("../../libs/shared/dist/features/pfp/components/index.js"),u=s("../../libs/shared/dist/features/recipientInput/context/index.js"),m=s("../../libs/shared/dist/features/recipientInput/types.js");const p=({hasErrors:e,displaySaveAddressCheckbox:t})=>{const{t:s}=(0,n.$)(),{recipients:p,setSearch:f,isLoading:h,isAddressValid:b,selectedRecipient:x,isAddressSaveable:g,saveAddressChecked:k,setSaveAddressChecked:y,saveAddressError:j,addressName:v,handleChangeAddressName:w,changeSelectedRecipient:_,onPaste:S,isDisabled:C,search:A}=(0,u.x)(),T=[{value:m.f.RECENT,label:s("address_input_recent")},{value:m.f.MNEMONIC,label:s("address_input_mnemonic")},{value:m.f.METAMASK,label:s("address_input_metamask")},{value:m.f.BURNER,label:s("address_input_burner")},{value:m.f.LEDGER,label:s("address_input_ledger")},{value:m.f.KEYSTONE,label:s("address_input_keystone")},{value:m.f.PRIVATEKEY,label:s("address_input_imported")},{value:m.f.SAVED,label:s("address_input_saved")}].filter((e=>p.some((t=>t.group===e.value)))).reduce(((e,t)=>[...e,{group:t,recipients:p.filter((e=>(e.group??"default")===t.value))}]),[]),I=(0,i.useCallback)((()=>{_(null),f("")}),[_,f]);return(0,a.jsxs)(r.SelectRecipientForm,{children:[(0,a.jsx)(r.SelectRecipientDropdown,{error:b?null:s("address_book_new_contact_address_solana_incorect"),isLoading:h,label:s("form_recepient_address"),placeholder:s("form_recepient_placeholder"),selectedItem:x,onClearSelection:I,onInputChange:f,inputValue:A,onPaste:S,disabled:C,renderAvatar:e=>(0,a.jsx)(c.y,{size:"s",publicKey:e,"data-id":"recipient-avatar"}),children:p.length>0&&(0,a.jsx)(a.Fragment,{children:T.map((e=>(0,a.jsx)(r.SelectRecipientDropdownSection,{title:e.group.label,children:(0,a.jsx)(r.List,{children:e.recipients.map((e=>(0,a.jsx)(r.ListItemSelectRecipient,{onClick:()=>{_(e.address)},avatar:(0,a.jsx)(c.y,{size:"sm",publicKey:e.address}),name:e.name,address:e.subtitle||(0,l.r)(e.address)},e.address+e.name)))})},e.group.value)))})}),t&&!e&&!d.Qd&&g&&(0,a.jsxs)(r.SaveContactForm,{children:[(0,a.jsx)(r.Control,{id:"saveContactCheckbox",label:s("form_save_address"),action:(0,a.jsx)(r.Checkbox,{checked:k,onChange:e=>y(!!e.target.checked)})}),k&&(0,a.jsx)(r.Input,{value:v,maxLength:o.go,onChange:e=>{w(e.target.value)},label:(0,a.jsx)(r.InputLabelV2,{label:s("form_save_address_name")}),placeholder:s("form_name_placeholder"),variant:j?"error":"default",hint:j&&(0,a.jsx)(r.InputHint,{variant:"error",hint:j})})]})]})}},"../../libs/shared/dist/features/recipientInput/context/index.js":(e,t,s)=>{s.d(t,{j:()=>y,x:()=>j});var a=s("../../../node_modules/react/jsx-runtime.js"),i=s("../../../node_modules/react/index.js"),n=s("../../../node_modules/react-i18next/dist/es/useTranslation.js"),r=s("../../../node_modules/lodash/lodash.js"),o=s("../../libs/shared/dist/utils/isPublicKeyValid.js"),d=s("../../libs/shared/dist/utils/truncateMiddle.js"),l=s("../../libs/shared/dist/features/addressBook/context/index.js"),c=s("../../libs/shared/dist/features/recentAddresses/context/index.js"),u=s("../../libs/shared/dist/features/walletData/hooks/index.js"),m=s("../../libs/shared/dist/features/recipientInput/constants.js"),p=s("../../libs/shared/dist/features/globalConfig/hooks/index.js"),f=s("../../libs/shared/dist/features/shared/account/index.js"),h=s("../../libs/shared/dist/features/recipientInput/hooks/useWalletsPerPubkey.js"),b=s("../../libs/shared/dist/features/recipientInput/transformers/index.js"),x=s("../../libs/shared/dist/features/recipientInput/types.js");const g=(0,i.createContext)({recipients:[],search:"",setSearch:()=>null,isLoading:!1,isAddressValid:!0,selectedRecipient:void 0,isAddressSaveable:!1,addressName:"",handleChangeAddressName:()=>null,saveAddressChecked:!1,setSaveAddressChecked:()=>null,showCurrentWallet:!0,setShowCurrentWallet:()=>null,saveAddress:()=>Promise.resolve(!1),saveAddressError:null,changeSelectedRecipient:()=>null,isDisabled:!1,onPaste:()=>null}),k={[x.f.RECENT]:0,[x.f.MNEMONIC]:1,[x.f.METAMASK]:2,[x.f.BURNER]:3,[x.f.LEDGER]:4,[x.f.KEYSTONE]:5,[x.f.PRIVATEKEY]:6,[x.f.SAVED]:7},y=({children:e})=>{const[t,s]=(0,i.useState)(""),[y,j]=(0,i.useState)(!1),[v,w]=(0,i.useState)(null),[_,S]=(0,i.useState)(""),[C,A]=(0,i.useState)(!1),[T,I]=(0,i.useState)(""),[P,E]=(0,i.useState)(!0),{publicKey:L}=(0,u.rT)(),{t:D}=(0,n.$)(),N=(()=>{const e=(0,u.Rg)();return e.accounts.map((({publicKey:t,name:s})=>{const a=e.wallets[t];return{publicKey:t,name:s,type:a.type,accountIndex:a.accountIndex??void 0}})).reduce(((e,{publicKey:t,name:s,type:a,accountIndex:i})=>(e[a]||(e[a]=[]),e[a].push({publicKey:t,name:s,accountIndex:i}),e)),{})})(),F=(0,h.z)(),{addAddress:B,addresses:R,nameByAddress:V}=(0,l.b)(),M=(0,c.g)(),{isLoading:$,data:K,isValid:O}=(e=>{const[t,s]=(0,i.useState)(""),{cluster:a}=(0,p.LN)(),[n,d]=(0,i.useState)(null),[l,c]=(0,i.useState)(!1),[u,h]=(0,i.useState)(!1),b=(0,i.useRef)((0,r.debounce)((async(e,t)=>{if(!e)return d(null),void c(!1);try{c(!0),h(!1);let s="",a="",i="";if((0,o.Z)(e))s=e,a="address",i=e;else{const n=await(0,f.ru)(e,t);n&&(s=n.publicKey,a=n.source,i=e)}d(s?{publicKey:s,source:a,query:i}:null)}catch(e){h(!0),d(null)}finally{c(!1)}}),m.bQ)).current;(0,i.useEffect)((()=>(s(e),c(!0),b(e,a),()=>b.cancel())),[e,a,b]);const x=(0,i.useMemo)((()=>!(t.length>0&&!n&&!l&&t===e)),[t,n,l,e]);return{isLoading:l,isError:u,data:n,isValid:x}})(t?.trim()),U=(0,i.useMemo)((()=>{const e=[],s=M.addresses?.filter((e=>((e,t)=>e.address.toLowerCase().includes(t.toLowerCase())||e.name?.toLowerCase().includes(t.toLowerCase())||e.pubkey.toLowerCase().includes(t))(e,t))).slice(0,m.NI).map((e=>(0,b.vd)(e,V,F)));s.length>0&&e.push(...s);const a=(0,r.sortBy)(R,[({name:e})=>e.toLowerCase()])?.filter((e=>((e,t)=>e.address.toLowerCase().includes(t.toLowerCase())||e.name.toLowerCase().includes(t.toLowerCase()))(e,t))).map(b.fB);return a.length>0&&e.push(...a),(0,r.forEach)(k,((s,a)=>{const i=(0,r.sortBy)(N[a],["accountIndex",e=>e.name.toLowerCase()])?.filter((e=>((e,t)=>e.name.toLowerCase().includes(t.toLowerCase())||e.publicKey.toLowerCase().includes(t.toLowerCase()))(e,t))).map((e=>(0,b.Pr)(e,a)));i?.length>0&&e.push(...i)})),e.filter((e=>P||L!==e.address))}),[M,R,t,V,F,N,P,L]),q=(0,i.useMemo)((()=>{if(!v||v?.group!==x.f.RECENT&&v.group!==x.f.MANUAL)return!1;if(v?.group===x.f.RECENT){if(v.subtitle)return!1;const e=v?.name!==(0,d.r)(v?.address)?v?.name:v?.address;return Boolean(!V[e??""]&&!F[e??""]&&!R.find((t=>t.address===e)))}return v?.subtitle===(0,d.r)(v?.address)?Boolean(!V[v?.name??""]&&!F[v?.name??""]):Boolean(!V[v?.address??""]&&!F[v?.address??""])}),[R,V,v,F]),G=(0,i.useCallback)((async()=>{if(0===_.length)return I(D("form_save_address_name_is_empty")),!1;if(v?.address){const{address:e,name:t,subtitle:s}=v;return await B({pubkey:v.address,name:_,address:s&&t!==s?t??"":e}),S(""),A(!1),I(""),!0}return!1}),[B,_,v,D]),Z=(0,i.useCallback)(((e,t)=>{const a=U.find((s=>t?t===s.name:s.address===e))??null;a&&w(a),!e&&w(null),A(!1),S(""),s("")}),[U]),H=(0,i.useMemo)((()=>{if(K)return"address"===K.source?(0,b.E5)(K):(0,b.EO)(K)}),[K]),z=(0,i.useCallback)((e=>{if(!e.trim())return void I("");const t=Object.entries(V).find((([t,s])=>s.toLowerCase()===e.toLowerCase()));if(t){const[e]=t;I(D("validation_address_book_name_already_added",{address:(0,o.Z)(e)?(0,d.r)(e):e}))}else I("")}),[V,D]),Q=(0,i.useCallback)((e=>{S(e),z(e)}),[z]),W=(0,i.useCallback)((e=>{const t=U.find((t=>t.address===e||t.name&&t.name.toLowerCase()===e.toLowerCase()));t?Z(t.address,t.name):s(e),j(!0),setTimeout((()=>{j(!1)}),m.bQ)}),[U]);(0,i.useEffect)((()=>{H&&w(H)}),[H]);const J=(0,i.useMemo)((()=>({recipients:U,selectedRecipient:v,changeSelectedRecipient:Z,isAddressSaveable:q,addressName:_,handleChangeAddressName:Q,saveAddressChecked:C,setSaveAddressChecked:A,showCurrentWallet:P,setShowCurrentWallet:E,saveAddress:G,saveAddressError:T,search:t,setSearch:s,recipientGroups:k,isLoading:$,isAddressValid:O,resolveData:K,onPaste:W,isDisabled:y})),[U,v,Z,q,_,Q,C,P,G,T,t,$,O,K,W,y]);return(0,a.jsx)(g.Provider,{value:J,children:e})},j=(e=!0)=>{const t=(0,i.useContext)(g);return(0,i.useEffect)((()=>{t.setShowCurrentWallet(e)}),[t,e]),t}},"../../libs/shared/dist/features/recipientInput/transformers/index.js":(e,t,s)=>{s.d(t,{E5:()=>l,EO:()=>d,Pr:()=>o,fB:()=>r,sc:()=>c,t:()=>u,vd:()=>n});var a=s("../../libs/shared/dist/utils/truncateMiddle.js"),i=s("../../libs/shared/dist/features/recipientInput/types.js");const n=(e,t,s)=>{const n=t[e.pubkey]??s[e.pubkey]?.name??null;return{group:i.f.RECENT,name:n??e.name??(e.pubkey===e.address?(0,a.r)(e.address):e.address),address:e.pubkey,subtitle:n&&(0,a.r)(e.address)}},r=e=>({group:i.f.SAVED,name:e.name,address:e.pubkey,subtitle:e.pubkey===e.address?(0,a.r)(e.address):e.address}),o=(e,t)=>({group:t,address:e.publicKey,subtitle:(0,a.r)(e.publicKey),name:e.name}),d=e=>({group:i.f.MANUAL,name:e.query,subtitle:(0,a.r)(e.publicKey),address:e.publicKey??""}),l=e=>({group:i.f.MANUAL,name:(0,a.r)(e.publicKey),address:e.publicKey??""}),c=e=>({name:e.name??"",symbol:e.symbol??"",decimals:e.decimals,mint:e.tokenId,imageUri:e.logoURI,accounts:[],verified:e.verified,standard:e.standard,price:{price:parseFloat(e.price)||0,change:0,usdPrice:e.priceInUsd||0,usdChange:0,currency:""}}),u=e=>({pubkey:e.pubkey,amount:e.amount,uiAmount:""})},"../../libs/shared/dist/features/settings/contexts/index.js":(e,t,s)=>{s.d(t,{kV:()=>i,ZB:()=>n,Tn:()=>r.T});var a=s("../../../node_modules/react/index.js");const i=(0,a.createContext)(null),n=(0,a.createContext)(null);var r=s("../../libs/shared/dist/features/settings/contexts/TrustedAppsContext.js")},"../../libs/shared/dist/features/settings/hooks/index.js":(e,t,s)=>{s.d(t,{LN:()=>c,q:()=>u.q,o4:()=>p,sC:()=>h,ix:()=>b.i,ks:()=>D.k,Q$:()=>j,up:()=>P,L7:()=>E,Ql:()=>L.Q});var a=s("../../../node_modules/react/index.js"),i=s("../../../node_modules/react-i18next/dist/es/useTranslation.js"),n=s("../../../node_modules/lodash/lodash.js"),r=s("../../libs/wallet-core/dist/shared.js"),o=s("../../libs/shared/dist/hooks/index.js"),d=s("../../libs/shared/dist/storage/solflareService.js"),l=s("../../libs/shared/dist/features/walletData/hooks/index.js");const c=()=>{const{t:e}=(0,i.$)(),{locked:t}=(0,l.Rg)(),{login:s,persistWalletData:c}=(0,l.bg)(),{closableNotification:u}=(0,o.hn)(),[m,p]=(0,a.useState)({currentPassword:"",newPassword:"",repeatPassword:""}),[f,h]=(0,a.useState)({}),b=Boolean(t),x=(0,a.useCallback)(((e,t)=>{p((s=>({...s,[e]:t}))),h({})}),[]),g=(0,a.useCallback)((async()=>{const t={};if(b&&!m.currentPassword&&(t.currentPassword=e("validation_password_is_required")),m.newPassword||(t.newPassword=e("validation_password_is_required")),t.currentPassword)return h(t),!1;const a=await d.Z.solflaredata.get();let i;try{if(a.locked){const e=(0,r.c_)(m.currentPassword);i=await(0,r.bI)(a.data,e)}else i=a.data}catch(s){t.currentPassword=e("password_incorrect")}if(t.currentPassword||m.currentPassword!==m.newPassword||(t.currentPassword||(t.currentPassword=""),t.newPassword=e("validation_password_cant_be_same_as_old"),t.repeatPassword=""),m.repeatPassword!==m.newPassword&&(t.repeatPassword=e("validation_passwords_dont_match")),!(0,n.isEmpty)(t))return h(t),!1;const o=(0,r.c_)(m.newPassword);return await s({locked:!0,data:i,password:o}),await c(),u({message:e("password_updated"),onClick:()=>{},variant:"info",autoHideDuration:3e3}),!0}),[b,m.currentPassword,m.newPassword,m.repeatPassword,s,c,u,e]),k=b&&0===m.currentPassword.length||0===m.newPassword.length||0===m.repeatPassword.length||0!==Object.keys(f).length;return{values:m,errors:f,setValue:x,changePassword:g,disableSubmit:k,requireCurrentPassword:b}};var u=s("../../libs/shared/dist/features/settings/hooks/useCurrencySettings/index.js"),m=s("../../libs/shared/dist/features/settings/contexts/index.js");const p=()=>{const e=(0,a.useContext)(m.kV);if(null===e)throw new Error("useDelegatedTokens must be used within a DelegatedTokensContext");return e};var f=s("../../libs/shared/dist/features/globalConfig/context/index.js");const h=()=>{const{setHideBalances:e,hideBalances:t}=(0,f.A)();return{isBalanceHidden:t,setHideBalancesEnabled:(0,a.useCallback)((async t=>{e(t),await d.Z.solflareconfig.setField("hideBalances",t)}),[e])}};var b=s("../../libs/shared/dist/features/settings/hooks/useLanguageSettings/index.js"),x=s("../../libs/shared/dist/constants/networks.js"),g=s("../../libs/shared/dist/features/confirmDialog/context/index.js"),k=s("../../libs/shared/dist/features/globalConfig/hooks/index.js"),y=s("../../libs/shared/dist/features/shared/snackbar/index.js");const j=()=>{const{t:e}=(0,i.$)(),{closableNotification:t}=(0,o.hn)(),{closeSnackbar:s}=(0,y.Ds)(),{setNetwork:r}=(0,f.A)(),{confirm:l}=(0,g.O)(),{cluster:c}=(0,k.LN)(),u=(0,a.useRef)(c);return{current:c,changeNetwork:(0,a.useCallback)((async a=>!(a!==x.EE.mainnet&&!await l({title:e("network_switch_warning_title",{cluster:(0,n.upperFirst)(a)}),message:e("network_switch_warning_description",{cluster:a.toLowerCase()}),confirmButtonText:e("action_continue")}))&&(r(a),await d.Z.solflareconfig.setField("network",a),s(`changeNetwork-${u.current}`),t({message:e("network_connected_to",{cluster:(0,n.upperFirst)(a)}),autoHideDuration:3e3,variant:"info",onClick:()=>{}}),u.current=a,!0)),[r,s,t,e,l])}};var v=s("../../libs/shared/dist/utils/extension.js"),w=s("../../libs/shared/dist/features/notifications/api/index.js"),_=s("../../libs/shared/dist/features/notifications/context/index.js"),S=s("../../libs/shared/dist/features/notifications/utils/index.js"),C=s("../../libs/shared/dist/features/settings/notifications/notificationPreferences.js"),A=s("../../libs/shared/dist/features/settings/utils/notifications.js");const T=["inbound-asset","inbound-nft","outbound-asset","outbound-nft"],I=()=>window.open("/wallet.html#/settings/notifications","_blank"),P=()=>{const{i18n:e}=(0,i.$)(),{notificationAuth:t,notificationsEnabled:s,notificationsSupported:n,notificationDevice:r,fcmEnabled:o,setNotificationDevice:d,setNotificationsEnabled:c}=(0,_.l)(),{publicKey:u,walletType:m}=(0,l.rT)(),p=(0,S.GW)(m||""),f=(0,a.useMemo)((()=>(r?.subscriptions??[]).find((e=>e.publicKey===u))),[r?.subscriptions,u]),h="granted"!==Notification.permission||!f,b=!n||"denied"===Notification.permission,x=!!(!h&&s&&r&&r.subscriptions&&r?.subscriptions.length),g=(0,a.useCallback)((async s=>{if("denied"!==Notification.permission||!v.p1||v.Cy)if(o||!v.p1||v.Cy)if("default"===Notification.permission)await(0,w.b2)(t,e.language,!0),c(!0),v.p1&&!v.Cy?I():await Notification.requestPermission();else try{await(0,w.b2)(t,e.language,s),c(s)}catch{c(!s)}else I();else I()}),[c,e.language,t,o]),k=(0,a.useCallback)((async(s,a,i=!1)=>{if(!r)return!1;const n=(0,C.Hv)(r.subscriptions,u,s,a,i),o=await(0,w.J)(t,n,e.language);return d(o),!0}),[e.language,t,r,d,u]),y=(0,a.useMemo)((()=>T.map((e=>({id:e,enabled:(0,A.f)(e,f)})))),[f]);return{webPushBlocked:b,webPushEnabled:x,notificationsEnabled:s,isNotificationsAvailableForWallet:p,notificationsDisabled:h,notificationsSupported:n,setNotificationsEnabled:g,setPreferenceEnabled:k,subscription:f,preferences:y}},E=()=>{const e=(0,a.useContext)(m.ZB);if(null===e)throw new Error("useSelect must be used within a SelectContext");return e};var L=s("../../libs/shared/dist/features/settings/hooks/useTrustedApps/index.js"),D=s("../../libs/shared/dist/features/settings/hooks/useLoadTrustedApps.js")},"../../libs/shared/dist/features/settings/index.js":(e,t,s)=>{s.d(t,{K7:()=>R,XB:()=>V,LN:()=>a.LN,q:()=>a.q,o4:()=>a.o4,sC:()=>a.sC,ix:()=>a.ix,ks:()=>a.ks,Q$:()=>a.Q$,up:()=>a.up,L7:()=>a.L7,Ql:()=>a.Ql});var a=s("../../libs/shared/dist/features/settings/hooks/index.js"),i=s("../../../node_modules/react/jsx-runtime.js"),n=s("../../../node_modules/react/index.js"),r=s("../../../node_modules/react-i18next/dist/es/useTranslation.js"),o=s("../../../node_modules/lodash/lodash.js"),d=s("../../libs/foundation-ui/dist/index.js"),l=s("../../libs/shared/dist/features/pfp/components/index.js"),c=s("../../libs/shared/dist/utils/displayPrice.js"),u=s("../../libs/shared/dist/utils/extension.js"),m=s("../../libs/shared/dist/utils/truncateMiddle.js"),p=s("../../libs/shared/dist/components/TokenAvatar/index.js");const f=JSON.parse('{"v":"5.9.0","fr":60,"ip":0,"op":31,"w":1000,"h":1000,"nm":"Revoke_Intro","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":3,"nm":"Null 7","sr":1,"ks":{"o":{"a":0,"k":0,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"s":true,"x":{"a":0,"k":500,"ix":3},"y":{"a":1,"k":[{"i":{"x":[0.04],"y":[1]},"o":{"x":[0.35],"y":[0]},"t":0,"s":[1510]},{"t":10,"s":[500]}],"ix":4}},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"ip":0,"op":31,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"line","parent":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[0,0,0],"ix":2,"l":2},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-499.875,-499.875],[500.25,500.5]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.04],"y":[1]},"o":{"x":[0.35],"y":[0]},"t":10,"s":[0]},{"t":30,"s":[100]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"st","c":{"a":0,"k":[0.964705884457,0.972549021244,0.996078431606,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":177,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false}],"ip":0,"op":31,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"mask","parent":1,"td":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[0,0,0],"ix":2,"l":2},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-499.875,-499.875],[500.25,500.5]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.04],"y":[1]},"o":{"x":[0.35],"y":[0]},"t":10,"s":[0]},{"t":26,"s":[100]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"st","c":{"a":0,"k":[1,0,0,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":362,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false}],"ip":0,"op":31,"st":0,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"chain","parent":1,"tt":2,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-0.001,0,0],"ix":2,"l":2},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[113.903,113.903],[74.644,0],[56.953,-56.952],[0,0],[0,0],[-113.903,-113.903],[-74.644,0],[-56.953,56.951],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[-56.952,-56.951],[-74.644,0],[0,0],[0,0],[-113.903,113.903],[56.952,56.951],[74.644,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[113.903,-113.904]],"v":[[414.572,-414.573],[208.334,-500],[2.095,-414.573],[-78.712,-333.767],[-414.572,2.094],[-414.572,414.573],[-208.332,500],[-2.093,414.573],[78.714,333.767],[78.714,333.767],[88.06,324.42],[90.466,322.014],[90.466,322.014],[414.572,-2.094]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":1,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[19.674,-19.674],[0,0],[0,0],[0,0],[27.823,0],[19.674,19.675],[0,27.823],[-19.674,19.674],[0,0],[0,0],[-27.823,0],[-19.674,-19.675],[0,-27.824]],"o":[[0,0],[0,0],[0,0],[-19.675,19.676],[-27.823,0],[-19.674,-19.674],[0,-27.823],[0,0],[0,0],[19.675,-19.675],[27.823,0],[19.674,19.674],[0,27.824]],"v":[[281.989,-134.677],[-53.87,201.183],[-53.869,201.184],[-134.676,281.99],[-208.332,312.5],[-281.989,281.99],[-312.499,208.333],[-281.989,134.677],[53.871,-201.184],[134.676,-281.99],[208.332,-312.5],[281.989,-281.99],[312.499,-208.333]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tr","p":{"a":0,"k":[0.001,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":1,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"mm","mm":5,"nm":"Merge Paths 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"fl","c":{"a":0,"k":[0.964705882353,0.972549019608,0.996078431373,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":31,"st":0,"bm":0}],"markers":[]}'),h=JSON.parse('{"v":"5.9.0","fr":60,"ip":0,"op":31,"w":1000,"h":1000,"nm":"Revoke_Outro","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":3,"nm":"Null 7","sr":1,"ks":{"o":{"a":0,"k":0,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"s":true,"x":{"a":0,"k":500,"ix":3},"y":{"a":1,"k":[{"i":{"x":[0.95],"y":[0.471]},"o":{"x":[0.85],"y":[0]},"t":2,"s":[500]},{"t":30,"s":[-633]}],"ix":4}},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"ip":0,"op":31,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"line","parent":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[0,0,0],"ix":2,"l":2},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-499.875,-499.875],[672.25,674.5]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":1},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"st","c":{"a":0,"k":[0.964705884457,0.972549021244,0.996078431606,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":177,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false}],"ip":0,"op":31,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"mask","parent":1,"td":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[0,0,0],"ix":2,"l":2},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-499.875,-499.875],[500.25,500.5]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":1},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"st","c":{"a":0,"k":[1,0,0,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":362,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false}],"ip":0,"op":31,"st":0,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"chain","parent":1,"tt":2,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[-0.001,0,0],"ix":2,"l":2},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[113.903,113.903],[74.644,0],[56.953,-56.952],[0,0],[0,0],[-113.903,-113.903],[-74.644,0],[-56.953,56.951],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[-56.952,-56.951],[-74.644,0],[0,0],[0,0],[-113.903,113.903],[56.952,56.951],[74.644,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[113.903,-113.904]],"v":[[414.572,-414.573],[208.334,-500],[2.095,-414.573],[-78.712,-333.767],[-414.572,2.094],[-414.572,414.573],[-208.332,500],[-2.093,414.573],[78.714,333.767],[78.714,333.767],[88.06,324.42],[90.466,322.014],[90.466,322.014],[414.572,-2.094]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":1,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[19.674,-19.674],[0,0],[0,0],[0,0],[27.823,0],[19.674,19.675],[0,27.823],[-19.674,19.674],[0,0],[0,0],[-27.823,0],[-19.674,-19.675],[0,-27.824]],"o":[[0,0],[0,0],[0,0],[-19.675,19.676],[-27.823,0],[-19.674,-19.674],[0,-27.823],[0,0],[0,0],[19.675,-19.675],[27.823,0],[19.674,19.674],[0,27.824]],"v":[[281.989,-134.677],[-53.87,201.183],[-53.869,201.184],[-134.676,281.99],[-208.332,312.5],[-281.989,281.99],[-312.499,208.333],[-281.989,134.677],[53.871,-201.184],[134.676,-281.99],[208.332,-312.5],[281.989,-281.99],[312.499,-208.333]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tr","p":{"a":0,"k":[0.001,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":1,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"mm","mm":5,"nm":"Merge Paths 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"fl","c":{"a":0,"k":[0.964705882353,0.972549019608,0.996078431373,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":31,"st":0,"bm":0}],"markers":[]}');var b=s("../../libs/shared/dist/components/ConfirmationHelpers/LottieIllustration.js"),x=s("../../libs/shared/dist/components/ConfirmationHelpers/NetworkFeeListItem.js");const g=({type:e,image:t,name:s,delegatedAddress:a,amount:n,tokenVerified:o,animation:g,onAnimationEnd:k})=>{const{t:y}=(0,r.$)();return(0,i.jsx)(d.Confirmation,{isExtension:u.UJ,illustration:(0,i.jsx)(b.u,{play:!0,loop:!1,onComplete:k,animationData:"in"===g?f:h},g),listItemsTop:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d.ListItemS,{left:(0,i.jsx)(d.ListItemSLeftTitleAndSubtitle,{title:(0,i.jsx)(d.ListItemSLeftTitleAndSubtitleTitle,{children:y("confirm_transaction_asset_label")})}),children:(0,i.jsx)(d.ListItemSRightAmountAndValue,{children:(0,i.jsx)(d.ListItemSRightAmount,{children:"nft"===e?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d.NFTAvatar,{src:t,size:"s"}),s]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(p.y,{src:t,verified:o,size:"s"}),(0,c.ED)({amount:n,displayType:"solana",suffix:s?` ${s}`:void 0})]})})})}),(0,i.jsx)(d.ListItemS,{left:(0,i.jsx)(d.ListItemSLeftTitleAndSubtitle,{title:(0,i.jsx)(d.ListItemSLeftTitleAndSubtitleTitle,{children:y("confirm_transaction_from_label")})}),children:(0,i.jsxs)(d.ListItemSRightAmount,{children:[(0,i.jsx)(l.y,{publicKey:a,size:"s"}),(0,m.r)(a)]})})]}),listItemsBottom:(0,i.jsx)(x.x,{})})},k=({count:e,animation:t,onAnimationEnd:s})=>{const{t:a}=(0,r.$)();return(0,i.jsx)(d.Confirmation,{isExtension:u.UJ,illustration:(0,i.jsx)(b.u,{play:!0,loop:!1,onComplete:s,animationData:"in"===t?f:h},t),listItemsTop:(0,i.jsx)(d.ListItemS,{left:(0,i.jsx)(d.ListItemSLeftTitleAndSubtitle,{title:(0,i.jsx)(d.ListItemSLeftTitleAndSubtitleTitle,{children:a("confirm_transaction_asset_label")})}),children:(0,i.jsx)(d.ListItemSRightAmountAndValue,{children:(0,i.jsx)(d.ListItemSRightAmount,{children:a("confirm_transaction_revoke_bulk_count",{count:e})})})}),listItemsBottom:(0,i.jsx)(x.x,{})})};var y=s("../../libs/shared/dist/features/globalConfig/hooks/index.js"),j=s("../../libs/shared/dist/features/nfts/hooks/useNftData.js"),v=s("../../libs/shared/dist/features/portfolio/queries/index.js"),w=s("../../libs/shared/dist/features/transactionFlow/context/index.js"),_=s("../../libs/shared/dist/features/transactionFlow/hooks/index.js"),S=s("../../libs/shared/dist/features/walletData/hooks/index.js"),C=s("../../../node_modules/@solana/web3.js/lib/index.browser.esm.js"),A=s("../../../node_modules/base64-js/index.js"),T=s("../../libs/shared/dist/api/index.js"),I=s("../../../node_modules/console-browserify/index.js");const P="https://wallet-api.solflare.com";async function E({tokens:e,address:t,network:s}){try{const{body:a}=await(0,T.v_)(`${P}/v2/portfolio/token/revoke-delegation?network=${s}`,{address:t,tokens:e.map((e=>({token:e.address,mint:e.tokenId,...e.state&&{state:e.state},...Number.isInteger(e.tokenStandard)&&{tokenStandard:e.tokenStandard},delegate:e.delegateAddress}))),network:s});return{transactions:a.txs.map((e=>C.VersionedTransaction.deserialize((0,A.toByteArray)(e)))).map((e=>({transaction:e}))),fees:a.fees}}catch(e){throw I.log("error",e),new Error(e?.response?.data?.error||e?.message)}}async function L({token:e,address:t,network:s}){const{transactions:a,fees:i}=await E({tokens:[e],address:t,network:s});return{transaction:a[0].transaction,fees:[i[0]]}}var D,N=s("../../libs/shared/dist/features/settings/contexts/index.js");!function(e){e.Token="token",e.Nft="nft"}(D||(D={}));const F=e=>e.accounts.map((t=>((e,t)=>e.delegation?{type:D.Token,address:e.pubkey,tokenId:t.mint,delegation:{address:e.delegation.pubkey,amount:e.delegation.amount,uiAmount:e.delegation.uiAmount},state:e.state,info:{name:t.name,image:t.imageUri,symbol:t.symbol,price:t.price?.usdPrice,verified:t.verified}}:null)(t,e))).filter(Boolean),B=e=>e.tokenData&&e.tokenData.delegation?{type:D.Nft,address:e.tokenData.pubkey,tokenId:e.id,state:e.tokenData.state,tokenStandard:e.tokenStandard,delegation:{address:e.tokenData.delegation.pubkey,amount:e.tokenData.delegation.amount,uiAmount:e.tokenData.delegation.uiAmount},info:{name:e.name,image:e.image}}:null,R=({children:e})=>{const{t}=(0,r.$)(),{publicKey:s}=(0,S.rT)(),{transactionInit:a}=(0,w.p)(),{data:d,isPending:l,refetch:c}=(0,v.yo)(),{data:u,isPending:p,refetch:f}=(0,j.c)(),{cluster:h}=(0,y.LN)(),b=l||p,x=(0,n.useMemo)((()=>{const e=[];return b?e:(d?.tokens&&Array.isArray(d.tokens)&&e.push(...d.tokens.map(F).flat()),u?.nfts&&Array.isArray(u.nfts)&&e.push(...u.nfts.map(B).filter(Boolean)),(0,o.sortBy)(e,[e=>e.info.name?.toLowerCase(),e=>+e.delegation.uiAmount],["asc","desc"]))}),[b,d,u]),C=(0,n.useMemo)((()=>(0,o.keyBy)(x,"address")),[x]),A=(0,n.useMemo)((()=>Object.keys(C)),[C]),T=(0,n.useCallback)((async e=>{const n=C[e];return new Promise(((e,r)=>{a({title:t("confirm_transaction_title_revoke_delegation"),txBuilder:L,builderParams:{token:{address:n.address,tokenId:n.tokenId,state:n.state,tokenStandard:n.tokenStandard,delegateAddress:n.delegation.address},address:s,network:h},commitment:"processed",onBroadcast:({status:t})=>{if("success"===t)return e();r()},onConfirm({status:e}){"success"===e&&("nft"===n.type?f():c())},confirmDialog:({animation:e,onAnimationEnd:t})=>(0,i.jsx)(g,{type:n.type,name:"nft"===n.type?n.info.name||n.info.symbol||(0,m.r)(n.tokenId):n.info.symbol||n.info.name||(0,m.r)(n.tokenId),image:n.info.image,tokenVerified:n.info.verified,delegatedAddress:n.delegation.address,amount:"token"===n.type?n.delegation.uiAmount:void 0,animation:e,onAnimationEnd:t})})}))}),[C,a,s,t,c,f,h]),I=(0,n.useCallback)((async e=>{if(1===e.length)return T(e[0]);const n=e.map((e=>C[e])).filter(Boolean),r=n.filter((e=>"token"===e.type)).length,o=n.filter((e=>"nft"===e.type)).length;let d="mixed";return r&&!o?d="tokens":!r&&o&&(d="nfts"),new Promise((e=>{a({title:t("confirm_transaction_title_revoke_delegation_bulk"),txBuilder:E,builderParams:{tokens:n.map((e=>({address:e.address,tokenId:e.tokenId,state:e.state,tokenStandard:e.tokenStandard,delegateAddress:e.delegation.address}))),address:s,network:h},useSignAndSend:_.go,commitment:"processed",onEnd:()=>{["nfts","mixed"].includes(d)&&f(),["tokens","mixed"].includes(d)&&c(),e()},confirmDialog:({animation:e,onAnimationEnd:t})=>(0,i.jsx)(k,{count:n.length,animation:e,onAnimationEnd:t})})}))}),[C,a,s,t,c,f,h]),P={isLoading:b,delegatedTokens:x,items:A,itemsById:C,revoke:T,revokeMultiple:I};return(0,i.jsx)(N.kV.Provider,{value:P,children:e})},V=({children:e})=>{const[t,s]=(0,n.useState)("none"),[a,r]=(0,n.useState)(new Map),o=(0,n.useMemo)((()=>({selected:a,setSelected:r,mode:t,setMode:s})),[t,a]);return(0,i.jsx)(N.ZB.Provider,{value:o,children:e})}},"../../libs/shared/dist/features/settings/notifications/notificationPreferences.js":(e,t,s)=>{s.d(t,{Hv:()=>r,Zj:()=>i,vv:()=>n});var a=s("../../../node_modules/lodash/lodash.js");const i=(e,t)=>{switch(e){case"inbound-asset":return t("notifications_type_inbound_coins");case"outbound-asset":return t("notifications_type_sent_tokens");case"inbound-nft":return t("notifications_type_receive_collectibles");case"outbound-nft":return t("notifications_type_sent_collectibles");default:return""}},n=(e,t)=>{switch(e){case"inbound-asset":return t("notifications_type_receive_tokens_description");case"outbound-asset":return t("notifications_type_sent_tokens_description");case"inbound-nft":return t("notifications_type_receive_collectibles_description");case"outbound-nft":return t("notifications_type_sent_collectibles_description");default:return""}},r=(e=[],t,s,i,n)=>{const r=[],o=(0,a.cloneDeep)(e);"inbound-asset"===s?(r.push("inbound-sol"),r.push("inbound-spl")):"outbound-asset"===s?(r.push("outbound-sol"),r.push("outbound-spl")):"inbound-nft"===s?r.push("inbound-nft"):"outbound-nft"===s&&r.push("outbound-nft");for(const e of r)for(let s=0;s<o.length;s++)(n||o[s].publicKey===t)&&(o[s].preferences=o[s].preferences.filter((t=>t!==e)),i&&o[s].preferences.push(e));return o}},"../../libs/shared/dist/features/settings/utils/notifications.js":(e,t,s)=>{s.d(t,{f:()=>a});const a=(e,t)=>{if(!t)return!1;return"inbound-asset"===e?["inbound-sol","inbound-spl"].some((e=>t.preferences.includes(e))):"outbound-asset"===e?["outbound-sol","outbound-spl"].some((e=>t.preferences.includes(e))):"inbound-nft"===e?t.preferences.includes("inbound-nft"):t.preferences.includes("outbound-nft")}},"../../libs/shared/dist/features/shared/account/utils.js":(e,t,s)=>{s.d(t,{$:()=>o,h:()=>r});var a=s("../../libs/shared/node_modules/@solana/spl-token/lib/esm/constants.js"),i=s("../../libs/shared/node_modules/@solana/spl-token/lib/esm/state/mint.js"),n=s("../../../node_modules/@solana/web3.js/lib/index.browser.esm.js");const r=async({pubkey:e,connection:t})=>{if(!e)return;let s=null;try{s=new n.PublicKey(e)}catch(e){return{ok:!1,error:"INVALID_PUBLIC_KEY"}}const i=await t.getParsedAccountInfo(s);if(null===i.value)return{ok:!0,confirm:"ACCOUNT_DOESNT_EXIST"};{const e=i.value.owner;if(e.equals(n.SystemProgram.programId))return{ok:!0};if(e.equals(n.StakeProgram.programId))return{ok:!0,confirm:"STAKE_ACCOUNT"};if(e.equals(a.H_)||e.equals(a.nA)){const e=i.value.data.parsed;return"mint"===e.type?{ok:!1,error:"MINT_ADDRESS"}:"account"===e.type?{ok:!0,confirm:"SPL_TOKEN_ACCOUNT"}:{ok:!1,error:"TOKEN_PROGRAM"}}return{ok:!1,error:"NOT_SOLANA_ACCOUNT"}}},o=async({pubkey:e,mint:t,connection:s})=>{if(!e)return;let r=null;try{r=new n.PublicKey(e)}catch(e){return{ok:!1,error:"INVALID_PUBLIC_KEY"}}const o=await s.getParsedAccountInfo(r);if(null===o.value||o.value.owner?.equals(n.SystemProgram.programId)){const e=await(0,i.Am)(new n.PublicKey(t),r,!0,a.H_),d=await(0,i.Am)(new n.PublicKey(t),r,!0,a.nA),l=await s.getMultipleParsedAccounts([e,d],{commitment:"confirmed"});return null===l.value?.[0]&&null===l.value?.[1]?{ok:!0,confirm:"ATA_CREATION",accountEmpty:null===o.value}:{ok:!0,accountEmpty:null===o.value}}{const e=o.value.owner;if(e.equals(a.H_)||e.equals(a.nA)){const e=o.value.data.parsed;return"mint"===e.type?{ok:!1,error:"MINT_ADDRESS"}:e.info.mint!==t?{ok:!1,error:"WRONG_MINT"}:{ok:!0,confirm:"TOKEN_ACCOUNT_CORRECT"}}return{ok:!1,error:"NOT_A_TOKEN_ACCOUNT"}}}},"../../libs/shared/dist/features/shared/autoApproveApps/hooks/index.js":(e,t,s)=>{s.d(t,{L:()=>r});var a=s("../../../node_modules/@tanstack/react-query/build/modern/useQuery.js"),i=s("../../libs/shared/dist/api/index.js");const n=async()=>{const{body:e}=await(0,i.U2)("https://wallet-api.solflare.com/v2/config/auto-approve-domains");return e},r=()=>(0,a.a)({queryKey:["allowedAutoApproveApps"],queryFn:n})},"../../libs/shared/dist/features/shared/blocklist/hooks/useHydrateBlocklistCache.js":(e,t,s)=>{s.d(t,{Z:()=>r});var a=s("../../../node_modules/react/index.js"),i=s("../../libs/shared/dist/features/shared/blocklist/api/index.js"),n=s("../../../node_modules/console-browserify/index.js");const r=()=>{(0,a.useEffect)((()=>{(async()=>{try{await(0,i.Qc)()}catch(e){n.error("Failed to hydrate blocklist",e)}})()}),[])}},"../../libs/shared/dist/features/shared/components/index.js":(e,t,s)=>{s.d(t,{w:()=>i});var a=s("../../libs/shared/dist/features/trading/queries/index.js");const i=()=>((0,a.Kc)(""),null)},"../../libs/shared/dist/features/singleToken/components/index.js":(e,t,s)=>{s.d(t,{ku:()=>l,I_:()=>a.I,VE:()=>i.V});var a=s("../../libs/shared/dist/features/singleToken/components/Socials/index.js"),i=s("../../libs/shared/dist/features/singleToken/components/TokenAttributes/index.js"),n=s("../../../node_modules/react/jsx-runtime.js"),r=s("../../../node_modules/react-i18next/dist/es/useTranslation.js"),o=s("../../../node_modules/react-i18next/dist/es/Trans.js"),d=s("../../libs/foundation-ui/dist/index.js");const l=()=>{const{t:e}=(0,r.$)();return(0,n.jsx)(d.InfoBox,{variant:"error",title:e("frozen_token_title"),message:(0,n.jsx)(o.c,{i18nKey:"frozen_token_subtitle",components:[(0,n.jsx)("a",{style:{color:"inherit"},href:"https://help.solflare.com/en/articles/9271566-understanding-frozen-tokens-and-freeze-authority-on-solana",target:"_blank",rel:"noopener noreferrer"},"link")],values:{linkName:e("action_learn_more")}})})}},"../../libs/shared/dist/features/singleToken/utils/isTokenFrozen.js":(e,t,s)=>{s.d(t,{r:()=>a});const a=e=>!(!e||0===e.accounts.length)&&"frozen"===(e.accounts.find((e=>e.isAta))||e.accounts[0]).state},"../../libs/shared/dist/features/staking/api/staking.js":(e,t,s)=>{s.d(t,{GN:()=>l,Gg:()=>u,vB:()=>c,vg:()=>m,yJ:()=>d});var a=s("../../../node_modules/@solana/web3.js/lib/index.browser.esm.js"),i=s("../../../node_modules/base64-js/index.js"),n=s("../../libs/shared/dist/api/index.js"),r=s("../../libs/shared/dist/utils/lamportToSol.js");const o="https://wallet-api.solflare.com";async function d({validator:e,amount:t,pubkey:s,network:d,setComputeBudget:l}){const{body:c}=await(0,n.v_)(`${o}/v2/staking/create-stake-account`,{address:s,amount:(0,r.m)(t),validator:e,network:d,setComputeBudget:l});if(c?.error)throw new Error(c.error);if(!c?.txs?.length)throw new Error("Failed to generate transaction");return{transaction:a.VersionedTransaction.deserialize(i.toByteArray(c.txs[0])),data:{stakeAccountPubkey:c?.stakeAccount},fees:c.fees||[]}}async function l({stakeAccount:e,address:t,validator:s,network:r,setComputeBudget:d}){const{body:l}=await(0,n.v_)(`${o}/v2/staking/delegate-stake`,{stakeAccount:e,address:t,validator:s,network:r,setComputeBudget:d});if(l?.error)throw new Error(l.error);if(!l?.txs?.length)throw new Error("Failed to generate transaction");return{transaction:a.VersionedTransaction.deserialize(i.toByteArray(l.txs[0])),fees:l.fees||[]}}async function c({stakeAccountPubKey:e,address:t,amount:s,setComputeBudget:d,network:l}){const{body:c}=await(0,n.v_)(`${o}/v2/staking/split-stake`,{stakeAccount:e,address:t,amount:(0,r.m)(s),setComputeBudget:d,network:l});if(c?.error)throw new Error(c.error);if(!c?.txs?.length)throw new Error("Failed to generate transaction");return{transaction:a.VersionedTransaction.deserialize(i.toByteArray(c.txs[0])),data:{stakeAccountPubkey:c?.stakeAccount},fees:c.fees||[]}}async function u({stakeAccount:e,address:t,amountLamports:s,setComputeBudget:r,network:d}){const{body:l}=await(0,n.v_)(`${o}/v2/staking/withdraw-stake`,{stakeAccount:e,address:t,amount:s,setComputeBudget:r,network:d});if(l?.error)throw new Error(l.error);if(!l?.txs?.length)throw new Error("Failed to generate transaction");return{transaction:a.VersionedTransaction.deserialize(i.toByteArray(l.txs[0])),fees:l.fees||[]}}async function m({stakeAccount:e,address:t,setComputeBudget:s,network:r}){const{body:d}=await(0,n.v_)(`${o}/v2/staking/deactivate-stake`,{stakeAccount:e,address:t,network:r,setComputeBudget:s});if(d?.error)throw new Error(d.error);if(!d?.txs?.length)throw new Error("Failed to generate transaction");return{transaction:a.VersionedTransaction.deserialize(i.toByteArray(d.txs[0])),fees:d.fees||[]}}},"../../libs/shared/dist/features/stakingCore/components/StakingProvider.js":(e,t,s)=>{s.d(t,{Bf:()=>d,TQ:()=>r,Ub:()=>l,uW:()=>c});var a=s("../../../node_modules/react/jsx-runtime.js"),i=s("../../../node_modules/react/index.js"),n=s("../../libs/foundation-ui/dist/index.js");const r={transaction:"",amountInSol:"",amountInUsd:"",validatorName:"",validatorNodePubKey:"",validatorVotePubKey:"",source:""},o=i.createContext({}),d=()=>{const{stakingModal:e}=i.useContext(o);if(!e)throw new Error("useStakeModal called outside the StakeModalProvider context");return e},l=()=>{const e=i.useContext(o);if(!e)throw new Error("useStakingProvider called outside the StakeModalProvider context");return e},c=({children:e})=>{const t=(0,n.useDisclosure)(),[s,d]=(0,i.useState)(),[l,c]=(0,i.useState)(r),u=(0,i.useMemo)((()=>({stakingModal:t,setLastCreatedStakeAccountPubKey:d,lastCreatedStakeAccountPubKey:s,stakingEvents:l,setStakingEvents:c})),[s,t,l]);return(0,a.jsx)(o.Provider,{value:u,children:e})}},"../../libs/shared/dist/features/stakingCore/constants.js":(e,t,s)=>{s.d(t,{T:()=>a});const a=.01},"../../libs/shared/dist/features/stakingCore/hooks/useStakingAccounts.js":(e,t,s)=>{s.d(t,{k:()=>m});var a=s("../../libs/shared/dist/features/stakingCore/index.js"),i=s("../../../node_modules/@tanstack/react-query/build/modern/useQuery.js"),n=s("../../../node_modules/@tanstack/query-core/build/modern/utils.js"),r=s("../../libs/shared/dist/features/currencies/hooks/index.js"),o=s("../../libs/shared/dist/features/globalConfig/hooks/index.js"),d=s("../../libs/shared/dist/features/walletData/hooks/index.js"),l=s("../../libs/shared/dist/api/index.js");const c={inactive:11,inactiveDeactivating:10,deactivating:9,activating:8,active:7,activeInactive:6,empty:0},u=e=>e.includes("inactive")&&e.includes("deactivating")?"inactiveDeactivating":e.includes("active")&&e.includes("inactive")?"activeInactive":e.includes("empty")?"empty":e.includes("activating")?"activating":e[e.length-1],m=()=>{const{publicKey:e}=(0,d.rT)(),{cluster:t}=(0,o.LN)(),s=(0,r.Af)(),{lastCreatedStakeAccountPubKey:m}=(0,a.Ub)();return(0,i.a)({queryKey:["staking-accounts",t,e,s.ticker,m],queryFn:()=>(async(e,t,s,a)=>{const i=a?`&extend=${a}`:"",{body:n}=await(0,l.U2)(`https://wallet-api.solflare.com/v2/portfolio/stake/${e}?network=${t}&currency=${s}${i}`),r=n;return{...r,stakeAccounts:(o=r.stakeAccounts,o.sort(((e,t)=>{const s=c[u(e.statuses)]||1,a=c[u(t.statuses)]||1;return s!==a?a-s:e.amount!==t.amount?parseInt(t.amount,10)-parseInt(e.amount,10):t.voter>e.voter?1:-1})))};var o})(e,t,s.ticker,m),staleTime:0,refetchInterval:3e4,placeholderData:n.Wk,enabled:!!e})}},"../../libs/shared/dist/features/stakingCore/index.js":(e,t,s)=>{s.d(t,{TQ:()=>a.TQ,uW:()=>a.uW,fZ:()=>T.f,gK:()=>u,jg:()=>p,tb:()=>x,QC:()=>v,Bf:()=>a.Bf,ku:()=>w.k,Ub:()=>a.Ub,te:()=>S,Uo:()=>A});var a=s("../../libs/shared/dist/features/stakingCore/components/StakingProvider.js"),i=s("../../../node_modules/react-i18next/dist/es/useTranslation.js"),n=s("../../../node_modules/@tanstack/react-query/build/modern/useMutation.js"),r=s("../../libs/shared/dist/features/featureFlags/index.js"),o=s("../../libs/shared/dist/features/globalConfig/hooks/index.js"),d=s("../../libs/shared/dist/features/staking/api/staking.js"),l=s("../../libs/shared/dist/features/transactionFlow/context/index.js"),c=s("../../libs/shared/dist/features/walletData/hooks/index.js");const u=()=>{const{t:e}=(0,i.$)(),{setLastCreatedStakeAccountPubKey:t,stakingEvents:s,setStakingEvents:u}=(0,a.Ub)(),{transactionInit:m}=(0,l.p)(),{publicKey:p}=(0,c.rT)(),{cluster:f}=(0,o.LN)();return(0,n.D)({mutationFn:({validator:i,amountSOL:n,onBroadcast:o,confirmData:l})=>new Promise(((t,c)=>{m({title:e("confirm_transaction_title_create_stake_account"),commitment:"confirmed",txBuilder:d.yJ,builderParams:{amount:n,pubkey:p,validator:i,network:f,setComputeBudget:!0},ffLogFunction:r.Ww,ffParams:s,confirmDialog:l,onBroadcast({status:e}){"success"===e&&o?.()},onConfirm({status:e,data:s}){"success"===e?(t(s?.stakeAccountPubkey),u({...a.TQ})):(c(null),u({...a.TQ}))}})})).then((e=>(t(e),e)))})};var m=s("../../../node_modules/@tanstack/react-query/build/modern/QueryClientProvider.js");const p=()=>{const{t:e}=(0,i.$)(),t=(0,m.NL)(),{transactionInit:s}=(0,l.p)(),{publicKey:u}=(0,c.rT)(),{cluster:p}=(0,o.LN)(),{stakingEvents:f,setStakingEvents:h}=(0,a.Ub)();return(0,n.D)({mutationFn:({stakePubkey:i,onBroadcast:n,confirmData:o,validatorPubkey:l})=>s({title:e("confirm_transaction_title_create_stake_account"),commitment:"confirmed",txBuilder:d.GN,builderParams:{address:u,stakeAccount:i,validator:l,network:p,setComputeBudget:!0},ffLogFunction:r.Ww,ffParams:f,confirmDialog:o,onBroadcast({status:e}){"success"===e&&n?.()},onConfirm({status:e}){"success"===e&&(t.invalidateQueries({queryKey:["staking-accounts"]}),h({...a.TQ}))}})})};var f=s("../../../node_modules/@tanstack/react-query/build/modern/useQuery.js"),h=s("../../../node_modules/@tanstack/query-core/build/modern/utils.js"),b=s("../../libs/shared/dist/api/index.js");const x=(e,t)=>(0,f.a)({queryKey:["stakingRewards",e,t],queryFn:()=>(async(e,t)=>{let s=`https://wallet-api.solflare.com/v2/staking/account/${e}/rewards`;null!==t&&(s+=`?activationEpoch=${t}`);const{body:a}=await(0,b.U2)(s);return{rewards:a.data}})(e,t),staleTime:1/0,placeholderData:h.Wk});var g=s("../../../node_modules/bignumber.js/bignumber.js"),k=s.n(g),y=s("../../libs/shared/dist/hooks/useSolanaBalance/index.js"),j=s("../../libs/shared/dist/utils/lamportToSol.js");const v=()=>{const{t:e}=(0,i.$)(),{setLastCreatedStakeAccountPubKey:t}=(0,a.Ub)(),{transactionInit:s}=(0,l.p)(),{publicKey:u}=(0,c.rT)(),{cluster:m}=(0,o.LN)(),{usdPrice:p}=(0,y.h)();return(0,n.D)({mutationFn:({amountSOL:a,onBroadcast:i,confirmData:n,splitStakeAccount:o})=>{const l=(0,j.s)(o.amount??0);return s({title:e("confirm_transaction_title_split_stake_account"),commitment:"confirmed",txBuilder:d.vB,builderParams:{amount:a,address:u,stakeAccountPubKey:o.publicKey,setComputeBudget:!0,network:m},ffLogFunction:r.vH,ffParams:{amountOldSol:l.toString(),amountOldUsd:l.times(p).toString(),amountNewSol:a,amountNewUsd:new(k())(a).times(p).toString(),validatorName:o.validator?.name??"",validatorNodePubKey:o.validator?.votePublicKey??"",validatorVotePubKey:o.validator?.nodePublicKey??""},confirmDialog:n,onBroadcast({status:e}){"success"===e&&i?.()},onConfirm({status:e,data:s}){"success"===e&&t(s?.stakeAccountPubkey)}})}})};var w=s("../../libs/shared/dist/features/stakingCore/hooks/useStakingAccounts.js"),_=s("../../libs/shared/dist/features/stakingCore/utils/transformValidatorResponse.js");const S=(e="",t="",s=!1)=>{const a=(0,o.LN)();return(0,f.a)({queryKey:["validators",a.cluster,e,t],queryFn:()=>(async(e,t,s)=>{const{body:a}=await(0,b.U2)(`https://wallet-api.solflare.com/v2/staking/validators?network=${e}${t?`&query=${encodeURIComponent(t)}`:""}${s?`&selected=${encodeURIComponent(s)}`:""}`);return a.data.map(_.s)})(a.cluster,e,t),staleTime:1/0,placeholderData:h.Wk,enabled:s})};var C=s("../../libs/shared/dist/features/featureFlags/signTx/index.js");const A=()=>{const{t:e}=(0,i.$)(),{transactionInit:t}=(0,l.p)(),{publicKey:s}=(0,c.rT)(),a=(0,m.NL)(),{cluster:r}=(0,o.LN)(),{usdPrice:u}=(0,y.h)();return(0,n.D)({mutationFn:({onBroadcast:i,confirmData:n,amountLamports:o,stakingAccount:l,closeAccount:c=!1,actionType:m="withdraw"})=>{const p=(0,j.s)(o??0);return t({title:e("closeAccount"===m?"confirm_transaction_title_close_stake_account":"confirm_transaction_title_withdraw_stake"),commitment:"confirmed",txBuilder:d.Gg,builderParams:{address:s,amountLamports:o.toString(),stakeAccount:l.publicKey,network:r,setComputeBudget:!0},ffLogFunction:"withdraw"===m?C.T4:C.Ad,ffParams:"withdraw"===m?{amountInSol:p.toString(),amountInUsd:p.times(u).toString(),validatorName:l.validator?.name??"",validatorVotePubKey:l.validator?.votePublicKey??"",closeStakingAccount:c}:void 0,confirmDialog:n,onBroadcast({status:e}){"success"===e&&i?.()},onConfirm({status:e}){"success"===e&&a.invalidateQueries({queryKey:["staking-accounts"]})}})}})};var T=s("../../libs/shared/dist/features/stakingCore/utils/getStakeStatus.js")},"../../libs/shared/dist/features/stakingCore/utils/getStakeStatus.js":(e,t,s)=>{s.d(t,{f:()=>a});const a=e=>{const t=e;return t.includes("activating")?"activating":t.includes("deactivating")&&t.includes("inactive")?"deactivating-inactive":t.includes("inactive")&&t.includes("active")?"inactive-active":t.includes("deactivating")?"deactivating":1===t.length&&t.includes("active")?"active":1===t.length&&t.includes("inactive")?"inactive":t.includes("empty")?"empty":void 0}},"../../libs/shared/dist/features/stakingCore/utils/transformValidatorResponse.js":(e,t,s)=>{s.d(t,{s:()=>n});var a=s("../../libs/shared/dist/utils/displayPrice.js"),i=s("../../libs/shared/dist/utils/truncateMiddle.js");const n=e=>({...e,id:e.votePublicKey,name:e.name??(0,i.r)(e.votePublicKey),apyUI:(0,a.ED)({amount:e.apy,suffix:"% APY",displayType:"medium"})})},"../../libs/shared/dist/features/stakingModal/components/StakeForm.js":(e,t,s)=>{s.d(t,{m:()=>u});var a=s("../../../node_modules/react/jsx-runtime.js"),i=s("../../../node_modules/react-i18next/dist/es/useTranslation.js"),n=s("../../libs/foundation-ui/dist/index.js"),r=s("../../libs/shared/dist/assets/solana.png"),o=s("../../libs/shared/dist/components/index.js"),d=s("../../libs/shared/dist/utils/displayPrice.js"),l=s("../../libs/shared/dist/utils/lamportToSol.js");const c=({validator:e,selectedAmount:t})=>{const{t:s}=(0,i.$)();return(0,a.jsxs)(n.InfoTable,{children:[(0,a.jsx)(n.InfoRow,{left:(0,a.jsxs)(n.InfoRowLeft,{children:[s("staking_stake_detail_annual_return_label"),(0,a.jsx)(n.InfoWithTooltip,{tooltip:s("staking_stake_detail_annual_return_label_tooltip")})]}),right:(0,a.jsx)(n.InfoRowRight,{children:t?(0,d.ED)({amount:+(Number(t)||0)*(e.apy/100),displayType:"short",suffix:" SOL"}):"-"})}),(0,a.jsx)(n.InfoRow,{left:(0,a.jsxs)(n.InfoRowLeft,{children:[s("staking_stake_detail_total_stake_label"),(0,a.jsx)(n.InfoWithTooltip,{tooltip:s("staking_stake_detail_total_stake_label_tooltip")})]}),right:(0,a.jsx)(n.InfoRowRight,{children:(0,d.ED)({amount:(0,l.s)(e.stakeActive),displayType:"none",suffix:" SOL"})})})]})},u=({maxSOLBalance:e,onAmountChange:t,selectedAmount:s,validatorOptions:d,onValidatorQueryChange:l,validatorsFetching:u,validatorsLoading:m,onValidatorChange:p,selectedValidator:f,computedInputValue:h})=>{const{t:b}=(0,i.$)();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.SendInputV2,{autoFocus:!0,onChange:e=>t?.(e.target.value),amount:s??"",value:h,readOnly:!t,label:(0,a.jsx)(n.InputLabelV2,{label:b("table_token"),...t&&{right:b("form_max_amount",{amount:e.toString()}),onClick:e.isGreaterThan(0)?()=>t(e.toString()):void 0}}),children:(0,a.jsx)(n.SelectTokenDropdown,{avatar:(0,a.jsx)(o.yY,{src:r,alt:"SOL token icon",size:"s",verified:!0}),selectedTokenTicker:"SOL",disabled:!0})}),(0,a.jsx)(n.ValidatorSelect,{options:d,onSearchChange:e=>l(e),isLoading:m,isFetching:u,onValidatorChange:p,onOpenChange:e=>!e&&l(void 0),value:f??void 0,placeholder:b("staking_please_select_a_validator"),searchInputPlaceholder:b("form_recepient_placeholder"),label:(0,a.jsx)(n.InputLabelV2,{tooltip:(0,a.jsx)(n.InfoWithTooltip,{tooltip:b("staking_validator_description")}),label:b("table_validator")})}),f&&(0,a.jsx)(c,{validator:f,selectedAmount:s})]})}},"../../libs/shared/dist/features/stakingModal/hooks/useCreateStakeForm.js":(e,t,s)=>{s.d(t,{g:()=>_});var a=s("../../../node_modules/react/jsx-runtime.js"),i=s("../../../node_modules/react/index.js"),n=s("../../../node_modules/react-i18next/dist/es/useTranslation.js"),r=s("../../../node_modules/react-router/dist/index.js"),o=s("../../../node_modules/bignumber.js/bignumber.js"),d=s.n(o),l=s("../../../node_modules/lodash/lodash.js"),c=s("../../libs/shared/dist/components/ConfirmationHelpers/ConfirmationStaking.js"),u=s("../../libs/shared/dist/constants/routes.js"),m=s("../../libs/shared/dist/constants/validatorStatus.js"),p=s("../../libs/shared/dist/utils/common.js"),f=s("../../libs/shared/dist/utils/displayPrice.js"),h=s("../../libs/shared/dist/utils/lamportToSol.js"),b=s("../../libs/shared/dist/utils/truncateMiddle.js"),x=s("../../libs/shared/dist/features/amountInput/utils.js"),g=s("../../libs/shared/dist/features/currencies/hooks/index.js"),k=s("../../libs/shared/dist/features/portfolio/hooks/index.js"),y=s("../../libs/shared/dist/features/stakingCore/index.js"),j=s("../../libs/shared/dist/features/stakingCore/utils/transformValidatorResponse.js"),v=s("../../libs/shared/dist/features/stakingCore/constants.js"),w=s("../../../node_modules/console-browserify/index.js");const _=e=>{const t=(0,r.s0)(),{t:s}=(0,n.$)(),o=(0,g.Af)(),{data:_}=(0,k.Dm)(),[S,C]=(0,i.useState)(e&&(0,h.s)(e.amount).toString()),[A,T]=(0,i.useState)(e?.validator?.status===m.n.Active?(0,j.s)(e.validator):void 0),[I,P]=i.useState(),[E,L]=i.useState(),[D,N,F]=(0,y.Bf)(),B=i.useRef((0,l.debounce)((e=>L(e)),700)).current,R=(0,i.useCallback)((e=>{P(e),B(e)}),[B]),V=+(_?.accounts[0]?.amount||0),M=d().maximum((0,h.s)(V||0).minus(.05),0),$=S&&+S&&_?.price?.usdPrice&&(0,p.T4)(String(_.price.usdPrice))?(0,f.ED)({amount:String(+S*+_.price.usdPrice),prefix:o.symbol,displayType:"value"}):"",{data:K,isPending:O,isFetching:U}=(0,y.te)(E,A?.votePublicKey??void 0,D||!!e),{mutateAsync:q,isPending:G}=(0,y.gK)(),{mutateAsync:Z,isPending:H}=(0,y.jg)(),z=(K||[]).map((e=>({...e,recommendedTagText:e.recommended?s("form_recommended"):void 0}))),Q=((e,t,s=!1,a)=>{if(void 0===t)return;if(t<3200760)return{title:a("validation_insufficient_balance_title",{symbol:"SOL"}),message:a("validation_insufficient_balance_description",{amount:"0.01 SOL"})};if(t<1e7)return{title:a("validation_insufficient_balance_to_stake_title",{symbol:"SOL"}),message:a("validation_insufficient_balance_description",{amount:"0.02 SOL"})};if(s)return;if(void 0===e||isNaN(+e))return;if(0==+e)return;const i=new(d())(e||0);return""===e||i.isLessThan(v.T)?{title:a("staking_validation_amount_below_minimum_title"),message:a("staking_validation_amount_below_minimum_description",{amount:`${v.T} SOL`})}:(0,h.s)(t).isLessThan(i.plus(.05))?{title:a("staking_validation_insufficient_balance_title"),message:a("staking_validation_insufficient_balance_description")}:void 0})(S,V,Boolean(e),s),W=()=>{C(void 0),T(void 0),F()},J=!A&&K?z[0]:A,Y=e?Z:q,X=e?{stakePubkey:e.publicKey,validatorPubkey:J?.votePublicKey,amountSOL:S,confirmData:({animation:e,onAnimationEnd:t})=>(0,a.jsx)(c.Z,{validatorName:J?.name??(0,b.r)(J?.votePublicKey),validatorImage:J?.image??void 0,amount:S??"0",animation:e,onAnimationEnd:t}),onBroadcast:()=>{W(),t(u.xm)}}:{validator:J?.votePublicKey,amountSOL:S,confirmData:({animation:e,onAnimationEnd:t})=>(0,a.jsx)(c.Z,{validatorName:J?.name??(0,b.r)(J?.votePublicKey),validatorImage:J?.image??void 0,amount:S??"0",animation:e,onAnimationEnd:t}),onBroadcast:()=>{W()}};return{selectedAmount:S,selectedValidator:J,setSelectedValidator:e=>{T(e),R()},validatorOptions:z,maxSOLBalance:M,setValidatorFilter:R,validatorFilter:I,validatorsLoading:O,validatorsFetching:U,createStake:()=>Y(X),createStakeLoading:G||H,closeStakeModal:W,error:Q,isStakeModalOpen:D,handleAmountChange:e=>{try{const t=(0,x.$)(e,_?.decimals??0);C(t)}catch(e){w.log(e)}},solanaToken:_,computedInputValue:$}}},"../../libs/shared/dist/features/trading/api/index.js":(e,t,s)=>{s.d(t,{A:()=>n,s:()=>r});var a=s("../../libs/shared/dist/api/index.js"),i=s("../../libs/shared/dist/constants/index.js");const n=async(e,t="")=>{const s={currency:e};t&&(s.query=t);const n=Object.keys(s).map((e=>`${e}=${encodeURIComponent(s[e])}`)).join("&"),{body:r}=await(0,a.U2)(`${i.JF}/v2/swap/capped-tokens?${n}`);return r},r=async({inMint:e,outMint:t,priceImpactPct:s})=>{const n={inMint:e,outMint:t};void 0!==s&&(n.priceImpactPct=s);const r=Object.keys(n).map((e=>`${e}=${encodeURIComponent(n[e])}`)).join("&"),{body:o}=await(0,a.U2)(`${i.JF}/v2/trade/market-price?${r}`);return o}},"../../libs/shared/dist/features/trading/queries/useCappedTokensQuery.js":(e,t,s)=>{s.d(t,{K:()=>d});var a=s("../../../node_modules/react/index.js"),i=s("../../../node_modules/@tanstack/react-query/build/modern/useQuery.js"),n=s("../../libs/shared/dist/hooks/index.js"),r=s("../../libs/shared/dist/features/currencies/hooks/index.js"),o=s("../../libs/shared/dist/features/trading/api/index.js");const d=e=>{const t=(0,r.Af)(),s=(0,n.Nr)(e,500),[d,l]=(0,a.useState)({tokens:[],errors:[]}),[c,u]=(0,a.useState)(0),m=(0,i.a)({queryKey:["cappedTokens",t.ticker,s||""],queryFn:()=>(0,o.A)(t.ticker,s||""),staleTime:0});return(0,a.useEffect)((()=>{"success"===m.status&&(l(m.data),u(Date.now()))}),[m.data]),{...m,data:d,dataUpdatedAt:c}}},"../../libs/shared/dist/features/trading/queries/useMarketPriceQuery.js":(e,t,s)=>{s.d(t,{i:()=>r});var a=s("../../../node_modules/@tanstack/react-query/build/modern/useQuery.js"),i=s("../../../node_modules/@tanstack/query-core/build/modern/utils.js"),n=s("../../libs/shared/dist/features/trading/api/index.js");const r=({inMint:e,outMint:t,priceImpactPct:s,enabledQuery:r=!0})=>(0,a.a)({queryKey:["marketPrice",e,t],queryFn:()=>(0,n.s)({inMint:e,outMint:t,priceImpactPct:s}),retry:!1,refetchInterval:22e3,enabled:r&&!!e&&!!t,gcTime:0,placeholderData:i.Wk})},"../../libs/shared/dist/features/trading/queries/useWalletTokensQuery.js":(e,t,s)=>{s.d(t,{t:()=>h});var a=s("../../../node_modules/@tanstack/react-query/build/modern/useQuery.js"),i=s("../../../node_modules/bignumber.js/bignumber.js"),n=s.n(i),r=s("../../libs/shared/dist/constants/mints.js"),o=s("../../libs/shared/dist/utils/displayPrice.js"),d=s("../../libs/shared/dist/utils/tokenAccounts.js"),l=s("../../libs/shared/dist/utils/truncateMiddle.js"),c=s("../../libs/shared/dist/utils/units.js"),u=s("../../libs/shared/dist/features/currencies/hooks/index.js"),m=s("../../libs/shared/dist/features/globalConfig/hooks/index.js"),p=s("../../libs/shared/dist/features/portfolio/api/index.js"),f=s("../../libs/shared/dist/features/walletData/hooks/index.js");const h=()=>{const{publicKey:e}=(0,f.rT)(),t=(0,m.LN)(),s=(0,u.Af)();return(0,a.a)({queryKey:["tokens",e,t.url,s.ticker],queryFn:()=>(0,p.lz)(e,t.cluster,s.ticker),select:t=>(({tokens:e},t,s)=>e.map((e=>{const a=(0,d.d)(e.mint,t,e.standard),i=e.mint===r.BH?e.accounts[0]:e.accounts.find((e=>e.pubkey===a)),u=(0,c.d)(i?.amount||0,e.decimals),m=new(n())(u).times(e.price?.price||0).toString(),p=(0,o.ED)({amount:u,displayType:"amount"});return{tokenId:e.mint,amount:"0"!==p?p:"",rawAmount:u,value:"0"!==p&&e.price?(0,o.ED)({prefix:s,amount:m,displayType:"value",pricePerCoin:e.price?.usdPrice||0}):"",rawValue:m,decimals:e.decimals,isAta:!!i,isUnknown:!e.name,verified:e.verified,name:e.name||(0,l.r)(e.mint),symbol:e.symbol,logoURI:e.imageUri,price:String(e.price?.price??0),usdPrice:e.price?.usdPrice??0,swapable:e.swappable}})).filter(Boolean))(t,e,s.symbol||s.ticker)})}},"../../libs/shared/dist/features/transactionFlow/components/AnalizedDialogContent/index.js":(e,t,s)=>{s.d(t,{Q:()=>h});var a=s("../../../node_modules/react/jsx-runtime.js"),i=s("../../../node_modules/react/index.js"),n=s("../../../node_modules/react-i18next/dist/es/useTranslation.js"),r=s("../../../node_modules/base64-js/index.js"),o=s("../../libs/foundation-ui/dist/index.js"),d=s("../../libs/shared/dist/modals/index.js"),l=s("../../libs/shared/dist/utils/extension.js"),c=s("../../libs/shared/dist/features/transactionAnalysis/components/index.js"),u=s("../../libs/shared/dist/features/transactionAnalysis/context/index.js"),m=s("../../libs/shared/dist/features/transactionAnalysis/queries/index.js"),p=s("../../libs/shared/dist/features/transactionAnalysis/utils/index.js"),f=s("../../libs/shared/dist/features/transactionFlow/context/index.js");const h=()=>{const{t:e}=(0,n.$)(),{isBuilderLoading:t,useSignAndSendHook:s}=(0,f.p)(),{signAndSend:h}=s(),{transactionData:b,setOpenAnalizedConfirmDialog:x,callbacks:g}=(0,f.p)(),k=(0,i.useMemo)((()=>b&&"transactions"in b?b.transactions.map((({transaction:e})=>(0,r.fromByteArray)(e.serialize())),[]):void 0),[b]),y=(0,i.useMemo)((()=>b&&"transactions"in b?b.transactions.map((({transaction:e})=>(0,r.fromByteArray)(e.message.serialize())),[]):void 0),[b]),{simulationResults:j,isPending:v}=(0,m.mG)(y??[],"signAndSendTransaction"),w=(0,i.useCallback)((()=>{x(!1),g.onSign({status:"rejected"}),g.onEnd()}),[g,x]),_=l.p1&&!l.Cy,S=(0,a.jsx)(u.y,{timerEnabled:!0,children:(0,a.jsx)(c.BY,{..._&&{title:(0,a.jsx)(o.PageTitle,{center:e("approve_transaction_one")})},simulationResults:j,onReject:w,onApprove:h,isLoading:t||v,analysisPreview:(0,p.Zb)(j)&&(0,a.jsx)(o.TXSimulationList,{children:j.transactions.map(((e,t)=>(0,a.jsx)(c.ND,{transaction:e,rawTransaction:k?k[t]:""},t)))})})});return _?(0,a.jsx)(o.PagePortal,{children:S}):(0,a.jsx)(d.V$,{onClose:w,title:e("approve_transaction_one"),children:S})}},"../../libs/shared/dist/features/transactionFlow/components/ConfirmAnalizedTransaction/index.js":(e,t,s)=>{s.d(t,{J:()=>r});var a=s("../../../node_modules/react/jsx-runtime.js"),i=s("../../libs/shared/dist/features/transactionFlow/context/index.js"),n=s("../../libs/shared/dist/features/transactionFlow/components/AnalizedDialogContent/index.js");const r=()=>{const{openAnalizedConfirmDialog:e}=(0,i.p)();return e?(0,a.jsx)(n.Q,{}):null}},"../../libs/shared/dist/features/transactionFlow/hooks/useSignAndSendAllParallel.js":(e,t,s)=>{s.d(t,{g:()=>c});var a=s("../../../node_modules/react/index.js"),i=s("../../../node_modules/@solana/web3.js/lib/index.browser.esm.js"),n=s("../../libs/shared/dist/hooks/index.js"),r=s("../../libs/shared/dist/features/transactionFlow/context/index.js"),o=s("../../libs/shared/dist/features/transactionFlow/hooks/useSendAndConfirmTransaction.js"),d=s("../../libs/shared/dist/features/transactionFlow/hooks/useSigner.js"),l=s("../../../node_modules/console-browserify/index.js");const c=()=>{const{closableNotification:e}=(0,n.hn)(),{transactionData:t,callbacks:s,signAndSendProps:c}=(0,r.p)(),{publicKey:u,signAllTransactions:m}=(0,d.m)(),{sendAndConfirmAllTransactionsParallel:p}=(0,o.Q)();return{signAndSend:(0,a.useCallback)((async()=>{const a=t&&"transactions"in t?t.transactions:null;if(!a)return;s.onStart();const{commitment:n}=c;try{const e=[];for(const t of a){const{transaction:s}=t;e.push(s)}const r=e.map((e=>e.message.serialize()));let o;try{o=await m(r)}catch(e){return void s.onSign({status:"rejected"})}if(!o)return void s.onSign({status:"rejected"});s.onSign({status:"success"});const d=[...e];if(d.forEach(((e,t)=>{e.addSignature(new i.PublicKey(u),o?.[t])})),d?.length!==e?.length)throw new Error("Failed to sign the transactions");await p({transactions:d,commitment:n,transactionData:t,callbacks:s})}catch(t){l.error(t),e({message:t.toString(),variant:"warning"})}finally{s.onEnd()}}),[s,e,p,m,c,t,u])}}},"../../libs/shared/dist/features/whatsNew/modals/WhatsNewRebrand/index.js":(e,t,s)=>{s.d(t,{j:()=>x});var a=s("../../../node_modules/react/jsx-runtime.js"),i=s("../../../node_modules/react/index.js"),n=s("../../../node_modules/react-i18next/dist/es/useTranslation.js"),r=s("../../libs/shared/dist/assets/WhatsNew/Ext_Step_1.mp4"),o=s("../../libs/shared/dist/assets/WhatsNew/Ext_Step_2.mp4"),d=s("../../libs/shared/dist/assets/WhatsNew/Ext_Step_3.mp4"),l=s("../../libs/shared/dist/features/featureFlags/index.js"),c=s("../../../node_modules/react-router/dist/index.js"),u=s("../../libs/foundation-ui/dist/index.js"),m=s("../../libs/shared/dist/storage/solflareService.js"),p=s("../../libs/shared/dist/utils/extension.js"),f=s("../../libs/shared/dist/utils/featureFlags.js");const h=({starts:e,ends:t,storageKey:s,cta:r,logInfo:{page:o,namespace:d},...h})=>{const{t:b}=(0,n.$)(),x=(0,c.TH)(),[g,k]=(0,i.useState)(!1),y="/onboard/success"===x.state?.from,j=(0,i.useCallback)((async()=>{await m.Z.whatsNew.setField(s,!0),k(!1),f.Z.pl(o)}),[s]),v=(0,i.useCallback)((async e=>{(0,l.FA)(d,e+1),j()}),[d,j]);if((0,i.useEffect)((()=>{(async()=>{if(y)return void j();const a=await m.Z.whatsNew.getField(s),i=new Date;k((!e||i>=e)&&(!t||i<=t)&&!a)})()}),[]),(0,i.useEffect)((()=>{g&&f.Z.pv(o)}),[g]),!g)return null;const w=p.p1&&!p.Cy;return(0,a.jsx)(u.WhatsNew,{...h,onClose:v,cta:{title:r.title,action:()=>{(0,l.tR)(d),r.action(),j()}},backTitle:b("action_back"),nextTitle:b("action_next"),isFullPageModal:w})},b=[{videoSrc:r,duration:7e3},{videoSrc:o,duration:7e3},{videoSrc:d,duration:7e3}],x=()=>{const{t:e}=(0,n.$)(),[t,s]=(0,i.useState)(!0);return t?(0,a.jsx)(h,{steps:b,cta:{title:e("action_continue"),action:()=>s(!1)},storageKey:"rebrand",logInfo:{page:l.n4,namespace:l.Ve}}):null}},"../../libs/shared/dist/hooks/useDebounce.js":(e,t,s)=>{s.d(t,{N:()=>i});var a=s("../../../node_modules/react/index.js");const i=(e,t=300)=>{const[s,i]=(0,a.useState)(e);return(0,a.useEffect)((()=>{const s=setTimeout((()=>{i(e)}),t);return()=>{clearTimeout(s)}}),[e,t]),s}},"../../libs/shared/dist/hooks/usePortfolioWidgets.js":(e,t,s)=>{s.d(t,{W:()=>d});var a=s("../../../node_modules/react/index.js"),i=s("../../libs/shared/dist/features/nfts/hooks/useNftData.js"),n=s("../../libs/shared/dist/features/portfolio/queries/index.js"),r=s("../../libs/shared/dist/features/stakingCore/hooks/useStakingAccounts.js"),o=s("../../libs/shared/dist/hooks/useDebounce.js");const d=()=>{const{isPending:e,isFetching:t,isPlaceholderData:s,isError:d}=(0,n.yo)(),{isPending:l,isError:c,isFetching:u,isPlaceholderData:m}=(0,i.c)(),{isPending:p,isError:f,isFetching:h,isPlaceholderData:b}=(0,r.k)(),x=(0,o.N)(t&&!s,150),g=(0,o.N)(u&&!m,150),k=(0,o.N)(h&&!b,150);return{tokensWidget:(0,a.useMemo)((()=>({isShimmerTokens:x,isPendingTokens:e,isErrorTokens:d})),[x,e,d]),nftsWidget:(0,a.useMemo)((()=>({isShimmerNft:g,isPendingNft:l,isErrorNft:c})),[g,l,c]),stakingWidget:(0,a.useMemo)((()=>({isShimmerStaking:k,isPendingStaking:p,isErrorStaking:f})),[k,p,f]),totalPortfolio:(0,a.useMemo)((()=>({shimmer:x||g||k,pending:e||l||p,error:d||c||f})),[x,g,k,e,l,p,d,c,f])}}},"../../libs/shared/dist/hooks/useSolanaBalance/index.js":(e,t,s)=>{s.d(t,{h:()=>l});var a=s("../../../node_modules/@tanstack/react-query/build/modern/useQuery.js"),i=s("../../libs/shared/dist/constants/mints.js"),n=s("../../libs/shared/dist/features/currencies/hooks/index.js"),r=s("../../libs/shared/dist/features/globalConfig/hooks/index.js"),o=s("../../libs/shared/dist/features/portfolio/api/index.js"),d=s("../../libs/shared/dist/features/walletData/hooks/index.js");const l=()=>{const{data:e,isPending:t}=(()=>{const{publicKey:e}=(0,d.rT)(),t=(0,r.LN)(),s=(0,n.Af)();return(0,a.a)({queryKey:["tokens",e,t.url,s.ticker],queryFn:()=>(0,o.lz)(e||"",t.cluster,s.ticker),refetchInterval:6e4,enabled:!!e})})(),s=e?.tokens?.find((e=>e.mint===i.BH));return{isPending:t,lamports:s?.accounts?.[0]?.amount||0,price:s?.price?.price||0,usdPrice:s?.price?.usdPrice||0}}},"../../libs/shared/dist/utils/calculatePortfolioPercentage.js":(e,t,s)=>{s.d(t,{K:()=>o});var a=s("../../../node_modules/bignumber.js/bignumber.js"),i=s.n(a),n=s("../../libs/shared/dist/utils/lamportToSol.js"),r=s("../../../node_modules/console-browserify/index.js");const o=(e,t,s)=>{try{const a="fiat"===e?.heroUi?.priceCurrencyDisplay,r=new(i())(e?.heroUi?.totalRaw||0),o=new(i())(e?.heroUi?.totalChangeRaw||0),d=r.minus(o),l=new(i())(a?t?.currencyTotalFloor?.price||0:t?.totalFloor?.price||0),c=new(i())(a?t?.currencyTotalFloor?.change||0:t?.totalFloor?.change||0),u=l.minus(c),m=new(i())(s?.header?.totalAmount||0),p=(0,n.s)(m.toString());let f,h;if(a){const e=new(i())(s?.header?.price?.price||0),t=new(i())(s?.header?.price?.change||0);f=p.multipliedBy(e);const a=e.minus(t);h=p.multipliedBy(a)}else f=p,h=p;const b=r.plus(l).plus(f),x=d.plus(u).plus(h),g=b.minus(x),k=x.isZero()?new(i())(0):g.div(x).times(100);return{totalChange:g.toString(),percentChange:k.toFixed(2),totalNow:b.toString()}}catch(e){return r.error("Error calculating total percentage:",e),{totalChange:"0",percentChange:"0",totalNow:"0"}}}},"../../libs/shared/dist/utils/calculatePortfolioValue.js":(e,t,s)=>{s.d(t,{b:()=>o});var a=s("../../../node_modules/bignumber.js/bignumber.js"),i=s.n(a),n=s("../../libs/shared/dist/utils/lamportToSol.js"),r=s("../../../node_modules/console-browserify/index.js");const o=(e,t,s)=>{try{const a="fiat"===e?.heroUi?.priceCurrencyDisplay,r=new(i())(e?.heroUi?.totalRaw||0),o=new(i())(a?t?.currencyTotalFloor?.price||0:t?.totalFloor?.price||0),d=new(i())(s?.header?.totalAmount||0),l=new(i())(a?s?.header?.price?.price||0:1);if(!(r.isFinite()&&o.isFinite()&&d.isFinite()&&l.isFinite()))return{value:"0",hasError:!0};const c=(0,n.s)(d.toString()).multipliedBy(l);return{value:r.plus(o).plus(c).toString(),hasError:!1}}catch(e){return r.error("Error calculating total portfolio value:",e),{value:"0",hasError:!0}}}},"../../libs/shared/dist/utils/common.js":(e,t,s)=>{s.d(t,{T4:()=>n,T7:()=>d,iP:()=>o,w9:()=>r});var a=s("../../../node_modules/bignumber.js/bignumber.js"),i=s.n(a);const n=e=>{const t=Number(e);return!(isNaN(t)||t<0)},r=(e,t)=>{const s=e.split(".")[1]?.length;return!s||t>=s},o=(e,t)=>{const s=new(i())(e).dp(t??99,i().ROUND_FLOOR);return s.toFixed(s.dp()??0)},d=e=>e.replace(/,/g,"")},"../../libs/shared/dist/utils/iconMap.js":(e,t,s)=>{s.d(t,{q:()=>i});const a={mdSentimentSatisfied:"sentiment_satisfied",mdClose:"close",mdAdd:"add",mdSearch:"search",mdArrowBack:"arrow_back",mdDeleteOutline:"delete_outline",mdMoreVert:"more_vert",mdWallet:"wallet",mdGridView:"grid_view",mdSwapHoriz:"swap_horiz",mdHistory:"history",mdSettings:"settings",mdSchedule:"schedule",mdQuestionMark:"question_mark",mdHighlightOff:"highlight_off",mdMoveDown:"move_down",mdPushPin:"push_pin",mdDragIndicator:"drag_indicator",mdInfoI:"info_i",mdError:"error",mdLocalOffer:"local_offer",mdReceipt:"receipt",mdBackspace:"backspace",mdPhonelinkRing:"phonelink_ring",mdBarChart:"bar_chart",mdCandlestickChart:"candlestick_chart",mdDiamond:"diamond",mdPhoneAndroid:"phone_android",mdReportGmailerrorred:"report_gmailerrorred",mdNorthEast:"north_east",mdSouthEast:"south_east",mdPageInfo:"page_info",mdBlock:"block",mdTrophy:"trophy",mdCode:"code",mdCodeOff:"code_off",mdFingerprint:"fingerprint",mdHome:"home",mdBluetooth:"bluetooth",mdRestoreFromTrash:"restore_from_trash",mdListAlt:"list_alt",mdLock:"lock",mdKey:"key",mdChevronLeft:"chevron_left",mdArrowUpward:"arrow_upward",mdWarningAmber:"warning_amber",mdUsb:"usb",mdArrowDownward:"arrow_downward",mdDatabase:"database",mdViewColumn2:"view_column_2",mdSort:"sort",mdLogin:"login",mdHub:"hub",mdMms:"mms",mdShare:"share",mdMessage:"message",mdMonitorHeart:"monitor_heart",mdInfo:"info",mdQrCode:"qr_code",mdCollections:"collections",mdLiveHelp:"live_help",mdShield:"shield",mdLocalGasStation:"local_gas_station",mdTimer:"timer",mdContactPage:"contact_page",mdPublic:"public",mdAttachMoney:"attach_money",mdMarkunreadMailbox:"markunread_mailbox",mdBugReport:"bug_report",mdContentCopy:"content_copy",mdSaveAlt:"save_alt",mdEdit:"edit",mdBrush:"brush",mdDescription:"description",mdVisibility:"visibility",mdVisibilityOff:"visibility_off",mdVerticalAlignBottom:"vertical_align_bottom",mdSend:"send",mdTune:"tune",mdOpenInNew:"open_in_new",mdKeyboardArrowDown:"keyboard_arrow_down",mdUnfoldMore:"unfold_more",mdKeyboardArrowUp:"keyboard_arrow_up",mdChevronRight:"chevron_right",mdLanguage:"language",mdArrowForward:"arrow_forward",mdCheck:"check",mdRotateLeft:"rotate_left",mdNotificationsNone:"notifications_none",mdLink:"link",mdBolt:"bolt",mdAccountCircle:"account_circle",mdPaid:"paid",mdExclamation:"exclamation",mdStore:"store",mdImageNotSupported:"image_not_supported",mdList:"list",mdParagliding:"paragliding",mdSwapVert:"swap_vert",mdLocalFireDepartment:"local_fire_department",mdWebAsset:"web_asset",mdDeployedCode:"deployed_code",mdCheckCircleOutline:"check_circle_outline",mdStar:"star",mdSavings:"savings",mdMerge:"merge",mdToll:"toll",mdCropFree:"crop_free",mdInventory:"inventory",mdDoneAll:"done_all",mdStyle:"style",mdPercent:"percent",mdSortByAlpha:"sort_by_alpha",mdLinkOff:"link_off",mdHourglassEmpty:"hourglass_empty",mdCleaningServices:"cleaning_services",mdMenu:"menu",mdDragHandle:"drag_handle",mdUpload:"upload",mdRocket:"rocket",mdCreditCard:"credit_card",faWavePulse:"captive_portal",faArrowRight:"arrow_forward",faPiggyBank:"savings",faCoins:"database",faCoin:"paid",faDisplayChartUp:"chart_data",faParachuteBox:"featured_seasonal_and_gifts",faImage:"image",faImagesUser:"switch_account",faFaceTongueMoney:"payments",faSackDollar:"money_bag",faFaceSmile:"sentiment_satisfied",faSun:"light_mode",faCirclePlay:"play_circle",faCircleExclamation:"error",faTrophy:"trophy",faCrown:"crown",faCircleInfo:"info",faPercent:"percent",faTimer:"timer",faClockSeven:"clock",faTriangleExclamation:"warning_amber",faCalendarDays:"calendar_month"};function i(e){return a[e||""]||"question_mark"}},"../../libs/shared/dist/utils/lamportToSol.js":(e,t,s)=>{s.d(t,{m:()=>o,s:()=>r});var a=s("../../../node_modules/@solana/web3.js/lib/index.browser.esm.js"),i=s("../../../node_modules/bignumber.js/bignumber.js"),n=s.n(i);const r=e=>new(n())(e).dividedBy(a.LAMPORTS_PER_SOL),o=e=>new(n())(e).times(a.LAMPORTS_PER_SOL)},"../../libs/shared/dist/utils/tokenAccounts.js":(e,t,s)=>{s.d(t,{d:()=>d});var a=s("../../libs/shared/node_modules/@solana/spl-token/lib/esm/constants.js"),i=s("../../libs/shared/node_modules/@solana/spl-token/lib/esm/state/mint.js"),n=s("../../../node_modules/@solana/web3.js/lib/index.browser.esm.js");const r=new Map,o={native:void 0,"spl-token":a.H_,"spl-token-2022":a.nA},d=(e,t,s="spl-token")=>{if(r.has(`${e}-${t}`))return r.get(`${e}-${t}`);const a=(0,i.MO)(new n.PublicKey(e),new n.PublicKey(t),!0,o[s])?.toString();return r.set(`${e}-${t}`,a),a}},"../../libs/shared/dist/utils/units.js":(e,t,s)=>{s.d(t,{d:()=>n,z:()=>r});var a=s("../../../node_modules/bignumber.js/bignumber.js"),i=s.n(a);const n=(e,t)=>{const s=new(i())(10).pow(t);return new(i())(e.toString()).div(s).toFixed()},r=(e,t)=>{const s=new(i())(10).pow(t);return new(i())(e).times(s).toFixed(0,i().ROUND_FLOOR)}},"../../libs/shared/dist/assets/EmptyStates/activity-empty.png":(e,t,s)=>{e.exports=s.p+"static/assets/activity-empty.077e50d7..png"},"../../libs/shared/dist/assets/WhatsNew/Ext_Step_1.mp4":(e,t,s)=>{e.exports=s.p+"static/assets/Ext_Step_1.76cb33d5..mp4"},"../../libs/shared/dist/assets/WhatsNew/Ext_Step_2.mp4":(e,t,s)=>{e.exports=s.p+"static/assets/Ext_Step_2.731ac531..mp4"},"../../libs/shared/dist/assets/WhatsNew/Ext_Step_3.mp4":(e,t,s)=>{e.exports=s.p+"static/assets/Ext_Step_3.5d32e605..mp4"},"../../libs/shared/dist/assets/error.svg":(e,t,s)=>{e.exports=s.p+"static/assets/error.e00d31c9..svg"},"../../libs/shared/dist/assets/nft-default-img-white-bg.svg":(e,t,s)=>{e.exports=s.p+"static/assets/nft-default-img-white-bg.82b9284c..svg"},"../../libs/shared/dist/assets/solana-logo-grey.svg":(e,t,s)=>{e.exports=s.p+"static/assets/solana-logo-grey.fc212baf..svg"},"../../libs/shared/dist/components/ConfirmationHelpers/assets/pfp_in.json":e=>{e.exports=JSON.parse('{"v":"5.9.0","fr":60,"ip":0,"op":31,"w":1000,"h":1000,"nm":"PFP_Intro","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"Boolean","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"s":true,"x":{"a":0,"k":500,"ix":3},"y":{"a":1,"k":[{"i":{"x":[0.04],"y":[1]},"o":{"x":[0.35],"y":[0]},"t":0,"s":[1509]},{"t":24,"s":[500]}],"ix":4}},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":0,"k":[239.946,239.946,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":20,"s":[{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[24.558,-24.558],[24.558,24.558],[-24.558,24.558],[-24.558,-24.558]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":22,"s":[{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-24.531,24.487],[24.558,24.558],[-24.558,24.558],[-24.558,-24.558]],"c":true}]},{"t":27,"s":[{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[24.558,-24.558],[24.558,24.558],[-24.558,24.558],[-24.558,-24.558]],"c":true}]}],"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tr","p":{"a":0,"k":[52.095,-61.212],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":315,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":1,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":20,"s":[{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[24.558,-24.558],[-24.558,-24.558],[-24.558,24.558],[24.558,24.558]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":22,"s":[{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[24.558,-24.558],[-24.558,-24.558],[-24.558,24.558],[-24.487,-24.531]],"c":true}]},{"t":27,"s":[{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[24.558,-24.558],[-24.558,-24.558],[-24.558,24.558],[24.558,24.558]],"c":true}]}],"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tr","p":{"a":0,"k":[-52.095,-61.212],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":225,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":1,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[208.381,-34.73],[208.381,17.365],[182.333,43.413],[164.968,43.413],[164.968,125.897],[82.484,208.381],[-82.484,208.381],[-164.968,125.897],[-164.968,43.413],[-182.333,43.413],[-208.381,17.365],[-208.381,-34.73],[-182.333,-60.778],[-164.968,-60.778],[-164.968,-125.897],[-82.484,-208.381],[82.484,-208.381],[164.968,-125.897],[164.968,-60.778],[182.333,-60.778]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 3","np":1,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[82.484,-21.706],[-82.484,-21.706],[-39.071,21.706],[39.071,21.706]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tr","p":{"a":0,"k":[0,134.579],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 4","np":1,"cix":2,"bm":0,"ix":4,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[112.873,91.167],[78.143,56.437],[112.873,21.706],[112.873,-60.778],[60.778,-112.873],[34.296,-112.873],[0,-78.577],[-34.296,-112.873],[-60.778,-112.873],[-112.873,-60.778],[-112.873,21.706],[-78.143,56.437],[-112.873,91.167],[-112.873,112.873],[112.873,112.873]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tr","p":{"a":0,"k":[0,-43.413],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 5","np":1,"cix":2,"bm":0,"ix":5,"mn":"ADBE Vector Group","hd":false},{"ty":"mm","mm":5,"nm":"Merge Paths 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"fl","c":{"a":0,"k":[0.964705884457,0.972549021244,0.996078431606,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":7,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":31,"st":0,"bm":0}],"markers":[]}')},"../../libs/shared/dist/components/ConfirmationHelpers/assets/pfp_out.json":e=>{e.exports=JSON.parse('{"v":"5.9.0","fr":60,"ip":0,"op":31,"w":1000,"h":1000,"nm":"PFP_Outro","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"Boolean","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"s":true,"x":{"a":0,"k":500,"ix":3},"y":{"a":1,"k":[{"i":{"x":[0.88],"y":[0.46]},"o":{"x":[0.7],"y":[0]},"t":10,"s":[500]},{"t":30,"s":[-504]}],"ix":4}},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":0,"k":[239.946,239.946,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":2,"s":[{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[24.558,-24.558],[24.558,24.558],[-24.558,24.558],[-24.558,-24.558]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":4,"s":[{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-24.678,24.634],[24.558,24.558],[-24.558,24.558],[-24.558,-24.558]],"c":true}]},{"t":11,"s":[{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[24.558,-24.558],[24.558,24.558],[-24.558,24.558],[-24.558,-24.558]],"c":true}]}],"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tr","p":{"a":0,"k":[52.095,-61.212],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":315,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":1,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":2,"s":[{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[24.558,-24.558],[-24.558,-24.558],[-24.558,24.558],[24.558,24.558]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":4,"s":[{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[24.558,-24.558],[-24.558,-24.558],[-24.558,24.558],[-24.487,-24.531]],"c":true}]},{"t":11,"s":[{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[24.558,-24.558],[-24.558,-24.558],[-24.558,24.558],[24.558,24.558]],"c":true}]}],"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tr","p":{"a":0,"k":[-52.095,-61.212],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":225,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":1,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[208.381,-34.73],[208.381,17.365],[182.333,43.413],[164.968,43.413],[164.968,125.897],[82.484,208.381],[-82.484,208.381],[-164.968,125.897],[-164.968,43.413],[-182.333,43.413],[-208.381,17.365],[-208.381,-34.73],[-182.333,-60.778],[-164.968,-60.778],[-164.968,-125.897],[-82.484,-208.381],[82.484,-208.381],[164.968,-125.897],[164.968,-60.778],[182.333,-60.778]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 3","np":1,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[82.484,-21.706],[-82.484,-21.706],[-39.071,21.706],[39.071,21.706]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tr","p":{"a":0,"k":[0,134.579],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 4","np":1,"cix":2,"bm":0,"ix":4,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[112.873,91.167],[78.143,56.437],[112.873,21.706],[112.873,-60.778],[60.778,-112.873],[34.296,-112.873],[0,-78.577],[-34.296,-112.873],[-60.778,-112.873],[-112.873,-60.778],[-112.873,21.706],[-78.143,56.437],[-112.873,91.167],[-112.873,112.873],[112.873,112.873]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tr","p":{"a":0,"k":[0,-43.413],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 5","np":1,"cix":2,"bm":0,"ix":5,"mn":"ADBE Vector Group","hd":false},{"ty":"mm","mm":5,"nm":"Merge Paths 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"fl","c":{"a":0,"k":[0.964705884457,0.972549021244,0.996078431606,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":7,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":61,"st":0,"bm":0}],"markers":[]}')}}]);