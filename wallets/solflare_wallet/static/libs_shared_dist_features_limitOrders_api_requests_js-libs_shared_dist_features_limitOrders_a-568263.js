(self.webpackChunk_solflare_extension=self.webpackChunk_solflare_extension||[]).push([["libs_shared_dist_features_limitOrders_api_requests_js-libs_shared_dist_features_limitOrders_a-568263"],{"../../libs/shared/dist/features/limitOrders/api/requests.js":(e,s,t)=>{"use strict";t.d(s,{FS:()=>a,ht:()=>o,x0:()=>n});var i=t("../../libs/shared/dist/api/index.js"),r=t("../../libs/shared/dist/constants/index.js");const n=async(e,s="USD")=>{const t={wallet:e,currency:s},{body:n}=await(0,i.U2)(`${r.JF}/v2/trade/limit-orders/list?${new URLSearchParams(t).toString()}`);return n},a=async(e,s="USD")=>{const t={wallet:e,currency:s},{body:n}=await(0,i.U2)(`${r.JF}/v2/trade/limit-orders/list-history?${new URLSearchParams(t).toString()}`);return n},o=async({inMint:e,outMint:s,inAmount:t,price:n,feeBps:a})=>{const{body:o}=await(0,i.U2)(`${r.JF}/v2/trade/limit-orders/quote?inMint=${e}&outMint=${s}&inAmount=${t}&price=${n}&feeBps=${a}`);return o}},"../../libs/shared/dist/features/limitOrders/api/transactions.js":(e,s,t)=>{"use strict";t.d(s,{L:()=>l,s:()=>o});var i=t("../../../node_modules/@solana/web3.js/lib/index.browser.esm.js"),r=t("../../../node_modules/base64-js/index.js"),n=t("../../libs/shared/dist/api/index.js"),a=t("../../libs/shared/dist/constants/index.js");const o=async({publicKey:e,orders:s,setComputeBudget:t})=>{const o={wallet:e,orders:s,setComputeBudget:t},{body:l}=await(0,n.v_)(`${a.JF}/v2/trade/limit-orders/orders-delete`,o);return{transaction:i.VersionedTransaction.deserialize(r.toByteArray(l.txs[0])),data:{...l}}},l=async({publicKey:e,inAmount:s,outAmount:t,inMint:o,outMint:l,expiredAt:d,setComputeBudget:c})=>{const u={wallet:e,inAmount:s,outAmount:t,inMint:o,outMint:l,setComputeBudget:c};void 0!==d&&(u.expiredAt=d);const{body:m}=await(0,n.v_)(`${a.JF}/v2/trade/limit-orders/order-create`,u);return{transaction:i.VersionedTransaction.deserialize(r.toByteArray(m.txs[0])),data:{...m}}}},"../../libs/shared/dist/features/limitOrders/components/index.js":(e,s,t)=>{"use strict";t.d(s,{E:()=>Y.E,W:()=>z});var i=t("../../../node_modules/react/jsx-runtime.js"),r=t("../../../node_modules/react/index.js"),n=t("../../../node_modules/@mui/styles/makeStyles/makeStyles.js"),a=t("../../libs/foundation-ui/dist/index.js"),o=t("../../libs/rise-ui/dist/index.js"),l=t("../../libs/shared/dist/utils/extension.js"),d=t("../../libs/shared/dist/features/trading/context/index.js"),c=t("../../../node_modules/react-i18next/dist/es/useTranslation.js"),u=t("../../../node_modules/lodash/lodash.js"),m=t("../../../node_modules/@mui/material/Box/Box.js"),p=t("../../../node_modules/@mui/material/TableHead/TableHead.js"),h=t("../../../node_modules/@mui/material/TableRow/TableRow.js"),x=t("../../../node_modules/@mui/material/TableCell/TableCell.js"),g=t("../../../node_modules/@mui/material/TableBody/TableBody.js"),j=t("../../../node_modules/@tanstack/react-query/build/modern/QueryClientProvider.js"),_=t("../../libs/shared/dist/features/transactionFlow/context/index.js"),b=t("../../libs/shared/dist/features/walletData/hooks/index.js"),v=t("../../libs/shared/dist/features/limitOrders/api/index.js");const f=()=>{const{t:e}=(0,c.$)(),{transactionInit:s}=(0,_.p)(),{publicKey:t}=(0,b.rT)(),i=(0,j.NL)();return{cancel:(0,r.useCallback)((async(r,n)=>{await s({txBuilder:v.sl,builderParams:{publicKey:t,orders:[r.orderKey],setComputeBudget:!0},commitment:"confirmed",title:e("limit_orders_cancel_order_confirmation_title"),onConfirm:async()=>{i.resetQueries({queryKey:["openOrders"]})}})}),[t,i,s,e])}};var y=t("../../../node_modules/@tanstack/react-query/build/modern/useQuery.js"),w=t("../../libs/shared/dist/features/currencies/hooks/index.js"),k=t("../../libs/shared/dist/components/index.js"),S=t("../../libs/shared/dist/utils/displayPrice.js"),T=t("../../libs/shared/dist/utils/units.js");const I=({order:e,mints:s,showOrderDetails:t})=>{const{t:r}=(0,c.$)(),{cancel:n}=f(),l=s[e.mintOutput],d=(0,T.d)(e.amountOutput,l?.decimals),u=(0,T.d)(e.amountInput-e.amountInputLeft,l?.decimals),m=s[e.mintInput],p=(0,T.d)(e.amountInput,m?.decimals),g=s[e.mintFrom],j=s[e.mintDenomination],_=`${+u?(0,S.ED)({amount:u,displayType:"value"}):0}/${(0,S.ED)({amount:d,displayType:"value"})} ${l?.symbol}`,b=+e.price;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.Uo,{bp:"lg",match:"down",children:(0,i.jsxs)(a.OrderCard,{onClick:()=>t({order:e,sellToken:m,buyToken:l,fromMint:g,denominationMint:j}),header:(0,i.jsx)(a.OrderCardHeader,{label:r("buy_label"),value:(0,S.ED)({amount:d,displayType:"value"}),avatar:(0,i.jsx)(k.yY,{size:"s",src:l?.logoUrl||void 0,alt:"Order value",verified:l?.verified}),right:(0,i.jsx)(a.Button,{size:"s",variant:"secondary",onClick:s=>{s.stopPropagation(),n(e,m)},children:r("action_cancel")})}),progress:(0,i.jsx)(a.OrderProgressLine,{value:(e.amountOutput-e.amountOutputLeft)*BigInt(100)/e.amountOutput+"%"}),children:[(0,i.jsx)(a.OrderCardFooterLeft,{label:r("sell_label"),value:(0,S.ED)({amount:p,displayType:"value"}),avatar:(0,i.jsx)(k.yY,{size:"xs",src:m?.logoUrl||void 0,alt:"Order value",verified:m?.verified})}),"buy"===e.direction?(0,i.jsx)(a.OrderCardFooterRight,{label:r("buy_at_price_label",{token:g?.symbol}),value:(0,S.ED)({amount:b,displayType:"value"}),avatar:(0,i.jsx)(k.yY,{size:"xs",src:j?.logoUrl||void 0,alt:"Order value",verified:j?.verified})}):(0,i.jsx)(a.OrderCardFooterRight,{label:r("sell_at_price_label",{token:g?.symbol}),value:(0,S.ED)({amount:b,displayType:"value"}),avatar:(0,i.jsx)(k.yY,{size:"xs",src:j?.logoUrl||void 0,alt:"Order value",verified:j?.verified})})]},`open-order-${e.orderKey}`)}),(0,i.jsx)(o.Uo,{bp:"lg",match:"up",children:(0,i.jsxs)(h.Z,{hover:!0,onClick:()=>t({order:e,sellToken:m,buyToken:l,fromMint:g,denominationMint:j}),children:[(0,i.jsx)(x.Z,{scope:"row",children:(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"5px"},children:[(0,i.jsx)(k.yY,{size:"xs",src:l?.logoUrl||void 0,alt:"Order value",verified:l?.verified})," ",(0,S.ED)({amount:d,displayType:"value"})]})}),(0,i.jsx)(x.Z,{scope:"row",children:(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"5px"},children:[(0,i.jsx)(k.yY,{size:"xs",src:m?.logoUrl||void 0,alt:"Order value",verified:m?.verified})," ",(0,S.ED)({amount:p,displayType:"value"})]})}),(0,i.jsx)(x.Z,{scope:"row",children:(e.direction,(0,i.jsxs)(i.Fragment,{children:[(0,S.ED)({amount:b,displayType:"value"})," ",j?.symbol," per ",g?.symbol]}))}),(0,i.jsx)(x.Z,{scope:"row",children:_}),(0,i.jsx)(x.Z,{children:(0,i.jsx)(a.Button,{size:"s",variant:"secondary",onClick:s=>{s.stopPropagation(),n(e,m)},children:r("action_cancel")})})]})})]})};var C=t("../../libs/shared/dist/modals/index.js"),O=t("../../libs/shared/dist/utils/humanDate.js");const E=({order:e,buyToken:s,sellToken:t,fromMint:r,denominationMint:n,onClose:o,onCancelOrder:l})=>{const{t:d}=(0,c.$)(),u=(0,T.d)(e.amountOutput,s?.decimals),m=(0,T.d)(e.amountInput,t?.decimals),p=(0,T.d)((e.amountOutput-e.amountOutputLeft)/e.amountOutput,s?.decimals),h=`${+p?(0,S.ED)({amount:p,displayType:"value"}):0}/${u}`,x=(e.amountOutput-e.amountOutputLeft)*BigInt(100)/e.amountOutput+"%";return(0,i.jsx)(C.V$,{title:d("limit_orders_open_order_details_title"),onClose:o,footer:(0,i.jsx)(a.ButtonGroup,{children:(0,i.jsx)(a.Button,{variant:"destructive",onClick:l,children:d("limit_orders_open_order_details_cta")})}),children:(0,i.jsx)(a.Section,{children:(0,i.jsxs)(a.DetailsSection,{children:[(0,i.jsx)(a.DetailsSectionRow,{title:d("buy_label"),children:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(k.yY,{size:"s",src:s?.logoUrl||void 0,verified:s?.verified}),u," ",s?.symbol]})}),(0,i.jsx)(a.Divider,{fullWidthNegativeMargin:!0}),(0,i.jsx)(a.DetailsSectionRow,{title:d("sell_label"),children:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(k.yY,{size:"s",src:t?.logoUrl||void 0,verified:t?.verified}),m," ",t?.symbol]})}),(0,i.jsx)(a.Divider,{fullWidthNegativeMargin:!0}),(0,i.jsx)(a.DetailsSectionRow,{title:d("buy_at_price_label",{token:r?.symbol}),children:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(k.yY,{size:"s",src:n?.logoUrl||void 0,verified:n?.verified}),+e.price," ",n?.symbol]})}),(0,i.jsx)(a.Divider,{fullWidthNegativeMargin:!0}),(0,i.jsx)(a.DetailsSectionRow,{title:d("limit_orders_open_order_details_filled_size"),children:(0,i.jsxs)(i.Fragment,{children:[h,(0,i.jsx)(a.TextXS,{children:x})]})}),(0,i.jsx)(a.Divider,{fullWidthNegativeMargin:!0}),(0,i.jsx)(a.DetailsSectionRow,{title:d("limit_orders_open_order_details_expiry"),children:e.expiredAt?(0,O.pz)(e.expiredAt):d("limit_orders_open_order_details_expiry_never")})]})})})},F=(0,n.Z)((()=>({emptyStateContainer:{padding:"50px 0px 74px 0px"}}))),A=({children:e})=>{const{t:s}=(0,c.$)();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.Uo,{bp:"lg",match:"up",children:(0,i.jsx)(m.Z,{p:2,children:(0,i.jsxs)(o.iA,{children:[(0,i.jsx)(p.Z,{children:(0,i.jsxs)(h.Z,{children:[(0,i.jsx)(x.Z,{align:"left",children:s("buy_label")}),(0,i.jsx)(x.Z,{align:"left",children:s("sell_label")}),(0,i.jsx)(x.Z,{align:"left",children:s("limit_price_label")}),(0,i.jsx)(x.Z,{align:"left",children:s("limit_orders_open_order_details_filled_size")}),(0,i.jsx)(x.Z,{sx:{width:[50,110,110,110,110]}})]})}),(0,i.jsx)(g.Z,{children:e})]})})}),(0,i.jsx)(o.Uo,{bp:"lg",match:"down",children:(0,i.jsx)(a.List,{gapSize:"gapM",children:e})})]})},U=()=>{const{t:e}=(0,c.$)(),{orders:s,mints:t,isPending:n}=(()=>{const{publicKey:e}=(0,b.rT)(),s=(0,w.Af)(),{data:{orders:t,mints:i}={},isPending:r,isFetching:n}=(0,y.a)({queryKey:["openOrders",e,s.ticker],queryFn:()=>(0,v.x0)(e,s.ticker),refetchInterval:5e3});return{orders:t,mints:i,isPending:r,isFetching:n}})(),{cancel:l}=f(),d=F(),[m,p]=(0,r.useState)();return n?(0,i.jsx)(A,{children:(0,u.times)(4).map(((e,s)=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.Uo,{bp:"lg",match:"down",children:(0,i.jsx)(a.OrderCard,{isLoading:n},`loading-order-card-${s}`)}),(0,i.jsx)(o.Uo,{bp:"lg",match:"up",children:(0,i.jsxs)(h.Z,{children:[(0,i.jsx)(x.Z,{scope:"row",children:(0,i.jsx)(a.Skeleton,{width:"70px",height:"16px"})}),(0,i.jsx)(x.Z,{scope:"row",children:(0,i.jsx)(a.Skeleton,{width:"70px",height:"16px"})}),(0,i.jsx)(x.Z,{scope:"row",children:(0,i.jsx)(a.Skeleton,{width:"70px",height:"16px"})}),(0,i.jsx)(x.Z,{scope:"row",children:(0,i.jsx)(a.Skeleton,{width:"70px",height:"16px"})}),(0,i.jsx)(x.Z,{scope:"row"})]})})]})))}):(0,u.isEmpty)(s)||(0,u.isEmpty)(t)?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.Uo,{bp:"lg",match:"down",children:(0,i.jsx)(a.EmptyState,{children:(0,i.jsxs)(a.Paragraph,{textAlign:"center",children:[" ",e("limit_orders_empty_open_orders_tab")]})})}),(0,i.jsx)(o.Uo,{bp:"lg",match:"up",children:(0,i.jsx)("div",{className:d.emptyStateContainer,children:(0,i.jsx)(a.EmptyState,{children:(0,i.jsxs)(a.Paragraph,{textAlign:"center",children:[" ",e("limit_orders_empty_open_orders_tab")]})})})})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(A,{children:s&&t&&s.map((e=>(0,i.jsx)(I,{order:e,mints:t,showOrderDetails:p},`open-order-${e.orderKey}`)))}),m&&(0,i.jsx)(E,{...m,onClose:()=>p(void 0),onCancelOrder:()=>{l(m.order,m.sellToken),p(void 0)}})]})};var D=t("../../../node_modules/dayjs/dayjs.min.js"),B=t.n(D);const P=({order:e,buyToken:s,sellToken:t,fromMint:r,denominationMint:n,onClose:o})=>{const{t:l}=(0,c.$)(),d=(0,T.d)(e.amountOutput,s.decimals),u=(0,T.d)(e.amountInput,t.decimals);return(0,i.jsx)(C.V$,{title:l("limit_orders_completed_order_details_title"),onClose:o,children:(0,i.jsx)(a.Section,{children:(0,i.jsxs)(a.DetailsSection,{children:[(0,i.jsxs)(a.DetailsSectionRow,{title:l("limit_orders_completed_order_details_date_completed"),children:["`$",B()(e.updatedAt).format("YYYY MMMM D")," $",l("at_time")," $",B()(e.updatedAt).format("HH:mm:ss"),"`"]}),(0,i.jsx)(a.Divider,{fullWidthNegativeMargin:!0}),(0,i.jsx)(a.DetailsSectionRow,{title:l("bought_label"),children:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(k.yY,{size:"s",src:s.logoUrl||void 0,verified:s.verified}),d," ",s.symbol]})}),(0,i.jsx)(a.Divider,{fullWidthNegativeMargin:!0}),(0,i.jsx)(a.DetailsSectionRow,{title:l("sold_label"),children:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(k.yY,{size:"s",src:t.logoUrl||void 0,verified:t.verified}),u," ",t.symbol]})}),(0,i.jsx)(a.Divider,{fullWidthNegativeMargin:!0}),(0,i.jsx)(a.DetailsSectionRow,{title:l("bought_at_price_label",{token:r.symbol}),children:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(k.yY,{size:"s",src:n.logoUrl||void 0,verified:n.verified}),+e.price," ",n.symbol]})})]})})})},$=({order:e,mints:s,showOrderDetails:t})=>{const{t:r}=(0,c.$)(),n=s[e.mintOutput],l=(0,T.d)(e.amountOutput,n?.decimals),d=s[e.mintInput],u=(0,T.d)(e.amountInput,d?.decimals),m=s[e.mintFrom],p=s[e.mintDenomination],g=+e.price;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.Uo,{bp:"lg",match:"down",children:(0,i.jsxs)(a.OrderCard,{onClick:()=>t({order:e,sellToken:d,buyToken:n,fromMint:m,denominationMint:p}),header:(0,i.jsx)(a.OrderCardHeader,{label:r("bought_label"),value:(0,S.ED)({amount:l,displayType:"value"}),avatar:(0,i.jsx)(k.yY,{size:"s",src:n?.logoUrl||void 0,alt:"Order value",verified:n?.verified}),right:e.updatedAt?(0,O.rN)(e.updatedAt,!1,!1):"",state:"success"}),progress:(0,i.jsx)(a.OrderProgressLine,{value:(e.amountOutput-e.amountOutputLeft)*BigInt(100)/e.amountOutput+"%"}),children:[(0,i.jsx)(a.OrderCardFooterLeft,{label:r("sold_label"),value:(0,S.ED)({amount:u,displayType:"value"}),avatar:(0,i.jsx)(k.yY,{size:"xs",src:d?.logoUrl||void 0,alt:"Order value",verified:d?.verified})}),"buy"===e.direction?(0,i.jsx)(a.OrderCardFooterRight,{label:r("bought_at_price_label",{token:m?.symbol}),value:(0,S.ED)({amount:g,displayType:"value"}),avatar:(0,i.jsx)(k.yY,{size:"xs",src:p?.logoUrl||void 0,alt:"Order value",verified:p?.verified})}):(0,i.jsx)(a.OrderCardFooterRight,{label:r("sold_at_price_label",{token:m?.symbol}),value:(0,S.ED)({amount:g,displayType:"value"}),avatar:(0,i.jsx)(k.yY,{size:"xs",src:p?.logoUrl||void 0,alt:"Order value",verified:p?.verified})})]},`OderHistory-${e.orderKey}`)}),(0,i.jsx)(o.Uo,{bp:"lg",match:"up",children:(0,i.jsxs)(h.Z,{hover:!0,onClick:()=>t({order:e,sellToken:d,buyToken:n,fromMint:m,denominationMint:p}),children:[(0,i.jsx)(x.Z,{scope:"row",children:(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"5px"},children:[(0,i.jsx)(k.yY,{size:"xs",src:n?.logoUrl||void 0,alt:"Order value",verified:n?.verified})," ",(0,S.ED)({amount:l,displayType:"value"})]})}),(0,i.jsx)(x.Z,{scope:"row",children:(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"5px"},children:[(0,i.jsx)(k.yY,{size:"xs",src:d?.logoUrl||void 0,alt:"Order value",verified:d?.verified})," ",(0,S.ED)({amount:u,displayType:"value"})]})}),(0,i.jsx)(x.Z,{scope:"row",children:(e.direction,(0,i.jsxs)(i.Fragment,{children:[(0,S.ED)({amount:g,displayType:"value"})," ",p?.symbol," per ",m?.symbol]}))}),(0,i.jsx)(x.Z,{scope:"row",children:e.updatedAt?(0,O.rN)(e.updatedAt,!1,!1):""}),(0,i.jsx)(x.Z,{scope:"row"})]})})]})},M=(0,n.Z)((()=>({emptyStateContainer:{padding:"50px 0px 74px 0px"}}))),Z=({children:e})=>{const{t:s}=(0,c.$)();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.Uo,{bp:"lg",match:"up",children:(0,i.jsx)(m.Z,{p:2,children:(0,i.jsxs)(o.iA,{children:[(0,i.jsx)(p.Z,{children:(0,i.jsxs)(h.Z,{children:[(0,i.jsx)(x.Z,{align:"left",children:s("bought_label")}),(0,i.jsx)(x.Z,{align:"left",children:s("sold_label")}),(0,i.jsx)(x.Z,{align:"left",children:s("limit_price_label")}),(0,i.jsx)(x.Z,{align:"left",children:s("time_completed_label")}),(0,i.jsx)(x.Z,{sx:{width:[50,110,110,110,110]}})]})}),(0,i.jsx)(g.Z,{children:e})]})})}),(0,i.jsx)(o.Uo,{bp:"lg",match:"down",children:(0,i.jsx)(a.List,{gapSize:"gapM",children:e})})]})},L=()=>{const{t:e}=(0,c.$)(),{orders:s,mints:t,isPending:n}=(()=>{const{publicKey:e}=(0,b.rT)(),s=(0,w.Af)(),{data:{orders:t,mints:i}={},isPending:r}=(0,y.a)({queryKey:["orders-history",e,s.ticker],queryFn:()=>(0,v.FS)(e,s.ticker)});return{orders:t,mints:i,isPending:r}})(),l=M(),[d,m]=(0,r.useState)();return n?(0,i.jsx)(Z,{children:(0,u.times)(4).map(((e,s)=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.Uo,{bp:"lg",match:"down",children:(0,i.jsx)(a.OrderCard,{isLoading:n},`loading-order-card-${s}`)}),(0,i.jsx)(o.Uo,{bp:"lg",match:"up",children:(0,i.jsxs)(h.Z,{children:[(0,i.jsx)(x.Z,{scope:"row",children:(0,i.jsx)(a.Skeleton,{width:"70px",height:"16px"})}),(0,i.jsx)(x.Z,{scope:"row",children:(0,i.jsx)(a.Skeleton,{width:"70px",height:"16px"})}),(0,i.jsx)(x.Z,{scope:"row",children:(0,i.jsx)(a.Skeleton,{width:"70px",height:"16px"})}),(0,i.jsx)(x.Z,{scope:"row",children:(0,i.jsx)(a.Skeleton,{width:"70px",height:"16px"})}),(0,i.jsx)(x.Z,{scope:"row"})]})})]})))}):(0,u.isEmpty)(s)||(0,u.isEmpty)(t)?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.Uo,{bp:"lg",match:"down",children:(0,i.jsx)(a.EmptyState,{children:(0,i.jsx)(a.Paragraph,{textAlign:"center",children:e("limit_orders_empty_order_history_tab")})})}),(0,i.jsx)(o.Uo,{bp:"lg",match:"up",children:(0,i.jsx)("div",{className:l.emptyStateContainer,children:(0,i.jsx)(a.EmptyState,{children:(0,i.jsx)(a.Paragraph,{textAlign:"center",children:e("limit_orders_empty_order_history_tab")})})})})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(Z,{children:s&&t&&s.map((e=>(0,i.jsx)($,{order:e,mints:t,showOrderDetails:m},`order-history-${e.orderKey}`)))}),d&&(0,i.jsx)(P,{...d,onClose:()=>m(void 0)})]})},R=(0,n.Z)((()=>({ordersWebContainer:{display:"flex",flexDirection:"column",width:"420px",padding:"0px 16px",borderRadius:"10px"}}))),N=({children:e})=>{const s=R();return l.UJ?(0,i.jsx)(i.Fragment,{children:e}):(0,i.jsx)("div",{className:s.ordersWebContainer,children:e})},z=()=>{const{activeTab:e}=(0,d.s)(),[s,t]=(0,r.useState)("open-orders");return"swap"===e?null:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.Uo,{bp:"lg",match:"down",children:(0,i.jsx)(N,{children:(0,i.jsx)(a.TabsContainer,{activeTab:s,onChange:t,tabs:[{value:"open-orders",label:"Open orders",content:(0,i.jsx)(U,{})},{value:"order-history",label:"Order history",content:(0,i.jsx)(L,{})}]})})}),(0,i.jsx)(o.Uo,{bp:"lg",match:"up",children:(0,i.jsx)(o.xf,{defaultActiveTab:"openOrders",tabOrder:["openOrders","orderHistory"],tabs:{openOrders:{tabName:"Open orders",render:(0,i.jsx)(U,{})},orderHistory:{tabName:"Order history",render:(0,i.jsx)(L,{})}}})})]})};var Y=t("../../libs/shared/dist/features/limitOrders/components/LimitOrders/index.js")},"../../libs/shared/dist/features/limitOrders/constants.js":(e,s,t)=>{"use strict";t.d(s,{U:()=>i});const i=.05},"../../libs/shared/dist/features/swap/api/requests.js":(e,s,t)=>{"use strict";t.d(s,{m:()=>a});var i=t("../../libs/shared/dist/api/index.js"),r=t("../../libs/shared/dist/constants/index.js"),n=t("../../libs/shared/dist/utils/extension.js");const a=async({publicKey:e,inputMint:s,outputMint:t,amount:a,slippageBps:o,feeBps:l})=>{try{const d=n.p1?"extension":"web",{body:c}=await(0,i.U2)(`${r.JF}/v2/swap/quote?address=${e}&fromMint=${s}&toMint=${t}&amount=${a}&slippageBps=${o}&feeBps=${l}&deviceType=${d}`);return c}catch(e){return{}}}},"../../libs/shared/dist/features/swap/components/index.js":(e,s,t)=>{"use strict";t.d(s,{H:()=>o,B:()=>l.B});var i=t("../../../node_modules/react/jsx-runtime.js"),r=t("../../../node_modules/react-i18next/dist/es/useTranslation.js"),n=t("../../libs/foundation-ui/dist/index.js");const a=()=>{},o=()=>{const{t:e}=(0,r.$)();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.PageTitle,{center:e("header_swap"),textAlign:"left"}),(0,i.jsx)(n.PageContent,{overflow:!0,children:(0,i.jsx)(n.Swap,{children:(0,i.jsxs)(n.SwapAssets,{children:[(0,i.jsx)(n.SwapInput,{isLoading:!0,placeholder:"0.00",id:"fromDefault",selectedToken:{},onSelectedTokenChange:a,label:(0,i.jsx)(n.Label,{htmlFor:"fromDefault",children:e("from_swap")}),right:(0,i.jsx)(n.RightLabel,{children:e("swap_max")}),tokens:[],maxTitle:e("action_max")}),(0,i.jsx)(n.SwapDivider,{onClick:a,disabled:!0}),(0,i.jsx)(n.SwapInput,{isLoading:!0,placeholder:"0.00",id:"fromDefault",selectedToken:{},onSelectedTokenChange:a,label:(0,i.jsx)(n.Label,{htmlFor:"fromDefault",children:e("to_swap")}),right:(0,i.jsx)(n.RightLabel,{children:e("table_balance")}),tokens:[],maxTitle:e("action_max")})]})})}),(0,i.jsxs)(n.FooterActions,{children:[(0,i.jsx)(n.InfoBox,{message:e("swap_mainnet_alert_description"),title:e("swap_mainnet_alert_header"),variant:"info"}),(0,i.jsx)(n.Button,{disabled:!0,children:e("action_swap")})]})]})};var l=t("../../libs/shared/dist/features/swap/components/SwapForm/index.js")},"../../libs/shared/dist/features/swap/constants.js":(e,s,t)=>{"use strict";t.d(s,{P:()=>i,R:()=>r});const i=22,r=80},"../../libs/shared/dist/features/trading/constants.js":(e,s,t)=>{"use strict";t.d(s,{$x:()=>a,BI:()=>o,EM:()=>r,El:()=>c,JB:()=>x,Ko:()=>u,Mp:()=>d,PY:()=>p,RK:()=>m,j2:()=>g,k4:()=>i,tB:()=>n,yR:()=>h,zI:()=>l});const i={tokenId:"",amount:"",value:"",isAta:!1,isUnknown:!1,verified:!0,decimals:0,price:"0",usdPrice:0,rawAmount:"",rawValue:"",name:"",symbol:"",logoURI:""},r={FIFTEEN_MINUTES:15,ONE_HOUR:60,ONE_DAY:1440,THREE_DAYS:4320,SEVER_DAYS:10080,THIRTY_DAYS:43200,NINETY_DAYS:129600,NEVER:99999999},n=r.NEVER,a=[.5,1,2,5],o="auto",l=o,d=1,c=.5,u=5,m=.005,p="SOL",h=2,x=0,g=50},"../../libs/shared/dist/features/trading/context/index.js":(e,s,t)=>{"use strict";t.d(s,{g:()=>v,s:()=>f});var i=t("../../../node_modules/react/jsx-runtime.js"),r=t("../../../node_modules/react/index.js"),n=t("../../../node_modules/react-router/dist/index.js"),a=t("../../../node_modules/bignumber.js/bignumber.js"),o=t.n(a),l=t("../../../node_modules/lodash/lodash.js"),d=t("../../../node_modules/qs/lib/index.js"),c=t.n(d),u=t("../../libs/shared/dist/constants/mints.js"),m=t("../../libs/shared/dist/storage/solflareService.js");const p=(e,s,t)=>{if("string"!=typeof s)return e;const i=s.trim();if(i===t)return[];const r=e.find((e=>e.tokenId===i));return r?[r]:e.filter((e=>e.name?.toLowerCase().includes(i.toLowerCase())||e.symbol?.toLowerCase().includes(i.toLowerCase())))},h=e=>{const s=e.filter((e=>{const s=e.tokenId===u.Jb,t=e.tokenId===u.BH,i=!!+e.rawAmount,r=e.swapable;return s||!t&&i&&r}));return(0,l.orderBy)(s,[e=>+e.rawValue,e=>e.name.toLowerCase()],["desc","asc"])},x=e=>(0,l.orderBy)(e,[e=>e.volume24h??0,e=>e.name.toLowerCase()],["desc","asc"]);var g=t("../../libs/shared/dist/features/trading/constants.js"),j=t("../../libs/shared/dist/features/trading/hooks/index.js"),_=t("../../libs/shared/dist/features/trading/utils/index.js");const b=(0,r.createContext)(null),v=({children:e})=>{const s=(0,n.s0)(),[t,a]=(0,r.useState)("swap"),{id:d}=(0,n.UO)(),v=(0,n.TH)(),{queryFromToken:f,queryToToken:y}=(0,r.useMemo)((()=>{let e=null,s=null;const t=c().parse(v.search?.substring(1)||"");return t.from&&"string"==typeof t.from&&(e=t.from),t.to&&"string"==typeof t.to&&(s=t.to),{queryFromToken:e,queryToToken:s}}),[v]),w=d||null,k=(0,r.useRef)(!0),[S,T]=(0,r.useState)([]),[I,C]=(0,r.useState)([]),[O,E]=(0,r.useState)([]),[F,A]=(0,r.useState)(g.k4),[U,D]=(0,r.useState)(g.k4),[B,P]=(0,r.useState)(!1),[$,M]=(0,r.useState)(),[Z,L]=(0,r.useState)({value:0,label:"0"}),[R,N]=(0,r.useState)(g.EM.NEVER),[z,Y]=(0,r.useState)(""),[q,K]=(0,r.useState)(null),[V,H]=(0,r.useState)(null),{result:{portfolioTokens:J,isTokensLoading:W},tokensQuery:Q}=(0,j.xu)(q||"",[w,f,y].filter(Boolean)),{result:{tokens:G,isTokensLoading:X}}=(0,j.xu)(V||"",[w,f,y].filter(Boolean)),ee=(0,r.useMemo)((()=>{if(F.tokenId===u.Jb){const e=new(o())(F.rawAmount).minus(g.RK).toString();return Math.max(+e,0)}return F.rawAmount}),[F.rawAmount,F.tokenId]);(0,r.useEffect)((()=>{G.length&&E((e=>{const s=[...G,...e];return(0,l.uniqBy)(s,"tokenId")}))}),[G]),(0,r.useEffect)((()=>{if(O.length&&k.current){if(w){const e=O.find((e=>e.tokenId===w))||g.k4,s=O.find((e=>e.tokenId===u.Xz))||g.k4,t=O.find((e=>e.tokenId===u.Jb))||g.k4;return k.current=!1,w===u.BH?0==+t.amount&&+s.amount>0?(A(s),void D(t)):(A(t),void D(s)):w===u.Xz?+s.amount>0?(A(s),void D(t)):(A(t),void D(s)):0==+e.amount?(A(t),void D(e)):(A(e),void D(t))}if(f&&y){const e=J.find((e=>e.tokenId===f))||g.k4,s=O.find((e=>e.tokenId===y))||g.k4;return A(e),D(s),void(k.current=!1)}const e=h(J),s=x(O);return T(e),C(s),A(s[0]),D(s[1]),void(k.current=!1)}if(!k.current&&J.length&&F?.tokenId&&O.length&&U?.tokenId){const e=J.find((e=>e.tokenId===F.tokenId)),s=O.find((e=>e.tokenId===U.tokenId));e&&e.rawAmount!==F.rawAmount&&A(e),s&&s.rawAmount!==U.rawAmount&&D(s)}}),[J,O]),(0,r.useEffect)((()=>{if(J.length){const e=h(J);T(p(e,q||""))}}),[q,J]),(0,r.useEffect)((()=>{if(O.length){const e=x(O);C(p(e,V||""))}}),[V,O]);const se=(0,r.useCallback)((async({refetch:e,slippage:s,expiry:t})=>{P(!1),M({refetch:e,slippage:s,expiry:t})}),[]),te=(0,r.useCallback)((e=>{a(e);const t=w?`/portfolio/${w}`:"/trade";s("swap"!==e?`${t}/limit`:t)}),[s,w]);(0,r.useEffect)((()=>{(async()=>{const e=await m.Z.swapSlippageValue.get();L({value:(0,_.fq)(e),label:String(e??g.zI)});const s=await m.Z.limitOrderExpiry.get();null!==s&&await m.Z.limitOrderExpiry.set(g.tB),N(s??g.tB)})()}),[]);const ie=(0,r.useMemo)((()=>({activeTab:t,setActiveTab:te,selectedFromCoin:F,setSelectedFromCoin:A,selectedToCoin:U,setSelectedToCoin:D,fromCoins:S,toCoins:I,fromAmount:z,setFromAmount:Y,maxFromBalance:ee,fromSearchParam:q,setFromSearchParam:K,toSearchParam:V,setToSearchParam:H,portfolioTokenId:w,queryFromToken:f,queryToToken:y,fromTokens:J,toTokens:O,tokensQuery:Q,openSettings:B,setOpenSettings:P,settingsData:$,setSettingsData:M,slippage:Z,setSlippage:L,expiry:R,setExpiry:N,closeSettings:se,isFromTokensLoading:W,isToTokensLoading:X})),[t,te,F,U,S,I,z,ee,q,V,w,f,y,J,O,Q,B,$,Z,R,se,W,X]);return(0,i.jsx)(b.Provider,{value:ie,children:e})},f=()=>{const e=(0,r.useContext)(b);if(!e)throw new Error("useSharedTradingStateContext must be used within a SharedTradingStateProvider");return e}},"../../libs/shared/dist/features/trading/hooks/index.js":(e,s,t)=>{"use strict";t.d(s,{xB:()=>_,xu:()=>u,vJ:()=>x});var i=t("../../../node_modules/react/index.js"),r=t("../../../node_modules/bignumber.js/bignumber.js"),n=t.n(r),a=t("../../libs/shared/dist/constants/mints.js"),o=t("../../libs/shared/dist/utils/displayPrice.js"),l=t("../../libs/shared/dist/utils/truncateMiddle.js"),d=t("../../libs/shared/dist/features/currencies/hooks/index.js"),c=t("../../libs/shared/dist/features/trading/queries/index.js");const u=(e="",s=null)=>{const t=(0,d.Af)(),r=(0,c.Kc)((e||"").trim()),u=(0,c.tT)();return{result:(0,i.useMemo)((()=>{if(u?.data?.length&&r?.data?.tokens?.length){const e=u.data.reduce(((e,s)=>(e[s.tokenId]=s,e)),{}),i=e[a.Jb],d=e[a.BH];let c=d.rawValue,m=d.rawAmount;i&&(m=new(n())(i.rawAmount).plus(d.rawAmount).toString(),c=new(n())(i.rawValue).plus(d.rawValue).toString()),e[a.Jb]={...d,tokenId:a.Jb,amount:(0,o.ED)({amount:m,displayType:"amount"}),rawAmount:m,value:+c?(0,o.ED)({prefix:t.symbol,amount:c,displayType:"value",pricePerCoin:d.usdPrice}):"",rawValue:c};const p={},h=r.data.tokens.map((t=>{s?.length&&s.includes(t.mint)&&(p[t.mint]=!0),e[t.mint]&&(e[t.mint].pinned=t.pinned);const i=e[t.mint];return i?{...i,volume24h:t.volume24h?.total}:{tokenId:t.mint,name:t.name||(0,l.r)(t.mint),symbol:t.symbol,logoURI:t.imageUri,isUnknown:!t.name,isAta:!1,decimals:t.decimals,verified:t.verified,pinned:t.pinned,value:"",rawAmount:"",rawValue:"",amount:"",price:String(t.price?.price??0),usdPrice:t.price?.usdPrice??0,volume24h:t.volume24h?.total}})),x=u.data.map((t=>{s?.length&&s.includes(t.tokenId)&&(p[t.tokenId]=!0),e[t.tokenId]&&(e[t.tokenId].pinned=t.pinned);const i=e[t.tokenId];return i?{...i,volume24h:t.volume24h}:{tokenId:t.tokenId,name:t.name||(0,l.r)(t.tokenId),symbol:t.symbol,logoURI:t.logoURI,isUnknown:!t.name,isAta:!1,decimals:t.decimals,verified:t.verified,pinned:t.pinned,value:"",rawAmount:"",rawValue:"",amount:"",price:String(t.price??0),usdPrice:t.usdPrice??0,volume24h:t.volume24h,swapable:t.swapable}}));if(s?.length)for(const t of s)e[t]&&p[t]&&h.push({...e[t],volume24h:0});if(!x.some((e=>e.tokenId===a.Jb))){const s=e[a.Jb];s&&x.push(s)}return{portfolioTokens:x,tokens:h,isTokensLoading:u.isPending||r.isPending}}return{portfolioTokens:[],tokens:[],isTokensLoading:u.isPending||r.isPending}}),[u.dataUpdatedAt,u.status,r.dataUpdatedAt,r.status]),tokensQuery:u,swapQuery:r}};var m=t("../../../node_modules/react-i18next/dist/es/useTranslation.js"),p=t("../../libs/shared/dist/features/trading/constants.js");const h={INSUFFICIENT_SOL:{title:"insufficient_ticker",message:"swap_alert_ensure_minimum"},INSUFFICIENT_TICKER:{swap:{title:"insufficient_ticker",message:"swap_alert_no_sufficient_balance"},limit:{title:"insufficient_ticker",message:"swap_alert_no_sufficient_balance"}},NO_QUOTES:{swap:{title:"swap_qoutes_not_available_title",message:"swap_qoutes_not_available_description"},limit:{title:"swap_qoutes_not_available_title",message:"swap_qoutes_not_available_description"}},PRICE_IMPACT:{title:"swap_unfavorable_trade_price_impact_warning_title",message:"swap_unfavorable_trade_warning_description"},SLIPPAGE_HIGH_VALUE:{title:"swap_settings_slippage_warning_high_value_title",message:"swap_settings_slippage_warning_high_value_auto_slippage"}},x=({variant:e,solBalance:s,selectedFromCoin:t,fromAmount:r,priceImpact:n,maxFromBalance:a,hasQuoteData:l,isQuoteLoading:d,dataUpdatedAt:c,isError:u=!1,slippage:x,slippageBps:g})=>{const{t:j}=(0,m.$)();return{alertProps:(0,i.useMemo)((()=>s<p.RK&&+r>0?{variant:"error",title:j(h.INSUFFICIENT_SOL.title,{ticker:p.PY}),message:j(h.INSUFFICIENT_SOL.message,{amountWithSuffix:`${p.RK} ${p.PY}`})}:Math.abs(Date.now()-c)<100&&r&&!d&&(u||!l)?{variant:"error",title:j(h.NO_QUOTES[e].title),message:j(h.NO_QUOTES[e].message)}:+r>+a?{variant:"error",title:j(h.INSUFFICIENT_TICKER[e].title,{ticker:t.symbol}),message:j(h.INSUFFICIENT_TICKER[e].message)}:n&&n>p.yR?{variant:"warning",title:j(h.PRICE_IMPACT.title,{impact:(0,o.ED)({amount:n,suffix:"%",displayType:"medium"})}),message:j(h.PRICE_IMPACT.message)}:x&&g&&x===p.BI&&g>100*p.Ko?{variant:"warning",message:j(h.SLIPPAGE_HIGH_VALUE.message),title:j(h.SLIPPAGE_HIGH_VALUE.title)}:null),[s,r,c,d,u,l,a,n,x,g,j,e,t.symbol])}};var g=t("../../libs/shared/dist/utils/common.js"),j=t("../../libs/shared/dist/features/trading/utils/index.js");const _=(e="")=>{const{t:s}=(0,m.$)();return{infoBoxMessage:(0,i.useMemo)((()=>{if(""===e)return null;if(e===p.BI)return null;const t=(0,j.mS)(e);if(!(0,g.T4)(t))return{message:s("swap_settings_slippage_error_invalid_value"),title:s("swap_settings_slippage_error_invalid_value_title"),variant:"error"};const i=+t;return i<p.JB||i>p.j2?{message:s("swap_settings_slippage_error_invalid_value"),title:s("swap_settings_slippage_error_invalid_value_title"),variant:"error"}:i<p.El?{message:s("swap_settings_slippage_warning_low_value"),title:s("swap_settings_slippage_warning_low_value_title"),variant:"warning"}:i>p.Ko?{message:s("swap_settings_slippage_warning_high_value"),title:s("swap_settings_slippage_warning_high_value_title"),variant:"warning"}:null}),[s,e])}}},"../../libs/shared/dist/features/trading/modals/index.js":(e,s,t)=>{"use strict";t.d(s,{A:()=>f});var i=t("../../../node_modules/react/jsx-runtime.js"),r=t("../../../node_modules/react/index.js"),n=t("../../../node_modules/react-i18next/dist/es/useTranslation.js"),a=t("../../../node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js"),o=t("../../../node_modules/lodash/lodash.js"),l=t("../../libs/foundation-ui/dist/index.js"),d=t("../../libs/shared/dist/modals/index.js"),c=t("../../libs/shared/dist/utils/common.js"),u=t("../../libs/shared/dist/components/UniversalDrawer/index.js");const m=({onClose:e,onDiscard:s})=>{const{t}=(0,n.$)();return(0,i.jsx)(u.Z,{open:!0,backAction:(0,i.jsx)(l.IconWithAction,{icon:"arrow_back",size:"m",onClick:e}),title:t("discard_changes_title"),footer:(0,i.jsxs)(l.ButtonGroup,{children:[(0,i.jsx)(l.Button,{variant:"secondary",onClick:e,children:t("action_keep_editing")}),(0,i.jsx)(l.Button,{variant:"destructive",onClick:s,children:t("action_confirm")})]}),children:(0,i.jsx)(l.Paragraph,{size:"s",children:t("discard_changes_content")})})};var p=t("../../libs/shared/dist/features/trading/constants.js");const h=(0,a.Z)("div")({maxWidth:"86px"}),x=({slippage:e,onChange:s,onBlur:t,onFocus:a,error:o})=>{const{t:d}=(0,n.$)(),c=parseFloat(e.endsWith("%")?e.slice(0,-1):e),[u,m]=(0,r.useState)(e===p.BI),[x,g]=(0,r.useState)(void 0===p.$x.find((s=>s.toString().concat("%")===e)));return(0,i.jsxs)(l.SlippageContent,{children:[(0,i.jsxs)(l.SlippageDefaultContent,{children:[(0,i.jsx)(l.ListItemNarrowWithToggle,{title:d("swap_auto_slippage_label"),checked:u,onCheckedChange:e=>{m(e),g(!1),s(e?p.BI:p.Mp.toString())}}),(0,i.jsx)(l.Paragraph,{size:"s",children:d(u?"swap_settings_auto_slippage_description":"swap_settings_slippage_description")})]}),!u&&(0,i.jsxs)(l.PillPicker,{children:[p.$x.map((e=>(0,i.jsx)(l.PillPickerPill,{size:"m",active:!x&&e===c,onClick:t=>{t.stopPropagation(),g(!1),s(e.toString())},children:e.toString().concat("%")},e))),(0,i.jsx)(h,{children:(0,i.jsx)(l.Input,{placeholder:d("swap_custom_slippage_placeholder"),onChange:e=>{s(e.target.value)},selected:x,value:x?e:"",inputType:"input",onBlur:t,onFocus:()=>{x||s(""),g(!0),a?.()},variant:o?"error":"default",align:"center"})})]})]})};var g=t("../../libs/shared/dist/features/trading/hooks/index.js"),j=t("../../libs/shared/dist/features/trading/utils/index.js");const _=(0,a.Z)("div")({display:"flex",flexDirection:"column",gap:"24px",height:"100%"}),b=(0,a.Z)("div")({display:"flex",flexDirection:"column",gap:"12px"}),v=(0,a.Z)("div")({flex:1}),f=({onClose:e,slippageValue:s,expiryValue:t})=>{const[a,u]=(0,r.useState)((0,j.$4)(s)),[h,f]=(0,r.useState)(t||p.EM.NEVER),[y,w]=(0,r.useState)(!1),k=(0,r.useMemo)((()=>a!==`${s}%`&&a!==s),[a,s]),{t:S}=(0,n.$)(),{infoBoxMessage:T}=(0,g.xB)(a),I=(0,r.useCallback)((async e=>{e!==p.BI?"."!==e?(0,c.T4)(e)&&(0,c.w9)(e,2)&&u(e.trim()):u("0."):u(p.BI)}),[]),C=(0,r.useCallback)((()=>{e({refetch:!1,slippage:(0,j.Y8)(a),expiry:h})}),[e,a,h]),O=(0,r.useCallback)((()=>{e({refetch:!0,slippage:(0,j.Y8)(a),expiry:h})}),[e,a,h]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d.V$,{onClose:()=>{k?w(!0):C()},title:S("trading_settings_modal_title"),onSubmit:O,children:(0,i.jsxs)(_,{children:[(0,i.jsx)(v,{children:(0,i.jsx)(l.Section,{children:(0,i.jsx)(x,{onBlur:()=>{u((e=>e?e.endsWith("%")?e:`${Math.abs(+e)}%`:""))},onFocus:()=>{u((e=>e.endsWith("%")?e.slice(0,-1):e))},onChange:I,slippage:a,error:"error"===T?.variant})})}),(0,i.jsx)(l.Section,{children:(0,i.jsxs)(b,{children:[T&&(0,i.jsx)(l.InfoBox,{variant:T.variant,title:T.title,message:T.message}),(0,i.jsx)(l.ButtonGroup,{children:(0,i.jsx)(l.Button,{disabled:!k||(0,o.isEmpty)(a)||"error"===T?.variant,type:"submit",children:S("action_save")})})]})})]})}),y&&(0,i.jsx)(m,{onClose:()=>w(!1),onDiscard:C})]})}},"../../libs/shared/dist/features/trading/utils/index.js":(e,s,t)=>{"use strict";t.d(s,{$4:()=>n,Y8:()=>a,fq:()=>r,mS:()=>o});var i=t("../../libs/shared/dist/features/trading/constants.js");const r=e=>{const s=e??i.zI;return"auto"===s?"auto":Math.round(100*+s)},n=e=>e===i.BI?i.BI:`${e}%`,a=e=>e===i.BI?e:+o(e),o=e=>e.split("%")[0]},"?4860":()=>{}}]);